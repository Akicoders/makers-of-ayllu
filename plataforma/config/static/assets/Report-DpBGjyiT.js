import{j as e,S as j,B as d,e as b,p as n}from"./react-sWiKbk-Z.js";import{A as g}from"./AppLayout-BJnk0JD9.js";import{E as v}from"./EnhancedDataTable-BPwqwYJ3.js";import{u as k}from"./useExcelDownload-TVslJZpk.js";import"./inertia-Dgc5Zg7U.js";import"./axios-ngrFHoWO.js";import"./vendor-Z5AVMo_k.js";import"./app-DEFaNKxM.js";const F=({mypurchases:o})=>{const{downloading:i,downloadUrl:c,downloadFilename:m,exportExcel:x,downloadExcel:p}=k(),u=[{key:"vendedor",title:"Vendedor"},{key:"paquete",title:"PAQUETE"},{key:"credits",title:"CRÃ‰DITOS"},{key:"fecha",title:"FECHA"}],h=["credits","fecha"];return e.jsxs(g,{children:[e.jsx(j,{title:"Mis Compras"}),e.jsxs("div",{className:"p-4 md:p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Mis Compras"}),e.jsx(d,{icon:"pi pi-file-excel",label:"Exportar Excel",severity:"success",loading:i,onClick:()=>x("/mis-compras/reporte/export/",o.filters||{})})]}),i&&e.jsx("div",{className:"absolute inset-0 bg-slate-100/50 dark:bg-slate-900/50 z-10 flex items-center justify-center backdrop-blur-sm",children:e.jsx(b,{strokeWidth:"4",animationDuration:".5s",style:{width:"50px",height:"50px"}})}),c&&e.jsxs("div",{className:"p-4 bg-green-50 text-green-600 rounded-lg mb-4 mt-4 flex items-center",children:[e.jsx("i",{className:"pi pi-check-circle mr-2"}),e.jsx("span",{children:"Archivo listo:"}),e.jsxs("button",{className:"font-bold underline ml-2",onClick:p,children:["Descargar ",m]})]}),e.jsx(v,{data:o,headers:u,sortableColumns:h,routeSearch:"/vendedor/ventas/reporte/",placeholderSearch:"Buscar por cliente o correo...",renderFilters:(s,a,f)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-slate-700 dark:text-slate-300",children:"Desde"}),e.jsx(n,{value:s.date_from?new Date(s.date_from):null,onChange:l=>{const t=l.value;if(t&&!Array.isArray(t)){const r=t.toISOString().split("T")[0];a("date_from",r)}else a("date_from",null)},dateFormat:"yy-mm-dd",showIcon:!0,className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-slate-700 dark:text-slate-300",children:"Hasta"}),e.jsx(n,{value:s.date_to?new Date(s.date_to):null,onChange:l=>{const t=l.value;if(t&&!Array.isArray(t)){const r=t.toISOString().split("T")[0];a("date_to",r)}else a("date_to",null)},dateFormat:"yy-mm-dd",showIcon:!0,className:"w-full"})]}),e.jsx("div",{className:"md:col-span-2 flex items-end",children:e.jsx(d,{label:"Filtrar",onClick:()=>f(),icon:"pi pi-filter",className:"w-full md:w-auto"})})]})})]})]})};export{F as default};
