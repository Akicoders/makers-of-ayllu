import{G as g,r as l,j as e,e as S,M as $,I as A,h as I,B as h,x as F}from"./react-sWiKbk-Z.js";import{A as M}from"./AuthLayout-BW1xDVse.js";import"./inertia-Dgc5Zg7U.js";import"./axios-ngrFHoWO.js";import"./vendor-Z5AVMo_k.js";import"./FloatingConfigurator-DSB3k6EL.js";import"./app-DEFaNKxM.js";const G=({email:i,errors:z,success:x})=>{const{data:d,setData:f,post:b,processing:a,errors:s,clearErrors:j}=g({code:""}),n=g({}),[o,c]=l.useState(0),m=o===0,u=l.useRef(null),v=r=>r?Array.isArray(r)?r[0]:r:"";l.useEffect(()=>{let r;return o>0&&(r=setInterval(()=>{c(t=>t<=1?(clearInterval(r),0):t-1)},1e3)),()=>{r&&clearInterval(r)}},[o]),l.useEffect(()=>{c(60)},[]);const y=()=>{c(60)},N=r=>{r.preventDefault(),d.code.trim().length===6&&b("/verify-code/",{onSuccess:()=>{j()}})},k=()=>{m&&n.post("/resend-code/",{onSuccess:()=>{y()}})},w=l.useMemo(()=>{if(!i)return"";const r=i.split("@");if(r.length!==2)return i;const[t,p]=r;if(t.length<=2)return`${t[0]}*@${p}`;const C=t.substring(0,2),E=t.substring(t.length-1),R="*".repeat(Math.max(0,t.length-3));return`${C}${R}${E}@${p}`},[i]),_=e.jsxs("h1",{className:"text-5xl font-extrabold mb-6 leading-tight text-white",children:["Verifica tu ",e.jsx("span",{className:"text-brand-primary",children:"Correo"})]});return e.jsx(M,{title:_,subtitle:"Para completar el proceso de registro, por favor verifica tu dirección de correo electrónico. Hemos enviado un enlace de confirmación.",children:e.jsxs("div",{className:"w-full max-w-md mx-auto relative z-10",children:[(a||n.processing)&&e.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm rounded-xl",children:e.jsx(S,{strokeWidth:"4",animationDuration:".5s",style:{width:"50px",height:"50px"}})}),x&&e.jsx($,{severity:"success",className:"mb-6 w-full justify-start",text:x}),e.jsxs("div",{className:"text-center lg:text-left mb-8",children:[e.jsx("div",{className:"lg:hidden flex justify-center mb-6",children:e.jsx("i",{className:"pi pi-envelope text-5xl text-brand-primary"})}),e.jsx("div",{className:"inline-block p-4 rounded-full bg-brand-primary/10 mb-4 lg:hidden",children:e.jsx("i",{className:"pi pi-envelope text-4xl text-brand-primary"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Revisa tu bandeja de entrada"}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Hemos enviado un correo de verificación a ",e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:w})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-brand-light dark:bg-surface-0/5 rounded-xl p-6 border border-brand-primary/20 text-center lg:text-left",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:"Haz clic en el enlace del correo para activar tu cuenta. Si no lo encuentras, revisa tu carpeta de spam. Ingresa el código que recibiste aquí:"})}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 ml-1",children:"Código de Verificación"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:e.jsx("i",{className:"pi pi-lock text-slate-400"})}),e.jsx(A,{id:"code",value:d.code,onChange:r=>f("code",r.target.value),className:`w-full pl-12 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 text-slate-900 dark:text-white placeholder:text-slate-400 focus:border-cyan-500 focus:ring-4 focus:ring-cyan-500/10 transition-all duration-200 outline-none shadow-sm text-center tracking-[1em] font-mono text-lg ${s.code?"!border-red-500 focus:!ring-red-500/10":""}`,placeholder:"000000",maxLength:6})]}),e.jsx(I,{in:!!s.code,timeout:300,classNames:"slide-fade",unmountOnExit:!0,nodeRef:u,children:e.jsx("div",{ref:u,children:e.jsxs("div",{className:"mt-1.5 text-xs font-medium text-red-500 flex items-center gap-1",children:[e.jsx("i",{className:"pi pi-exclamation-circle"}),e.jsx("span",{children:v(s.code)})]})})})]}),s.__all__&&e.jsx("small",{className:"p-error mt-2 text-red-500 block",children:Array.isArray(s.__all__)?s.__all__[0]:s.__all__})]}),e.jsxs("div",{className:"w-full space-y-3",children:[e.jsx(h,{type:"submit",label:a?"Verificando...":"Verificar Código",icon:a?void 0:"pi pi-check",disabled:d.code.length!==6||a,loading:a,className:"w-full py-3.5 font-bold text-white bg-brand-primary hover:bg-brand-primary-dark rounded-lg shadow-lg hover:shadow-brand-primary/20 transition-all duration-200"}),e.jsx(h,{type:"button",onClick:k,disabled:!m||n.processing,loading:n.processing,className:"w-full py-3.5 font-medium text-gray-700 dark:text-gray-300 bg-transparent hover:bg-gray-100 dark:hover:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg transition-all duration-200",children:m?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-refresh mr-2"})," Reenviar Código"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"pi pi-clock mr-2"})," Reenviar en ",o,"s"]})}),e.jsxs("div",{className:"relative pt-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-700"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-brand-light dark:bg-surface-ground text-gray-500",children:"o"})})]}),e.jsx("div",{className:"text-center mt-2",children:e.jsxs(F,{href:"/logout/",method:"post",as:"button",type:"button",className:"text-sm text-brand-primary hover:text-brand-primary-dark font-medium transition-colors",children:[e.jsx("i",{className:"pi pi-power-off mr-1"})," Cerrar Sesión"]})})]})]})]})]})})};export{G as default};
