import{r as i,G as g,j as e,q as j,B as a,s as b,i as v}from"./react-sWiKbk-Z.js";import"./inertia-Dgc5Zg7U.js";import"./axios-ngrFHoWO.js";import"./vendor-Z5AVMo_k.js";const y=()=>{const r=i.useRef(null),[d,l]=i.useState(!1),{data:c,setData:u,post:m,processing:o,reset:x}=g({password:""}),f=t=>{t.preventDefault(),m("/perfil/delete-account/",{onSuccess:()=>{s()},onError:p=>{var n;const h=Object.values(p)[0];(n=r.current)==null||n.show({severity:"error",summary:"Error",detail:String(h),life:5e3})}})},s=()=>{l(!1),x()};return e.jsxs("div",{className:"p-6 bg-red-50 dark:bg-red-900/10 border-l-4 border-red-500 rounded-lg",children:[e.jsx(j,{ref:r}),e.jsx("h3",{className:"text-xl font-bold text-red-800 dark:text-red-300 mb-2",children:"Zona de Peligro"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400 mb-6",children:"Una vez que elimines tu cuenta, no hay vuelta atrás. Por favor, ten certeza de tu decisión."}),e.jsx(a,{label:"Eliminar Cuenta Permanentemente",severity:"danger",onClick:()=>l(!0),icon:"pi pi-trash"}),e.jsx(b,{visible:d,modal:!0,header:"¿Estás absolutamente seguro?",style:{width:"30rem"},onHide:s,children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:["Esta acción es ",e.jsx("strong",{children:"irreversible"})," y eliminará todos tus datos. Para confirmar, por favor ingresa tu contraseña."]}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"delete-password",className:"text-slate-700 dark:text-slate-300",children:"Contraseña"}),e.jsx(v,{id:"delete-password",value:c.password,onChange:t=>u("password",t.target.value),feedback:!1,toggleMask:!0,autoFocus:!0,className:"w-full",inputClassName:"w-full"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(a,{label:"Cancelar",text:!0,onClick:s,disabled:o}),e.jsx(a,{type:"submit",label:"Eliminar Mi Cuenta",severity:"danger",loading:o})]})]})]})})]})};export{y as default};
