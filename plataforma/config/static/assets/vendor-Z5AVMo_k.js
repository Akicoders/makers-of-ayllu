import{g as Ei,a as $0,c as _r}from"./react-sWiKbk-Z.js";var G0=function(e){return j0(e)&&!q0(e)};function j0(t){return!!t&&typeof t=="object"}function q0(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||X0(t)}var Y0=typeof Symbol=="function"&&Symbol.for,Q0=Y0?Symbol.for("react.element"):60103;function X0(t){return t.$$typeof===Q0}function Z0(t){return Array.isArray(t)?[]:{}}function mi(t,e){return e.clone!==!1&&e.isMergeableObject(t)?En(Z0(t),t,e):t}function J0(t,e,r){return t.concat(e).map(function(n){return mi(n,r)})}function ep(t,e){if(!e.customMerge)return En;var r=e.customMerge(t);return typeof r=="function"?r:En}function tp(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function Jl(t){return Object.keys(t).concat(tp(t))}function bf(t,e){try{return e in t}catch{return!1}}function rp(t,e){return bf(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function np(t,e,r){var n={};return r.isMergeableObject(t)&&Jl(t).forEach(function(i){n[i]=mi(t[i],r)}),Jl(e).forEach(function(i){rp(t,i)||(bf(t,i)&&r.isMergeableObject(e[i])?n[i]=ep(i,r)(t[i],e[i],r):n[i]=mi(e[i],r))}),n}function En(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||J0,r.isMergeableObject=r.isMergeableObject||G0,r.cloneUnlessOtherwiseSpecified=mi;var n=Array.isArray(e),i=Array.isArray(t),a=n===i;return a?n?r.arrayMerge(t,e,r):np(t,e,r):mi(e,r)}En.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,i){return En(n,i,r)},{})};var ip=En,ap=ip;const M2=Ei(ap);var Dn=TypeError;const sp={},op=Object.freeze(Object.defineProperty({__proto__:null,default:sp},Symbol.toStringTag,{value:"Module"})),Wa=$0(op);var Xo=typeof Map=="function"&&Map.prototype,As=Object.getOwnPropertyDescriptor&&Xo?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ya=Xo&&As&&typeof As.get=="function"?As.get:null,ec=Xo&&Map.prototype.forEach,Zo=typeof Set=="function"&&Set.prototype,Is=Object.getOwnPropertyDescriptor&&Zo?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ma=Zo&&Is&&typeof Is.get=="function"?Is.get:null,tc=Zo&&Set.prototype.forEach,lp=typeof WeakMap=="function"&&WeakMap.prototype,ai=lp?WeakMap.prototype.has:null,cp=typeof WeakSet=="function"&&WeakSet.prototype,si=cp?WeakSet.prototype.has:null,up=typeof WeakRef=="function"&&WeakRef.prototype,rc=up?WeakRef.prototype.deref:null,fp=Boolean.prototype.valueOf,dp=Object.prototype.toString,hp=Function.prototype.toString,pp=String.prototype.match,Jo=String.prototype.slice,Tr=String.prototype.replace,gp=String.prototype.toUpperCase,nc=String.prototype.toLowerCase,Cf=RegExp.prototype.test,ic=Array.prototype.concat,Zt=Array.prototype.join,yp=Array.prototype.slice,ac=Math.floor,fo=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ws=Object.getOwnPropertySymbols,ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,_n=typeof Symbol=="function"&&typeof Symbol.iterator=="object",oi=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===_n||!0)?Symbol.toStringTag:null,Sf=Object.prototype.propertyIsEnumerable,sc=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function oc(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Cf.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-ac(-t):ac(t);if(n!==t){var i=String(n),a=Jo.call(e,i.length+1);return Tr.call(i,r,"$&_")+"."+Tr.call(Tr.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Tr.call(e,r,"$&_")}var po=Wa,lc=po.custom,cc=Tf(lc)?lc:null,Ef={__proto__:null,double:'"',single:"'"},mp={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},$a=function t(e,r,n,i){var a=r||{};if(hr(a,"quoteStyle")&&!hr(Ef,a.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(hr(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=hr(a,"customInspect")?a.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(hr(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(hr(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var o=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return If(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return o?oc(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return o?oc(e,c):c}var u=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return go(e)?"[Array]":"[Object]";var f=Pp(a,n);if(typeof i>"u")i=[];else if(Af(i,e)>=0)return"[Circular]";function d(X,q,ee){if(q&&(i=yp.call(i),i.push(q)),ee){var ie={depth:a.depth};return hr(a,"quoteStyle")&&(ie.quoteStyle=a.quoteStyle),t(X,ie,n+1,i)}return t(X,a,n+1,i)}if(typeof e=="function"&&!uc(e)){var p=Ap(e),h=Gi(e,d);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(h.length>0?" { "+Zt.call(h,", ")+" }":"")}if(Tf(e)){var g=_n?Tr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ho.call(e);return typeof e=="object"&&!_n?Hn(g):g}if(Np(e)){for(var y="<"+nc.call(String(e.nodeName)),b=e.attributes||[],S=0;S<b.length;S++)y+=" "+b[S].name+"="+_f(vp(b[S].value),"double",a);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+nc.call(String(e.nodeName))+">",y}if(go(e)){if(e.length===0)return"[]";var E=Gi(e,d);return f&&!Dp(E)?"["+yo(E,f)+"]":"[ "+Zt.call(E,", ")+" ]"}if(bp(e)){var B=Gi(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!Sf.call(e,"cause")?"{ ["+String(e)+"] "+Zt.call(ic.call("[cause]: "+d(e.cause),B),", ")+" }":B.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Zt.call(B,", ")+" }"}if(typeof e=="object"&&s){if(cc&&typeof e[cc]=="function"&&po)return po(e,{depth:u-n});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Ip(e)){var I=[];return ec&&ec.call(e,function(X,q){I.push(d(q,e,!0)+" => "+d(X,e))}),fc("Map",ya.call(e),I,f)}if(Rp(e)){var T=[];return tc&&tc.call(e,function(X){T.push(d(X,e))}),fc("Set",ma.call(e),T,f)}if(wp(e))return Bs("WeakMap");if(kp(e))return Bs("WeakSet");if(Bp(e))return Bs("WeakRef");if(Sp(e))return Hn(d(Number(e)));if(_p(e))return Hn(d(fo.call(e)));if(Ep(e))return Hn(fp.call(e));if(Cp(e))return Hn(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof _r<"u"&&e===_r)return"{ [object globalThis] }";if(!xp(e)&&!uc(e)){var N=Gi(e,d),D=sc?sc(e)===Object.prototype:e instanceof Object||e.constructor===Object,F=e instanceof Object?"":"null prototype",H=!D&&oi&&Object(e)===e&&oi in e?Jo.call(Mr(e),8,-1):F?"Object":"",j=D||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",J=j+(H||F?"["+Zt.call(ic.call([],H||[],F||[]),": ")+"] ":"");return N.length===0?J+"{}":f?J+"{"+yo(N,f)+"}":J+"{ "+Zt.call(N,", ")+" }"}return String(e)};function _f(t,e,r){var n=r.quoteStyle||e,i=Ef[n];return i+t+i}function vp(t){return Tr.call(String(t),/"/g,"&quot;")}function ln(t){return!oi||!(typeof t=="object"&&(oi in t||typeof t[oi]<"u"))}function go(t){return Mr(t)==="[object Array]"&&ln(t)}function xp(t){return Mr(t)==="[object Date]"&&ln(t)}function uc(t){return Mr(t)==="[object RegExp]"&&ln(t)}function bp(t){return Mr(t)==="[object Error]"&&ln(t)}function Cp(t){return Mr(t)==="[object String]"&&ln(t)}function Sp(t){return Mr(t)==="[object Number]"&&ln(t)}function Ep(t){return Mr(t)==="[object Boolean]"&&ln(t)}function Tf(t){if(_n)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ho)return!1;try{return ho.call(t),!0}catch{}return!1}function _p(t){if(!t||typeof t!="object"||!fo)return!1;try{return fo.call(t),!0}catch{}return!1}var Tp=Object.prototype.hasOwnProperty||function(t){return t in this};function hr(t,e){return Tp.call(t,e)}function Mr(t){return dp.call(t)}function Ap(t){if(t.name)return t.name;var e=pp.call(hp.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Af(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Ip(t){if(!ya||!t||typeof t!="object")return!1;try{ya.call(t);try{ma.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function wp(t){if(!ai||!t||typeof t!="object")return!1;try{ai.call(t,ai);try{si.call(t,si)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Bp(t){if(!rc||!t||typeof t!="object")return!1;try{return rc.call(t),!0}catch{}return!1}function Rp(t){if(!ma||!t||typeof t!="object")return!1;try{ma.call(t);try{ya.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function kp(t){if(!si||!t||typeof t!="object")return!1;try{si.call(t,si);try{ai.call(t,ai)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Np(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function If(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return If(Jo.call(t,0,e.maxStringLength),e)+n}var i=mp[e.quoteStyle||"single"];i.lastIndex=0;var a=Tr.call(Tr.call(t,i,"\\$1"),/[\x00-\x1f]/g,Lp);return _f(a,"single",e)}function Lp(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+gp.call(e.toString(16))}function Hn(t){return"Object("+t+")"}function Bs(t){return t+" { ? }"}function fc(t,e,r,n){var i=n?yo(r,n):Zt.call(r,", ");return t+" ("+e+") {"+i+"}"}function Dp(t){for(var e=0;e<t.length;e++)if(Af(t[e],`
`)>=0)return!1;return!0}function Pp(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Zt.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Zt.call(Array(e+1),r)}}function yo(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Zt.call(t,","+r)+`
`+e.prev}function Gi(t,e){var r=go(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=hr(t,i)?e(t[i],t):""}var a=typeof ws=="function"?ws(t):[],s;if(_n){s={};for(var o=0;o<a.length;o++)s["$"+a[o]]=a[o]}for(var l in t)hr(t,l)&&(r&&String(Number(l))===l&&l<t.length||_n&&s["$"+l]instanceof Symbol||(Cf.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof ws=="function")for(var c=0;c<a.length;c++)Sf.call(t,a[c])&&n.push("["+e(a[c])+"]: "+e(t[a[c]],t));return n}var Op=$a,Mp=Dn,Ga=function(t,e,r){for(var n=t,i;(i=n.next)!=null;n=i)if(i.key===e)return n.next=i.next,r||(i.next=t.next,t.next=i),i},Up=function(t,e){if(t){var r=Ga(t,e);return r&&r.value}},Fp=function(t,e,r){var n=Ga(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Vp=function(t,e){return t?!!Ga(t,e):!1},Kp=function(t,e){if(t)return Ga(t,e,!0)},zp=function(){var e,r={assert:function(n){if(!r.has(n))throw new Mp("Side channel does not contain "+Op(n))},delete:function(n){var i=e&&e.next,a=Kp(e,n);return a&&i&&i===a&&(e=void 0),!!a},get:function(n){return Up(e,n)},has:function(n){return Vp(e,n)},set:function(n,i){e||(e={next:void 0}),Fp(e,n,i)}};return r},wf=Object,Hp=Error,Wp=EvalError,$p=RangeError,Gp=ReferenceError,jp=SyntaxError,qp=URIError,Yp=Math.abs,Qp=Math.floor,Xp=Math.max,Zp=Math.min,Jp=Math.pow,eg=Math.round,tg=Number.isNaN||function(e){return e!==e},rg=tg,ng=function(e){return rg(e)||e===0?e:e<0?-1:1},ig=Object.getOwnPropertyDescriptor,la=ig;if(la)try{la([],"length")}catch{la=null}var Bf=la,ca=Object.defineProperty||!1;if(ca)try{ca({},"a",{value:1})}catch{ca=!1}var ag=ca,Rs,dc;function sg(){return dc||(dc=1,Rs=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),Rs}var ks,hc;function og(){if(hc)return ks;hc=1;var t=typeof Symbol<"u"&&Symbol,e=sg();return ks=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},ks}var Ns,pc;function Rf(){return pc||(pc=1,Ns=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Ns}var Ls,gc;function kf(){if(gc)return Ls;gc=1;var t=wf;return Ls=t.getPrototypeOf||null,Ls}var Ds,yc;function lg(){if(yc)return Ds;yc=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,c){for(var u=[],f=0;f<l.length;f+=1)u[f]=l[f];for(var d=0;d<c.length;d+=1)u[d+l.length]=c[d];return u},a=function(l,c){for(var u=[],f=c,d=0;f<l.length;f+=1,d+=1)u[d]=l[f];return u},s=function(o,l){for(var c="",u=0;u<o.length;u+=1)c+=o[u],u+1<o.length&&(c+=l);return c};return Ds=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==n)throw new TypeError(t+c);for(var u=a(arguments,1),f,d=function(){if(this instanceof f){var b=c.apply(this,i(u,arguments));return Object(b)===b?b:this}return c.apply(l,i(u,arguments))},p=r(0,c.length-u.length),h=[],g=0;g<p;g++)h[g]="$"+g;if(f=Function("binder","return function ("+s(h,",")+"){ return binder.apply(this,arguments); }")(d),c.prototype){var y=function(){};y.prototype=c.prototype,f.prototype=new y,y.prototype=null}return f},Ds}var Ps,mc;function ja(){if(mc)return Ps;mc=1;var t=lg();return Ps=Function.prototype.bind||t,Ps}var Os,vc;function el(){return vc||(vc=1,Os=Function.prototype.call),Os}var Ms,xc;function Nf(){return xc||(xc=1,Ms=Function.prototype.apply),Ms}var cg=typeof Reflect<"u"&&Reflect&&Reflect.apply,ug=ja(),fg=Nf(),dg=el(),hg=cg,pg=hg||ug.call(dg,fg),gg=ja(),yg=Dn,mg=el(),vg=pg,Lf=function(e){if(e.length<1||typeof e[0]!="function")throw new yg("a function is required");return vg(gg,mg,e)},Us,bc;function xg(){if(bc)return Us;bc=1;var t=Lf,e=Bf,r;try{r=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return Us=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(o){return a(o==null?o:i(o))}:!1,Us}var Fs,Cc;function bg(){if(Cc)return Fs;Cc=1;var t=Rf(),e=kf(),r=xg();return Fs=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,Fs}var Vs,Sc;function Cg(){if(Sc)return Vs;Sc=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=ja();return Vs=r.call(t,e),Vs}var he,Sg=wf,Eg=Hp,_g=Wp,Tg=$p,Ag=Gp,Tn=jp,Sn=Dn,Ig=qp,wg=Yp,Bg=Qp,Rg=Xp,kg=Zp,Ng=Jp,Lg=eg,Dg=ng,Df=Function,Ks=function(t){try{return Df('"use strict"; return ('+t+").constructor;")()}catch{}},vi=Bf,Pg=ag,zs=function(){throw new Sn},Og=vi?function(){try{return arguments.callee,zs}catch{try{return vi(arguments,"callee").get}catch{return zs}}}():zs,hn=og()(),ot=bg(),Mg=kf(),Ug=Rf(),Pf=Nf(),_i=el(),mn={},Fg=typeof Uint8Array>"u"||!ot?he:ot(Uint8Array),en={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?he:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?he:ArrayBuffer,"%ArrayIteratorPrototype%":hn&&ot?ot([][Symbol.iterator]()):he,"%AsyncFromSyncIteratorPrototype%":he,"%AsyncFunction%":mn,"%AsyncGenerator%":mn,"%AsyncGeneratorFunction%":mn,"%AsyncIteratorPrototype%":mn,"%Atomics%":typeof Atomics>"u"?he:Atomics,"%BigInt%":typeof BigInt>"u"?he:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?he:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?he:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?he:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Eg,"%eval%":eval,"%EvalError%":_g,"%Float16Array%":typeof Float16Array>"u"?he:Float16Array,"%Float32Array%":typeof Float32Array>"u"?he:Float32Array,"%Float64Array%":typeof Float64Array>"u"?he:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?he:FinalizationRegistry,"%Function%":Df,"%GeneratorFunction%":mn,"%Int8Array%":typeof Int8Array>"u"?he:Int8Array,"%Int16Array%":typeof Int16Array>"u"?he:Int16Array,"%Int32Array%":typeof Int32Array>"u"?he:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hn&&ot?ot(ot([][Symbol.iterator]())):he,"%JSON%":typeof JSON=="object"?JSON:he,"%Map%":typeof Map>"u"?he:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hn||!ot?he:ot(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Sg,"%Object.getOwnPropertyDescriptor%":vi,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?he:Promise,"%Proxy%":typeof Proxy>"u"?he:Proxy,"%RangeError%":Tg,"%ReferenceError%":Ag,"%Reflect%":typeof Reflect>"u"?he:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?he:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hn||!ot?he:ot(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?he:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hn&&ot?ot(""[Symbol.iterator]()):he,"%Symbol%":hn?Symbol:he,"%SyntaxError%":Tn,"%ThrowTypeError%":Og,"%TypedArray%":Fg,"%TypeError%":Sn,"%Uint8Array%":typeof Uint8Array>"u"?he:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?he:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?he:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?he:Uint32Array,"%URIError%":Ig,"%WeakMap%":typeof WeakMap>"u"?he:WeakMap,"%WeakRef%":typeof WeakRef>"u"?he:WeakRef,"%WeakSet%":typeof WeakSet>"u"?he:WeakSet,"%Function.prototype.call%":_i,"%Function.prototype.apply%":Pf,"%Object.defineProperty%":Pg,"%Object.getPrototypeOf%":Mg,"%Math.abs%":wg,"%Math.floor%":Bg,"%Math.max%":Rg,"%Math.min%":kg,"%Math.pow%":Ng,"%Math.round%":Lg,"%Math.sign%":Dg,"%Reflect.getPrototypeOf%":Ug};if(ot)try{null.error}catch(t){var Vg=ot(ot(t));en["%Error.prototype%"]=Vg}var Kg=function t(e){var r;if(e==="%AsyncFunction%")r=Ks("async function () {}");else if(e==="%GeneratorFunction%")r=Ks("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Ks("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ot&&(r=ot(i.prototype))}return en[e]=r,r},Ec={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ti=ja(),va=Cg(),zg=Ti.call(_i,Array.prototype.concat),Hg=Ti.call(Pf,Array.prototype.splice),_c=Ti.call(_i,String.prototype.replace),xa=Ti.call(_i,String.prototype.slice),Wg=Ti.call(_i,RegExp.prototype.exec),$g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Gg=/\\(\\)?/g,jg=function(e){var r=xa(e,0,1),n=xa(e,-1);if(r==="%"&&n!=="%")throw new Tn("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Tn("invalid intrinsic syntax, expected opening `%`");var i=[];return _c(e,$g,function(a,s,o,l){i[i.length]=o?_c(l,Gg,"$1"):s||a}),i},qg=function(e,r){var n=e,i;if(va(Ec,n)&&(i=Ec[n],n="%"+i[0]+"%"),va(en,n)){var a=en[n];if(a===mn&&(a=Kg(n)),typeof a>"u"&&!r)throw new Sn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new Tn("intrinsic "+e+" does not exist!")},tl=function(e,r){if(typeof e!="string"||e.length===0)throw new Sn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Sn('"allowMissing" argument must be a boolean');if(Wg(/^%?[^%]*%?$/,e)===null)throw new Tn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=jg(e),i=n.length>0?n[0]:"",a=qg("%"+i+"%",r),s=a.name,o=a.value,l=!1,c=a.alias;c&&(i=c[0],Hg(n,zg([0,1],c)));for(var u=1,f=!0;u<n.length;u+=1){var d=n[u],p=xa(d,0,1),h=xa(d,-1);if((p==='"'||p==="'"||p==="`"||h==='"'||h==="'"||h==="`")&&p!==h)throw new Tn("property names with quotes must have matching quotes");if((d==="constructor"||!f)&&(l=!0),i+="."+d,s="%"+i+"%",va(en,s))o=en[s];else if(o!=null){if(!(d in o)){if(!r)throw new Sn("base intrinsic for "+e+" exists, but the property is not available.");return}if(vi&&u+1>=n.length){var g=vi(o,d);f=!!g,f&&"get"in g&&!("originalValue"in g.get)?o=g.get:o=o[d]}else f=va(o,d),o=o[d];f&&!l&&(en[s]=o)}}return o},Of=tl,Mf=Lf,Yg=Mf([Of("%String.prototype.indexOf%")]),Uf=function(e,r){var n=Of(e,!!r);return typeof n=="function"&&Yg(e,".prototype.")>-1?Mf([n]):n},Qg=tl,Ai=Uf,Xg=$a,Zg=Dn,Tc=Qg("%Map%",!0),Jg=Ai("Map.prototype.get",!0),ey=Ai("Map.prototype.set",!0),ty=Ai("Map.prototype.has",!0),ry=Ai("Map.prototype.delete",!0),ny=Ai("Map.prototype.size",!0),Ff=!!Tc&&function(){var e,r={assert:function(n){if(!r.has(n))throw new Zg("Side channel does not contain "+Xg(n))},delete:function(n){if(e){var i=ry(e,n);return ny(e)===0&&(e=void 0),i}return!1},get:function(n){if(e)return Jg(e,n)},has:function(n){return e?ty(e,n):!1},set:function(n,i){e||(e=new Tc),ey(e,n,i)}};return r},iy=tl,qa=Uf,ay=$a,ji=Ff,sy=Dn,pn=iy("%WeakMap%",!0),oy=qa("WeakMap.prototype.get",!0),ly=qa("WeakMap.prototype.set",!0),cy=qa("WeakMap.prototype.has",!0),uy=qa("WeakMap.prototype.delete",!0),fy=pn?function(){var e,r,n={assert:function(i){if(!n.has(i))throw new sy("Side channel does not contain "+ay(i))},delete:function(i){if(pn&&i&&(typeof i=="object"||typeof i=="function")){if(e)return uy(e,i)}else if(ji&&r)return r.delete(i);return!1},get:function(i){return pn&&i&&(typeof i=="object"||typeof i=="function")&&e?oy(e,i):r&&r.get(i)},has:function(i){return pn&&i&&(typeof i=="object"||typeof i=="function")&&e?cy(e,i):!!r&&r.has(i)},set:function(i,a){pn&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new pn),ly(e,i,a)):ji&&(r||(r=ji()),r.set(i,a))}};return n}:ji,dy=Dn,hy=$a,py=zp,gy=Ff,yy=fy,my=yy||gy||py,vy=function(){var e,r={assert:function(n){if(!r.has(n))throw new dy("Side channel does not contain "+hy(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,i){e||(e=my()),e.set(n,i)}};return r},xy=String.prototype.replace,by=/%20/g,Hs={RFC1738:"RFC1738",RFC3986:"RFC3986"},rl={default:Hs.RFC3986,formatters:{RFC1738:function(t){return xy.call(t,by,"+")},RFC3986:function(t){return String(t)}},RFC1738:Hs.RFC1738,RFC3986:Hs.RFC3986},Cy=rl,Ws=Object.prototype.hasOwnProperty,qr=Array.isArray,qt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Sy=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(qr(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},Vf=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Ey=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(qr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Ws.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return qr(e)&&!qr(r)&&(i=Vf(e,n)),qr(e)&&qr(r)?(r.forEach(function(a,s){if(Ws.call(e,s)){var o=e[s];o&&typeof o=="object"&&a&&typeof a=="object"?e[s]=t(o,a,n):e.push(a)}else e[s]=a}),e):Object.keys(r).reduce(function(a,s){var o=r[s];return Ws.call(a,s)?a[s]=t(a[s],o,n):a[s]=o,a},i)},_y=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Ty=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},$s=1024,Ay=function(e,r,n,i,a){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var o="",l=0;l<s.length;l+=$s){for(var c=s.length>=$s?s.slice(l,l+$s):s,u=[],f=0;f<c.length;++f){var d=c.charCodeAt(f);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||a===Cy.RFC1738&&(d===40||d===41)){u[u.length]=c.charAt(f);continue}if(d<128){u[u.length]=qt[d];continue}if(d<2048){u[u.length]=qt[192|d>>6]+qt[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=qt[224|d>>12]+qt[128|d>>6&63]+qt[128|d&63];continue}f+=1,d=65536+((d&1023)<<10|c.charCodeAt(f)&1023),u[u.length]=qt[240|d>>18]+qt[128|d>>12&63]+qt[128|d>>6&63]+qt[128|d&63]}o+=u.join("")}return o},Iy=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],s=a.obj[a.prop],o=Object.keys(s),l=0;l<o.length;++l){var c=o[l],u=s[c];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:s,prop:c}),n.push(u))}return Sy(r),e},wy=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},By=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Ry=function(e,r){return[].concat(e,r)},ky=function(e,r){if(qr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Kf={arrayToObject:Vf,assign:_y,combine:Ry,compact:Iy,decode:Ty,encode:Ay,isBuffer:By,isRegExp:wy,maybeMap:ky,merge:Ey},zf=vy,ua=Kf,li=rl,Ny=Object.prototype.hasOwnProperty,Hf={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Xt=Array.isArray,Ly=Array.prototype.push,Wf=function(t,e){Ly.apply(t,Xt(e)?e:[e])},Dy=Date.prototype.toISOString,Ac=li.default,rt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ua.encode,encodeValuesOnly:!1,filter:void 0,format:Ac,formatter:li.formatters[Ac],indices:!1,serializeDate:function(e){return Dy.call(e)},skipNulls:!1,strictNullHandling:!1},Py=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Gs={},Oy=function t(e,r,n,i,a,s,o,l,c,u,f,d,p,h,g,y,b,S){for(var E=e,B=S,I=0,T=!1;(B=B.get(Gs))!==void 0&&!T;){var N=B.get(e);if(I+=1,typeof N<"u"){if(N===I)throw new RangeError("Cyclic object value");T=!0}typeof B.get(Gs)>"u"&&(I=0)}if(typeof u=="function"?E=u(r,E):E instanceof Date?E=p(E):n==="comma"&&Xt(E)&&(E=ua.maybeMap(E,function(Q){return Q instanceof Date?p(Q):Q})),E===null){if(s)return c&&!y?c(r,rt.encoder,b,"key",h):r;E=""}if(Py(E)||ua.isBuffer(E)){if(c){var D=y?r:c(r,rt.encoder,b,"key",h);return[g(D)+"="+g(c(E,rt.encoder,b,"value",h))]}return[g(r)+"="+g(String(E))]}var F=[];if(typeof E>"u")return F;var H;if(n==="comma"&&Xt(E))y&&c&&(E=ua.maybeMap(E,c)),H=[{value:E.length>0?E.join(",")||null:void 0}];else if(Xt(u))H=u;else{var j=Object.keys(E);H=f?j.sort(f):j}var J=l?String(r).replace(/\./g,"%2E"):String(r),X=i&&Xt(E)&&E.length===1?J+"[]":J;if(a&&Xt(E)&&E.length===0)return X+"[]";for(var q=0;q<H.length;++q){var ee=H[q],ie=typeof ee=="object"&&ee&&typeof ee.value<"u"?ee.value:E[ee];if(!(o&&ie===null)){var W=d&&l?String(ee).replace(/\./g,"%2E"):String(ee),K=Xt(E)?typeof n=="function"?n(X,W):X:X+(d?"."+W:"["+W+"]");S.set(e,I);var te=zf();te.set(Gs,S),Wf(F,t(ie,K,n,i,a,s,o,l,n==="comma"&&y&&Xt(E)?null:c,u,f,d,p,h,g,y,b,te))}}return F},My=function(e){if(!e)return rt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||rt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=li.default;if(typeof e.format<"u"){if(!Ny.call(li.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=li.formatters[n],a=rt.filter;(typeof e.filter=="function"||Xt(e.filter))&&(a=e.filter);var s;if(e.arrayFormat in Hf?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=rt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var o=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:rt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:rt.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:rt.allowEmptyArrays,arrayFormat:s,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:rt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?rt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:rt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:rt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:rt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:rt.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:rt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:rt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:rt.strictNullHandling}},Uy=function(t,e){var r=t,n=My(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):Xt(n.filter)&&(a=n.filter,i=a);var s=[];if(typeof r!="object"||r===null)return"";var o=Hf[n.arrayFormat],l=o==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=zf(),u=0;u<i.length;++u){var f=i[u],d=r[f];n.skipNulls&&d===null||Wf(s,Oy(d,f,o,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var p=s.join(n.delimiter),h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),p.length>0?h+p:""},nn=Kf,mo=Object.prototype.hasOwnProperty,Ic=Array.isArray,We={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:nn.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Fy=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},$f=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},Vy="utf8=%26%2310003%3B",Ky="utf8=%E2%9C%93",zy=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,r.throwOnLimitExceeded?a+1:a);if(r.throwOnLimitExceeded&&s.length>a)throw new RangeError("Parameter limit exceeded. Only "+a+" parameter"+(a===1?"":"s")+" allowed.");var o=-1,l,c=r.charset;if(r.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===Ky?c="utf-8":s[l]===Vy&&(c="iso-8859-1"),o=l,l=s.length);for(l=0;l<s.length;++l)if(l!==o){var u=s[l],f=u.indexOf("]="),d=f===-1?u.indexOf("="):f+1,p,h;d===-1?(p=r.decoder(u,We.decoder,c,"key"),h=r.strictNullHandling?null:""):(p=r.decoder(u.slice(0,d),We.decoder,c,"key"),h=nn.maybeMap($f(u.slice(d+1),r,Ic(n[p])?n[p].length:0),function(y){return r.decoder(y,We.decoder,c,"value")})),h&&r.interpretNumericEntities&&c==="iso-8859-1"&&(h=Fy(String(h))),u.indexOf("[]=")>-1&&(h=Ic(h)?[h]:h);var g=mo.call(n,p);g&&r.duplicates==="combine"?n[p]=nn.combine(n[p],h):(!g||r.duplicates==="last")&&(n[p]=h)}return n},Hy=function(t,e,r,n){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var a=t.slice(0,-1).join("");i=Array.isArray(e)&&e[a]?e[a].length:0}for(var s=n?e:$f(e,r,i),o=t.length-1;o>=0;--o){var l,c=t[o];if(c==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(s===""||r.strictNullHandling&&s===null)?[]:nn.combine([],s);else{l=r.plainObjects?{__proto__:null}:{};var u=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,f=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,d=parseInt(f,10);!r.parseArrays&&f===""?l={0:s}:!isNaN(d)&&c!==f&&String(d)===f&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(l=[],l[d]=s):f!=="__proto__"&&(l[f]=s)}s=l}return s},Wy=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=n.depth>0&&s.exec(a),c=l?a.slice(0,l.index):a,u=[];if(c){if(!n.plainObjects&&mo.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var f=0;n.depth>0&&(l=o.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&mo.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");u.push("["+a.slice(l.index)+"]")}return Hy(u,r,n,i)}},$y=function(e){if(!e)return We;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?We.charset:e.charset,n=typeof e.duplicates>"u"?We.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:We.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:We.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:We.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:We.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:We.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:We.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:We.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:We.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:We.decoder,delimiter:typeof e.delimiter=="string"||nn.isRegExp(e.delimiter)?e.delimiter:We.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:We.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:We.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:We.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:We.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:We.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:We.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},Gy=function(t,e){var r=$y(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?zy(t,r):t,i=r.plainObjects?{__proto__:null}:{},a=Object.keys(n),s=0;s<a.length;++s){var o=a[s],l=Wy(o,n[o],r,typeof t=="string");i=nn.merge(i,l,r)}return r.allowSparse===!0?i:nn.compact(i)},jy=Uy,qy=Gy,Yy=rl,U2={formats:Yy,parse:qy,stringify:jy},Gf={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(t,e){(function(r,n){t.exports=n()})(_r,function(){var r={};r.version="0.2.0";var n=r.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};r.configure=function(h){var g,y;for(g in h)y=h[g],y!==void 0&&h.hasOwnProperty(g)&&(n[g]=y);return this},r.status=null,r.set=function(h){var g=r.isStarted();h=i(h,n.minimum,1),r.status=h===1?null:h;var y=r.render(!g),b=y.querySelector(n.barSelector),S=n.speed,E=n.easing;return y.offsetWidth,o(function(B){n.positionUsing===""&&(n.positionUsing=r.getPositioningCSS()),l(b,s(h,S,E)),h===1?(l(y,{transition:"none",opacity:1}),y.offsetWidth,setTimeout(function(){l(y,{transition:"all "+S+"ms linear",opacity:0}),setTimeout(function(){r.remove(),B()},S)},S)):setTimeout(B,S)}),this},r.isStarted=function(){return typeof r.status=="number"},r.start=function(){r.status||r.set(0);var h=function(){setTimeout(function(){r.status&&(r.trickle(),h())},n.trickleSpeed)};return n.trickle&&h(),this},r.done=function(h){return!h&&!r.status?this:r.inc(.3+.5*Math.random()).set(1)},r.inc=function(h){var g=r.status;return g?(typeof h!="number"&&(h=(1-g)*i(Math.random()*g,.1,.95)),g=i(g+h,0,.994),r.set(g)):r.start()},r.trickle=function(){return r.inc(Math.random()*n.trickleRate)},function(){var h=0,g=0;r.promise=function(y){return!y||y.state()==="resolved"?this:(g===0&&r.start(),h++,g++,y.always(function(){g--,g===0?(h=0,r.done()):r.set((h-g)/h)}),this)}}(),r.render=function(h){if(r.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var g=document.createElement("div");g.id="nprogress",g.innerHTML=n.template;var y=g.querySelector(n.barSelector),b=h?"-100":a(r.status||0),S=document.querySelector(n.parent),E;return l(y,{transition:"all 0 linear",transform:"translate3d("+b+"%,0,0)"}),n.showSpinner||(E=g.querySelector(n.spinnerSelector),E&&p(E)),S!=document.body&&u(S,"nprogress-custom-parent"),S.appendChild(g),g},r.remove=function(){f(document.documentElement,"nprogress-busy"),f(document.querySelector(n.parent),"nprogress-custom-parent");var h=document.getElementById("nprogress");h&&p(h)},r.isRendered=function(){return!!document.getElementById("nprogress")},r.getPositioningCSS=function(){var h=document.body.style,g="WebkitTransform"in h?"Webkit":"MozTransform"in h?"Moz":"msTransform"in h?"ms":"OTransform"in h?"O":"";return g+"Perspective"in h?"translate3d":g+"Transform"in h?"translate":"margin"};function i(h,g,y){return h<g?g:h>y?y:h}function a(h){return(-1+h)*100}function s(h,g,y){var b;return n.positionUsing==="translate3d"?b={transform:"translate3d("+a(h)+"%,0,0)"}:n.positionUsing==="translate"?b={transform:"translate("+a(h)+"%,0)"}:b={"margin-left":a(h)+"%"},b.transition="all "+g+"ms "+y,b}var o=function(){var h=[];function g(){var y=h.shift();y&&y(g)}return function(y){h.push(y),h.length==1&&g()}}(),l=function(){var h=["Webkit","O","Moz","ms"],g={};function y(B){return B.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(I,T){return T.toUpperCase()})}function b(B){var I=document.body.style;if(B in I)return B;for(var T=h.length,N=B.charAt(0).toUpperCase()+B.slice(1),D;T--;)if(D=h[T]+N,D in I)return D;return B}function S(B){return B=y(B),g[B]||(g[B]=b(B))}function E(B,I,T){I=S(I),B.style[I]=T}return function(B,I){var T=arguments,N,D;if(T.length==2)for(N in I)D=I[N],D!==void 0&&I.hasOwnProperty(N)&&E(B,N,D);else E(B,T[1],T[2])}}();function c(h,g){var y=typeof h=="string"?h:d(h);return y.indexOf(" "+g+" ")>=0}function u(h,g){var y=d(h),b=y+g;c(y,g)||(h.className=b.substring(1))}function f(h,g){var y=d(h),b;c(h,g)&&(b=y.replace(" "+g+" "," "),h.className=b.substring(1,b.length-1))}function d(h){return(" "+(h.className||"")+" ").replace(/\s+/gi," ")}function p(h){h&&h.parentNode&&h.parentNode.removeChild(h)}return r})})(Gf);var Qy=Gf.exports;const F2=Ei(Qy);var ba={exports:{}};ba.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,o="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",h="[object GeneratorFunction]",g="[object Map]",y="[object Number]",b="[object Null]",S="[object Object]",E="[object Promise]",B="[object Proxy]",I="[object RegExp]",T="[object Set]",N="[object String]",D="[object Symbol]",F="[object Undefined]",H="[object WeakMap]",j="[object ArrayBuffer]",J="[object DataView]",X="[object Float32Array]",q="[object Float64Array]",ee="[object Int8Array]",ie="[object Int16Array]",W="[object Int32Array]",K="[object Uint8Array]",te="[object Uint8ClampedArray]",Q="[object Uint16Array]",oe="[object Uint32Array]",le=/[\\^$.*+?()[\]{}|]/g,Be=/^\[object .+?Constructor\]$/,Te=/^(?:0|[1-9]\d*)$/,ae={};ae[X]=ae[q]=ae[ee]=ae[ie]=ae[W]=ae[K]=ae[te]=ae[Q]=ae[oe]=!0,ae[o]=ae[l]=ae[j]=ae[u]=ae[J]=ae[f]=ae[d]=ae[p]=ae[g]=ae[y]=ae[S]=ae[I]=ae[T]=ae[N]=ae[H]=!1;var _e=typeof _r=="object"&&_r&&_r.Object===Object&&_r,Ke=typeof self=="object"&&self&&self.Object===Object&&self,Ne=_e||Ke||Function("return this")(),Xe=e&&!e.nodeType&&e,Ze=Xe&&!0&&t&&!t.nodeType&&t,Je=Ze&&Ze.exports===Xe,Ye=Je&&_e.process,et=function(){try{return Ye&&Ye.binding&&Ye.binding("util")}catch{}}(),tt=et&&et.isTypedArray;function it(C,R){for(var P=-1,Z=C==null?0:C.length,Oe=0,ue=[];++P<Z;){var He=C[P];R(He,P,C)&&(ue[Oe++]=He)}return ue}function Oh(C,R){for(var P=-1,Z=R.length,Oe=C.length;++P<Z;)C[Oe+P]=R[P];return C}function Mh(C,R){for(var P=-1,Z=C==null?0:C.length;++P<Z;)if(R(C[P],P,C))return!0;return!1}function Uh(C,R){for(var P=-1,Z=Array(C);++P<C;)Z[P]=R(P);return Z}function Fh(C){return function(R){return C(R)}}function Vh(C,R){return C.has(R)}function Kh(C,R){return C==null?void 0:C[R]}function zh(C){var R=-1,P=Array(C.size);return C.forEach(function(Z,Oe){P[++R]=[Oe,Z]}),P}function Hh(C,R){return function(P){return C(R(P))}}function Wh(C){var R=-1,P=Array(C.size);return C.forEach(function(Z){P[++R]=Z}),P}var $h=Array.prototype,Gh=Function.prototype,Ui=Object.prototype,xs=Ne["__core-js_shared__"],Pl=Gh.toString,jt=Ui.hasOwnProperty,Ol=function(){var C=/[^.]+$/.exec(xs&&xs.keys&&xs.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}(),Ml=Ui.toString,jh=RegExp("^"+Pl.call(jt).replace(le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ul=Je?Ne.Buffer:void 0,Fi=Ne.Symbol,Fl=Ne.Uint8Array,Vl=Ui.propertyIsEnumerable,qh=$h.splice,Fr=Fi?Fi.toStringTag:void 0,Kl=Object.getOwnPropertySymbols,Yh=Ul?Ul.isBuffer:void 0,Qh=Hh(Object.keys,Object),bs=dn(Ne,"DataView"),Fn=dn(Ne,"Map"),Cs=dn(Ne,"Promise"),Ss=dn(Ne,"Set"),Es=dn(Ne,"WeakMap"),Vn=dn(Object,"create"),Xh=zr(bs),Zh=zr(Fn),Jh=zr(Cs),e0=zr(Ss),t0=zr(Es),zl=Fi?Fi.prototype:void 0,_s=zl?zl.valueOf:void 0;function Vr(C){var R=-1,P=C==null?0:C.length;for(this.clear();++R<P;){var Z=C[R];this.set(Z[0],Z[1])}}function r0(){this.__data__=Vn?Vn(null):{},this.size=0}function n0(C){var R=this.has(C)&&delete this.__data__[C];return this.size-=R?1:0,R}function i0(C){var R=this.__data__;if(Vn){var P=R[C];return P===n?void 0:P}return jt.call(R,C)?R[C]:void 0}function a0(C){var R=this.__data__;return Vn?R[C]!==void 0:jt.call(R,C)}function s0(C,R){var P=this.__data__;return this.size+=this.has(C)?0:1,P[C]=Vn&&R===void 0?n:R,this}Vr.prototype.clear=r0,Vr.prototype.delete=n0,Vr.prototype.get=i0,Vr.prototype.has=a0,Vr.prototype.set=s0;function or(C){var R=-1,P=C==null?0:C.length;for(this.clear();++R<P;){var Z=C[R];this.set(Z[0],Z[1])}}function o0(){this.__data__=[],this.size=0}function l0(C){var R=this.__data__,P=Ki(R,C);if(P<0)return!1;var Z=R.length-1;return P==Z?R.pop():qh.call(R,P,1),--this.size,!0}function c0(C){var R=this.__data__,P=Ki(R,C);return P<0?void 0:R[P][1]}function u0(C){return Ki(this.__data__,C)>-1}function f0(C,R){var P=this.__data__,Z=Ki(P,C);return Z<0?(++this.size,P.push([C,R])):P[Z][1]=R,this}or.prototype.clear=o0,or.prototype.delete=l0,or.prototype.get=c0,or.prototype.has=u0,or.prototype.set=f0;function Kr(C){var R=-1,P=C==null?0:C.length;for(this.clear();++R<P;){var Z=C[R];this.set(Z[0],Z[1])}}function d0(){this.size=0,this.__data__={hash:new Vr,map:new(Fn||or),string:new Vr}}function h0(C){var R=zi(this,C).delete(C);return this.size-=R?1:0,R}function p0(C){return zi(this,C).get(C)}function g0(C){return zi(this,C).has(C)}function y0(C,R){var P=zi(this,C),Z=P.size;return P.set(C,R),this.size+=P.size==Z?0:1,this}Kr.prototype.clear=d0,Kr.prototype.delete=h0,Kr.prototype.get=p0,Kr.prototype.has=g0,Kr.prototype.set=y0;function Vi(C){var R=-1,P=C==null?0:C.length;for(this.__data__=new Kr;++R<P;)this.add(C[R])}function m0(C){return this.__data__.set(C,n),this}function v0(C){return this.__data__.has(C)}Vi.prototype.add=Vi.prototype.push=m0,Vi.prototype.has=v0;function vr(C){var R=this.__data__=new or(C);this.size=R.size}function x0(){this.__data__=new or,this.size=0}function b0(C){var R=this.__data__,P=R.delete(C);return this.size=R.size,P}function C0(C){return this.__data__.get(C)}function S0(C){return this.__data__.has(C)}function E0(C,R){var P=this.__data__;if(P instanceof or){var Z=P.__data__;if(!Fn||Z.length<r-1)return Z.push([C,R]),this.size=++P.size,this;P=this.__data__=new Kr(Z)}return P.set(C,R),this.size=P.size,this}vr.prototype.clear=x0,vr.prototype.delete=b0,vr.prototype.get=C0,vr.prototype.has=S0,vr.prototype.set=E0;function _0(C,R){var P=Hi(C),Z=!P&&F0(C),Oe=!P&&!Z&&Ts(C),ue=!P&&!Z&&!Oe&&Xl(C),He=P||Z||Oe||ue,at=He?Uh(C.length,String):[],ft=at.length;for(var ze in C)jt.call(C,ze)&&!(He&&(ze=="length"||Oe&&(ze=="offset"||ze=="parent")||ue&&(ze=="buffer"||ze=="byteLength"||ze=="byteOffset")||D0(ze,ft)))&&at.push(ze);return at}function Ki(C,R){for(var P=C.length;P--;)if(jl(C[P][0],R))return P;return-1}function T0(C,R,P){var Z=R(C);return Hi(C)?Z:Oh(Z,P(C))}function Kn(C){return C==null?C===void 0?F:b:Fr&&Fr in Object(C)?N0(C):U0(C)}function Hl(C){return zn(C)&&Kn(C)==o}function Wl(C,R,P,Z,Oe){return C===R?!0:C==null||R==null||!zn(C)&&!zn(R)?C!==C&&R!==R:A0(C,R,P,Z,Wl,Oe)}function A0(C,R,P,Z,Oe,ue){var He=Hi(C),at=Hi(R),ft=He?l:xr(C),ze=at?l:xr(R);ft=ft==o?S:ft,ze=ze==o?S:ze;var At=ft==S,Vt=ze==S,gt=ft==ze;if(gt&&Ts(C)){if(!Ts(R))return!1;He=!0,At=!1}if(gt&&!At)return ue||(ue=new vr),He||Xl(C)?$l(C,R,P,Z,Oe,ue):R0(C,R,ft,P,Z,Oe,ue);if(!(P&i)){var Bt=At&&jt.call(C,"__wrapped__"),Rt=Vt&&jt.call(R,"__wrapped__");if(Bt||Rt){var br=Bt?C.value():C,lr=Rt?R.value():R;return ue||(ue=new vr),Oe(br,lr,P,Z,ue)}}return gt?(ue||(ue=new vr),k0(C,R,P,Z,Oe,ue)):!1}function I0(C){if(!Ql(C)||O0(C))return!1;var R=ql(C)?jh:Be;return R.test(zr(C))}function w0(C){return zn(C)&&Yl(C.length)&&!!ae[Kn(C)]}function B0(C){if(!M0(C))return Qh(C);var R=[];for(var P in Object(C))jt.call(C,P)&&P!="constructor"&&R.push(P);return R}function $l(C,R,P,Z,Oe,ue){var He=P&i,at=C.length,ft=R.length;if(at!=ft&&!(He&&ft>at))return!1;var ze=ue.get(C);if(ze&&ue.get(R))return ze==R;var At=-1,Vt=!0,gt=P&a?new Vi:void 0;for(ue.set(C,R),ue.set(R,C);++At<at;){var Bt=C[At],Rt=R[At];if(Z)var br=He?Z(Rt,Bt,At,R,C,ue):Z(Bt,Rt,At,C,R,ue);if(br!==void 0){if(br)continue;Vt=!1;break}if(gt){if(!Mh(R,function(lr,Hr){if(!Vh(gt,Hr)&&(Bt===lr||Oe(Bt,lr,P,Z,ue)))return gt.push(Hr)})){Vt=!1;break}}else if(!(Bt===Rt||Oe(Bt,Rt,P,Z,ue))){Vt=!1;break}}return ue.delete(C),ue.delete(R),Vt}function R0(C,R,P,Z,Oe,ue,He){switch(P){case J:if(C.byteLength!=R.byteLength||C.byteOffset!=R.byteOffset)return!1;C=C.buffer,R=R.buffer;case j:return!(C.byteLength!=R.byteLength||!ue(new Fl(C),new Fl(R)));case u:case f:case y:return jl(+C,+R);case d:return C.name==R.name&&C.message==R.message;case I:case N:return C==R+"";case g:var at=zh;case T:var ft=Z&i;if(at||(at=Wh),C.size!=R.size&&!ft)return!1;var ze=He.get(C);if(ze)return ze==R;Z|=a,He.set(C,R);var At=$l(at(C),at(R),Z,Oe,ue,He);return He.delete(C),At;case D:if(_s)return _s.call(C)==_s.call(R)}return!1}function k0(C,R,P,Z,Oe,ue){var He=P&i,at=Gl(C),ft=at.length,ze=Gl(R),At=ze.length;if(ft!=At&&!He)return!1;for(var Vt=ft;Vt--;){var gt=at[Vt];if(!(He?gt in R:jt.call(R,gt)))return!1}var Bt=ue.get(C);if(Bt&&ue.get(R))return Bt==R;var Rt=!0;ue.set(C,R),ue.set(R,C);for(var br=He;++Vt<ft;){gt=at[Vt];var lr=C[gt],Hr=R[gt];if(Z)var Zl=He?Z(Hr,lr,gt,R,C,ue):Z(lr,Hr,gt,C,R,ue);if(!(Zl===void 0?lr===Hr||Oe(lr,Hr,P,Z,ue):Zl)){Rt=!1;break}br||(br=gt=="constructor")}if(Rt&&!br){var Wi=C.constructor,$i=R.constructor;Wi!=$i&&"constructor"in C&&"constructor"in R&&!(typeof Wi=="function"&&Wi instanceof Wi&&typeof $i=="function"&&$i instanceof $i)&&(Rt=!1)}return ue.delete(C),ue.delete(R),Rt}function Gl(C){return T0(C,z0,L0)}function zi(C,R){var P=C.__data__;return P0(R)?P[typeof R=="string"?"string":"hash"]:P.map}function dn(C,R){var P=Kh(C,R);return I0(P)?P:void 0}function N0(C){var R=jt.call(C,Fr),P=C[Fr];try{C[Fr]=void 0;var Z=!0}catch{}var Oe=Ml.call(C);return Z&&(R?C[Fr]=P:delete C[Fr]),Oe}var L0=Kl?function(C){return C==null?[]:(C=Object(C),it(Kl(C),function(R){return Vl.call(C,R)}))}:H0,xr=Kn;(bs&&xr(new bs(new ArrayBuffer(1)))!=J||Fn&&xr(new Fn)!=g||Cs&&xr(Cs.resolve())!=E||Ss&&xr(new Ss)!=T||Es&&xr(new Es)!=H)&&(xr=function(C){var R=Kn(C),P=R==S?C.constructor:void 0,Z=P?zr(P):"";if(Z)switch(Z){case Xh:return J;case Zh:return g;case Jh:return E;case e0:return T;case t0:return H}return R});function D0(C,R){return R=R??s,!!R&&(typeof C=="number"||Te.test(C))&&C>-1&&C%1==0&&C<R}function P0(C){var R=typeof C;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?C!=="__proto__":C===null}function O0(C){return!!Ol&&Ol in C}function M0(C){var R=C&&C.constructor,P=typeof R=="function"&&R.prototype||Ui;return C===P}function U0(C){return Ml.call(C)}function zr(C){if(C!=null){try{return Pl.call(C)}catch{}try{return C+""}catch{}}return""}function jl(C,R){return C===R||C!==C&&R!==R}var F0=Hl(function(){return arguments}())?Hl:function(C){return zn(C)&&jt.call(C,"callee")&&!Vl.call(C,"callee")},Hi=Array.isArray;function V0(C){return C!=null&&Yl(C.length)&&!ql(C)}var Ts=Yh||W0;function K0(C,R){return Wl(C,R)}function ql(C){if(!Ql(C))return!1;var R=Kn(C);return R==p||R==h||R==c||R==B}function Yl(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=s}function Ql(C){var R=typeof C;return C!=null&&(R=="object"||R=="function")}function zn(C){return C!=null&&typeof C=="object"}var Xl=tt?Fh(tt):w0;function z0(C){return V0(C)?_0(C):B0(C)}function H0(){return[]}function W0(){return!1}t.exports=K0})(ba,ba.exports);var Xy=ba.exports;const V2=Ei(Xy);var jf={exports:{}},qf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,te){var Q=K.length;K.push(te);e:for(;0<Q;){var oe=Q-1>>>1,le=K[oe];if(0<i(le,te))K[oe]=te,K[Q]=le,Q=oe;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var te=K[0],Q=K.pop();if(Q!==te){K[0]=Q;e:for(var oe=0,le=K.length,Be=le>>>1;oe<Be;){var Te=2*(oe+1)-1,ae=K[Te],_e=Te+1,Ke=K[_e];if(0>i(ae,Q))_e<le&&0>i(Ke,ae)?(K[oe]=Ke,K[_e]=Q,oe=_e):(K[oe]=ae,K[Te]=Q,oe=Te);else if(_e<le&&0>i(Ke,Q))K[oe]=Ke,K[_e]=Q,oe=_e;else break e}}return te}function i(K,te){var Q=K.sortIndex-te.sortIndex;return Q!==0?Q:K.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,d=3,p=!1,h=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(K){for(var te=r(c);te!==null;){if(te.callback===null)n(c);else if(te.startTime<=K)n(c),te.sortIndex=te.expirationTime,e(l,te);else break;te=r(c)}}function B(K){if(g=!1,E(K),!h)if(r(l)!==null)h=!0,ie(I);else{var te=r(c);te!==null&&W(B,te.startTime-K)}}function I(K,te){h=!1,g&&(g=!1,b(D),D=-1),p=!0;var Q=d;try{for(E(te),f=r(l);f!==null&&(!(f.expirationTime>te)||K&&!j());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,d=f.priorityLevel;var le=oe(f.expirationTime<=te);te=t.unstable_now(),typeof le=="function"?f.callback=le:f===r(l)&&n(l),E(te)}else n(l);f=r(l)}if(f!==null)var Be=!0;else{var Te=r(c);Te!==null&&W(B,Te.startTime-te),Be=!1}return Be}finally{f=null,d=Q,p=!1}}var T=!1,N=null,D=-1,F=5,H=-1;function j(){return!(t.unstable_now()-H<F)}function J(){if(N!==null){var K=t.unstable_now();H=K;var te=!0;try{te=N(!0,K)}finally{te?X():(T=!1,N=null)}}else T=!1}var X;if(typeof S=="function")X=function(){S(J)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ee=q.port2;q.port1.onmessage=J,X=function(){ee.postMessage(null)}}else X=function(){y(J,0)};function ie(K){N=K,T||(T=!0,X())}function W(K,te){D=y(function(){K(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,ie(I))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(K){switch(d){case 1:case 2:case 3:var te=3;break;default:te=d}var Q=d;d=te;try{return K()}finally{d=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Q=d;d=K;try{return te()}finally{d=Q}},t.unstable_scheduleCallback=function(K,te,Q){var oe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,K){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Q+le,K={id:u++,callback:te,priorityLevel:K,startTime:Q,expirationTime:le,sortIndex:-1},Q>oe?(K.sortIndex=Q,e(c,K),r(l)===null&&K===r(c)&&(g?(b(D),D=-1):g=!0,W(B,Q-oe))):(K.sortIndex=le,e(l,K),h||p||(h=!0,ie(I))),K},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(K){var te=d;return function(){var Q=d;d=te;try{return K.apply(this,arguments)}finally{d=Q}}}})(qf);jf.exports=qf;var K2=jf.exports,de={options:{usePureJavaScript:!1}},nl={},Zy=nl,wc={};nl.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=Jy(t,e);else{var i=0,a=e.length,s=e.charAt(0),o=[0];for(i=0;i<t.length;++i){for(var l=0,c=t[i];l<o.length;++l)c+=o[l]<<8,o[l]=c%a,c=c/a|0;for(;c>0;)o.push(c%a),c=c/a|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=s;for(i=o.length-1;i>=0;--i)n+=e[o[i]]}if(r){var u=new RegExp(".{1,"+r+"}","g");n=n.match(u).join(`\r
`)}return n};nl.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=wc[e];if(!r){r=wc[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,a=e.charAt(0),s=[0],n=0;n<t.length;n++){var o=r[t.charCodeAt(n)];if(o===void 0)return;for(var l=0,c=o;l<s.length;++l)c+=s[l]*i,s[l]=c&255,c>>=8;for(;c>0;)s.push(c&255),c>>=8}for(var u=0;t[u]===a&&u<t.length-1;++u)s.push(0);return typeof Buffer<"u"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function Jy(t,e){var r=0,n=e.length,i=e.charAt(0),a=[0];for(r=0;r<t.length();++r){for(var s=0,o=t.at(r);s<a.length;++s)o+=a[s]<<8,a[s]=o%n,o=o/n|0;for(;o>0;)a.push(o%n),o=o/n|0}var l="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)l+=i;for(r=a.length-1;r>=0;--r)l+=e[a[r]];return l}var Bc=de,Rc=Zy,w=Bc.util=Bc.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){w.nextTick=process.nextTick,typeof setImmediate=="function"?w.setImmediate=setImmediate:w.setImmediate=w.nextTick;return}if(typeof setImmediate=="function"){w.setImmediate=function(){return setImmediate.apply(void 0,arguments)},w.nextTick=function(s){return setImmediate(s)};return}if(w.setImmediate=function(s){setTimeout(s,0)},typeof window<"u"&&typeof window.postMessage=="function"){let s=function(o){if(o.source===window&&o.data===t){o.stopPropagation();var l=e.slice();e.length=0,l.forEach(function(c){c()})}};var t="forge.setImmediate",e=[];w.setImmediate=function(o){e.push(o),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",s,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var o=e.slice();e.length=0,o.forEach(function(l){l()})}).observe(i,{attributes:!0});var a=w.setImmediate;w.setImmediate=function(o){Date.now()-r>15?(r=Date.now(),a(o)):(e.push(o),e.length===1&&i.setAttribute("a",n=!n))}}w.nextTick=w.setImmediate})();w.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;w.globalScope=function(){return w.isNodejs?_r:typeof self>"u"?window:self}();w.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};w.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};w.isArrayBufferView=function(t){return t&&w.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function Ii(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}w.ByteBuffer=il;function il(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(w.isArrayBuffer(t)||w.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof il||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}w.ByteStringBuffer=il;var em=4096;w.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>em&&(this.data.substr(0,1),this._constructedStringLength=0)};w.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};w.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};w.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};w.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};w.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};w.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(w.encodeUtf8(t))};w.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};w.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};w.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};w.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};w.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};w.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};w.ByteStringBuffer.prototype.putInt=function(t,e){Ii(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};w.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};w.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};w.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};w.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};w.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};w.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};w.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};w.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};w.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};w.ByteStringBuffer.prototype.getInt=function(t){Ii(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};w.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};w.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};w.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};w.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};w.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};w.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};w.ByteStringBuffer.prototype.copy=function(){var t=w.createBuffer(this.data);return t.read=this.read,t};w.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};w.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};w.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};w.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};w.ByteStringBuffer.prototype.toString=function(){return w.decodeUtf8(this.bytes())};function tm(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=w.isArrayBuffer(t),n=w.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}w.DataBuffer=tm;w.DataBuffer.prototype.length=function(){return this.write-this.read};w.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};w.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};w.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};w.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};w.DataBuffer.prototype.putBytes=function(t,e){if(w.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(w.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof w.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&w.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof w.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var a;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=w.binary.hex.decode(t,a,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=w.binary.base64.decode(t,a,this.write),this;if(e==="utf8"&&(t=w.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=w.binary.raw.decode(a),this;if(e==="utf16")return this.accommodate(t.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=w.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};w.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};w.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};w.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};w.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};w.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};w.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};w.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};w.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};w.DataBuffer.prototype.putInt=function(t,e){Ii(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};w.DataBuffer.prototype.putSignedInt=function(t,e){return Ii(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};w.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};w.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};w.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};w.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};w.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};w.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};w.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};w.DataBuffer.prototype.getInt=function(t){Ii(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};w.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};w.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};w.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};w.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};w.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};w.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};w.DataBuffer.prototype.copy=function(){return new w.DataBuffer(this)};w.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};w.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};w.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};w.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};w.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return w.binary.raw.encode(e);if(t==="hex")return w.binary.hex.encode(e);if(t==="base64")return w.binary.base64.encode(e);if(t==="utf8")return w.text.utf8.decode(e);if(t==="utf16")return w.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};w.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=w.encodeUtf8(t)),new w.ByteBuffer(t)};w.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};w.xorBytes=function(t,e,r){for(var n="",i="",a="",s=0,o=0;r>0;--r,++s)i=t.charCodeAt(s)^e.charCodeAt(s),o>=10&&(n+=a,a="",o=0),a+=String.fromCharCode(i),++o;return n+=a,n};w.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};w.bytesToHex=function(t){return w.createBuffer(t).toHex()};w.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var Ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ir=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Yf="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";w.encode64=function(t,e){for(var r="",n="",i,a,s,o=0;o<t.length;)i=t.charCodeAt(o++),a=t.charCodeAt(o++),s=t.charCodeAt(o++),r+=Ar.charAt(i>>2),r+=Ar.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=Ar.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":Ar.charAt(s&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};w.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,a,s=0;s<t.length;)r=Ir[t.charCodeAt(s++)-43],n=Ir[t.charCodeAt(s++)-43],i=Ir[t.charCodeAt(s++)-43],a=Ir[t.charCodeAt(s++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),a!==64&&(e+=String.fromCharCode((i&3)<<6|a)));return e};w.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};w.decodeUtf8=function(t){return decodeURIComponent(escape(t))};w.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Rc.encode,decode:Rc.decode}};w.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};w.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n};w.binary.hex.encode=w.bytesToHex;w.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,a=r;for(t.length&1&&(i=1,n[a++]=parseInt(t[0],16));i<t.length;i+=2)n[a++]=parseInt(t.substr(i,2),16);return e?a-r:n};w.binary.base64.encode=function(t,e){for(var r="",n="",i,a,s,o=0;o<t.byteLength;)i=t[o++],a=t[o++],s=t[o++],r+=Ar.charAt(i>>2),r+=Ar.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=Ar.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":Ar.charAt(s&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};w.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,a,s,o,l=0,c=r;l<t.length;)i=Ir[t.charCodeAt(l++)-43],a=Ir[t.charCodeAt(l++)-43],s=Ir[t.charCodeAt(l++)-43],o=Ir[t.charCodeAt(l++)-43],n[c++]=i<<2|a>>4,s!==64&&(n[c++]=(a&15)<<4|s>>2,o!==64&&(n[c++]=(s&3)<<6|o));return e?c-r:n.subarray(0,c)};w.binary.base58.encode=function(t,e){return w.binary.baseN.encode(t,Yf,e)};w.binary.base58.decode=function(t,e){return w.binary.baseN.decode(t,Yf,e)};w.text={utf8:{},utf16:{}};w.text.utf8.encode=function(t,e,r){t=w.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n};w.text.utf8.decode=function(t){return w.decodeUtf8(String.fromCharCode.apply(null,t))};w.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var a=r,s=r,o=0;o<t.length;++o)i[s++]=t.charCodeAt(o),a+=2;return e?a-r:n};w.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};w.deflate=function(t,e,r){if(e=w.decode64(t.deflate(w.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};w.inflate=function(t,e,r){var n=t.inflate(w.encode64(e)).rval;return n===null?null:w.decode64(n)};var al=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=w.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},sl=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(w.decode64(r))),r},rm=function(t,e,r,n){var i=sl(t,e);i===null&&(i={}),i[r]=n,al(t,e,i)},nm=function(t,e,r){var n=sl(t,e);return n!==null&&(n=r in n?n[r]:null),n},im=function(t,e,r){var n=sl(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),al(t,e,n)}},am=function(t,e){al(t,e,null)},Ya=function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,a=!1,s=null;for(var o in r){i=r[o];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),a=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),a=!0)}catch(l){s=l}if(a)break}if(!a)throw s;return n};w.setItem=function(t,e,r,n,i){Ya(rm,arguments,i)};w.getItem=function(t,e,r,n){return Ya(nm,arguments,n)};w.removeItem=function(t,e,r,n){Ya(im,arguments,n)};w.clearItems=function(t,e,r){Ya(am,arguments,r)};w.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};w.format=function(t){for(var e=/%./g,r,n,i=0,a=[],s=0;r=e.exec(t);){n=t.substring(s,e.lastIndex-2),n.length>0&&a.push(n),s=e.lastIndex;var o=r[0][1];switch(o){case"s":case"o":i<arguments.length?a.push(arguments[i+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+o+"?>")}}return a.push(t.substring(s)),a.join("")};w.formatNumber=function(t,e,r,n){var i=t,a=isNaN(e=Math.abs(e))?2:e,s=r===void 0?",":r,o=n===void 0?".":n,l=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",u=c.length>3?c.length%3:0;return l+(u?c.substr(0,u)+o:"")+c.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?s+Math.abs(i-c).toFixed(a).slice(2):"")};w.formatSize=function(t){return t>=1073741824?t=w.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=w.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=w.formatNumber(t/1024,0)+" KiB":t=w.formatNumber(t,0)+" bytes",t};w.bytesFromIP=function(t){return t.indexOf(".")!==-1?w.bytesFromIPv4(t):t.indexOf(":")!==-1?w.bytesFromIPv6(t):null};w.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=w.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};w.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(s){return s.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=w.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var a=w.hexToBytes(t[i]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};w.bytesToIP=function(t){return t.length===4?w.bytesToIPv4(t):t.length===16?w.bytesToIPv6(t):null};w.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};w.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var a=w.bytesToHex(t[i]+t[i+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var s=r[r.length-1],o=e.length;!s||o!==s.end+1?r.push({start:o,end:o}):(s.end=o,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(a)}if(r.length>0){var l=r[n];l.end-l.start>0&&(e.splice(l.start,l.end-l.start+1,""),l.start===0&&e.unshift(""),l.end===7&&e.push(""))}return e.join(":")};w.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in w&&!t.update)return e(null,w.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return w.cores=navigator.hardwareConcurrency,e(null,w.cores);if(typeof Worker>"u")return w.cores=1,e(null,w.cores);if(typeof Blob>"u")return w.cores=2,e(null,w.cores);var r=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(s){var o=Date.now(),l=o+4;self.postMessage({st:o,et:l})})}).toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(s,o,l){if(o===0){var c=Math.floor(s.reduce(function(u,f){return u+f},0)/s.length);return w.cores=Math.max(1,c),URL.revokeObjectURL(r),e(null,w.cores)}i(l,function(u,f){s.push(a(l,f)),n(s,o-1,l)})}function i(s,o){for(var l=[],c=[],u=0;u<s;++u){var f=new Worker(r);f.addEventListener("message",function(d){if(c.push(d.data),c.length===s){for(var p=0;p<s;++p)l[p].terminate();o(null,c)}}),l.push(f)}for(var u=0;u<s;++u)l[u].postMessage(u)}function a(s,o){for(var l=[],c=0;c<s;++c)for(var u=o[c],f=l[c]=[],d=0;d<s;++d)if(c!==d){var p=o[d];(u.st>p.st&&u.st<p.et||p.st>u.st&&p.st<u.et)&&f.push(d)}return l.reduce(function(h,g){return Math.max(h,g.length)},0)}};var ut=de;ut.cipher=ut.cipher||{};ut.cipher.algorithms=ut.cipher.algorithms||{};ut.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=ut.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new ut.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};ut.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=ut.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new ut.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};ut.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),ut.cipher.algorithms[t]=e};ut.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in ut.cipher.algorithms?ut.cipher.algorithms[t]:null};var ol=ut.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};ol.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=ut.util.createBuffer(),this.output=t.output||ut.util.createBuffer(),this.mode.start(e)};ol.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};ol.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))};var ct=de;ct.cipher=ct.cipher||{};var ye=ct.cipher.modes=ct.cipher.modes||{};ye.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ye.ecb.prototype.start=function(t){};ye.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};ye.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};ye.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};ye.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};ye.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ye.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=Qa(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};ye.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};ye.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};ye.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};ye.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};ye.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=ct.util.createBuffer(),this._partialBytes=0};ye.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Qa(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ye.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ye.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ye.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=ct.util.createBuffer(),this._partialBytes=0};ye.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Qa(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ye.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ye.ofb.prototype.decrypt=ye.ofb.prototype.encrypt;ye.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=ct.util.createBuffer(),this._partialBytes=0};ye.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Qa(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ye.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Xa(this._inBlock)};ye.ctr.prototype.decrypt=ye.ctr.prototype.encrypt;ye.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=ct.util.createBuffer(),this._partialBytes=0,this._R=3774873600};ye.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=ct.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=ct.util.createBuffer(t.additionalData):r=ct.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=ct.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(vo(n*8)))}this._inBlock=this._j0.slice(0),Xa(this._inBlock),this._partialBytes=0,r=ct.util.createBuffer(r),this._aDataLength=vo(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};ye.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Xa(this._inBlock)};ye.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Xa(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};ye.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=ct.util.createBuffer();var n=this._aDataLength.concat(vo(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^i[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};ye.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var a=t[i/32|0]&1<<31-i%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};ye.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};ye.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,a=this._m[r][i];e[0]^=a[0],e[1]^=a[1],e[2]^=a[2],e[3]^=a[3]}return e};ye.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};ye.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,a=new Array(i),s=0;s<i;++s){var o=[0,0,0,0],l=s/n|0,c=(n-1-s%n)*e;o[l]=1<<e-1<<c,a[s]=this.generateSubHashTable(this.multiply(o,t),e)}return a};ye.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var a=n>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<n;){for(var s=1;s<a;++s){var o=i[a],l=i[s];i[a+s]=[o[0]^l[0],o[1]^l[1],o[2]^l[2],o[3]^l[3]]}a*=2}for(i[0]=[0,0,0,0],a=n+1;a<r;++a){var c=i[a^n];i[a]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i};function Qa(t,e){if(typeof t=="string"&&(t=ct.util.createBuffer(t)),ct.util.isArray(t)&&t.length>4){var r=t;t=ct.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!ct.util.isArray(t)){for(var i=[],a=e/4,n=0;n<a;++n)i.push(t.getInt32());t=i}return t}function Xa(t){t[t.length-1]=t[t.length-1]+1&4294967295}function vo(t){return[t/4294967296|0,t&4294967295]}var Pe=de;Pe.aes=Pe.aes||{};Pe.aes.startEncrypting=function(t,e,r,n){var i=Za({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};Pe.aes.createEncryptionCipher=function(t,e){return Za({key:t,output:null,decrypt:!1,mode:e})};Pe.aes.startDecrypting=function(t,e,r,n){var i=Za({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};Pe.aes.createDecryptionCipher=function(t,e){return Za({key:t,output:null,decrypt:!0,mode:e})};Pe.aes.Algorithm=function(t,e){ll||Xf();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return bo(r._w,n,i,!1)},decrypt:function(n,i){return bo(r._w,n,i,!0)}}}),r._init=!1};Pe.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=Pe.util.createBuffer(e);else if(Pe.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=Pe.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!Pe.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!Pe.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=Zf(e,t.decrypt&&!s),this._init=!0}};Pe.aes._expandKey=function(t,e){return ll||Xf(),Zf(t,e)};Pe.aes._updateBlock=bo;Pn("AES-ECB",Pe.cipher.modes.ecb);Pn("AES-CBC",Pe.cipher.modes.cbc);Pn("AES-CFB",Pe.cipher.modes.cfb);Pn("AES-OFB",Pe.cipher.modes.ofb);Pn("AES-CTR",Pe.cipher.modes.ctr);Pn("AES-GCM",Pe.cipher.modes.gcm);function Pn(t,e){var r=function(){return new Pe.aes.Algorithm(t,e)};Pe.cipher.registerAlgorithm(t,r)}var ll=!1,gn=4,mt,xo,Qf,Zr,Ht;function Xf(){ll=!0,Qf=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;mt=new Array(256),xo=new Array(256),Zr=new Array(4),Ht=new Array(4);for(var e=0;e<4;++e)Zr[e]=new Array(256),Ht[e]=new Array(256);for(var r=0,n=0,i,a,s,o,l,c,u,e=0;e<256;++e){o=n^n<<1^n<<2^n<<3^n<<4,o=o>>8^o&255^99,mt[r]=o,xo[o]=r,l=t[o],i=t[r],a=t[i],s=t[a],c=l<<24^o<<16^o<<8^(o^l),u=(i^a^s)<<24^(r^s)<<16^(r^a^s)<<8^(r^i^s);for(var f=0;f<4;++f)Zr[f][r]=c,Ht[f][o]=u,c=c<<24|c>>>8,u=u<<24|u>>>8;r===0?r=n=1:(r=i^t[t[t[i^s]]],n^=t[t[n]])}}function Zf(t,e){for(var r=t.slice(0),n,i=1,a=r.length,s=a+6+1,o=gn*s,l=a;l<o;++l)n=r[l-1],l%a===0?(n=mt[n>>>16&255]<<24^mt[n>>>8&255]<<16^mt[n&255]<<8^mt[n>>>24]^Qf[i]<<24,i++):a>6&&l%a===4&&(n=mt[n>>>24]<<24^mt[n>>>16&255]<<16^mt[n>>>8&255]<<8^mt[n&255]),r[l]=r[l-a]^n;if(e){var c,u=Ht[0],f=Ht[1],d=Ht[2],p=Ht[3],h=r.slice(0);o=r.length;for(var l=0,g=o-gn;l<o;l+=gn,g-=gn)if(l===0||l===o-gn)h[l]=r[g],h[l+1]=r[g+3],h[l+2]=r[g+2],h[l+3]=r[g+1];else for(var y=0;y<gn;++y)c=r[g+y],h[l+(3&-y)]=u[mt[c>>>24]]^f[mt[c>>>16&255]]^d[mt[c>>>8&255]]^p[mt[c&255]];r=h}return r}function bo(t,e,r,n){var i=t.length/4-1,a,s,o,l,c;n?(a=Ht[0],s=Ht[1],o=Ht[2],l=Ht[3],c=xo):(a=Zr[0],s=Zr[1],o=Zr[2],l=Zr[3],c=mt);var u,f,d,p,h,g,y;u=e[0]^t[0],f=e[n?3:1]^t[1],d=e[2]^t[2],p=e[n?1:3]^t[3];for(var b=3,S=1;S<i;++S)h=a[u>>>24]^s[f>>>16&255]^o[d>>>8&255]^l[p&255]^t[++b],g=a[f>>>24]^s[d>>>16&255]^o[p>>>8&255]^l[u&255]^t[++b],y=a[d>>>24]^s[p>>>16&255]^o[u>>>8&255]^l[f&255]^t[++b],p=a[p>>>24]^s[u>>>16&255]^o[f>>>8&255]^l[d&255]^t[++b],u=h,f=g,d=y;r[0]=c[u>>>24]<<24^c[f>>>16&255]<<16^c[d>>>8&255]<<8^c[p&255]^t[++b],r[n?3:1]=c[f>>>24]<<24^c[d>>>16&255]<<16^c[p>>>8&255]<<8^c[u&255]^t[++b],r[2]=c[d>>>24]<<24^c[p>>>16&255]<<16^c[u>>>8&255]<<8^c[f&255]^t[++b],r[n?1:3]=c[p>>>24]<<24^c[u>>>16&255]<<16^c[f>>>8&255]<<8^c[d&255]^t[++b]}function Za(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=Pe.cipher.createDecipher(r,t.key):n=Pe.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(a,s){var o=null;s instanceof Pe.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,i.call(n,s)},n}var ci=de;ci.pki=ci.pki||{};var Co=ci.pki.oids=ci.oids=ci.oids||{};function U(t,e){Co[t]=e,Co[e]=t}function Ie(t,e){Co[t]=e}U("1.2.840.113549.1.1.1","rsaEncryption");U("1.2.840.113549.1.1.4","md5WithRSAEncryption");U("1.2.840.113549.1.1.5","sha1WithRSAEncryption");U("1.2.840.113549.1.1.7","RSAES-OAEP");U("1.2.840.113549.1.1.8","mgf1");U("1.2.840.113549.1.1.9","pSpecified");U("1.2.840.113549.1.1.10","RSASSA-PSS");U("1.2.840.113549.1.1.11","sha256WithRSAEncryption");U("1.2.840.113549.1.1.12","sha384WithRSAEncryption");U("1.2.840.113549.1.1.13","sha512WithRSAEncryption");U("1.3.101.112","EdDSA25519");U("1.2.840.10040.4.3","dsa-with-sha1");U("1.3.14.3.2.7","desCBC");U("1.3.14.3.2.26","sha1");U("1.3.14.3.2.29","sha1WithRSASignature");U("2.16.840.1.101.3.4.2.1","sha256");U("2.16.840.1.101.3.4.2.2","sha384");U("2.16.840.1.101.3.4.2.3","sha512");U("2.16.840.1.101.3.4.2.4","sha224");U("2.16.840.1.101.3.4.2.5","sha512-224");U("2.16.840.1.101.3.4.2.6","sha512-256");U("1.2.840.113549.2.2","md2");U("1.2.840.113549.2.5","md5");U("1.2.840.113549.1.7.1","data");U("1.2.840.113549.1.7.2","signedData");U("1.2.840.113549.1.7.3","envelopedData");U("1.2.840.113549.1.7.4","signedAndEnvelopedData");U("1.2.840.113549.1.7.5","digestedData");U("1.2.840.113549.1.7.6","encryptedData");U("1.2.840.113549.1.9.1","emailAddress");U("1.2.840.113549.1.9.2","unstructuredName");U("1.2.840.113549.1.9.3","contentType");U("1.2.840.113549.1.9.4","messageDigest");U("1.2.840.113549.1.9.5","signingTime");U("1.2.840.113549.1.9.6","counterSignature");U("1.2.840.113549.1.9.7","challengePassword");U("1.2.840.113549.1.9.8","unstructuredAddress");U("1.2.840.113549.1.9.14","extensionRequest");U("1.2.840.113549.1.9.20","friendlyName");U("1.2.840.113549.1.9.21","localKeyId");U("1.2.840.113549.1.9.22.1","x509Certificate");U("1.2.840.113549.1.12.10.1.1","keyBag");U("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");U("1.2.840.113549.1.12.10.1.3","certBag");U("1.2.840.113549.1.12.10.1.4","crlBag");U("1.2.840.113549.1.12.10.1.5","secretBag");U("1.2.840.113549.1.12.10.1.6","safeContentsBag");U("1.2.840.113549.1.5.13","pkcs5PBES2");U("1.2.840.113549.1.5.12","pkcs5PBKDF2");U("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");U("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");U("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");U("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");U("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");U("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");U("1.2.840.113549.2.7","hmacWithSHA1");U("1.2.840.113549.2.8","hmacWithSHA224");U("1.2.840.113549.2.9","hmacWithSHA256");U("1.2.840.113549.2.10","hmacWithSHA384");U("1.2.840.113549.2.11","hmacWithSHA512");U("1.2.840.113549.3.7","des-EDE3-CBC");U("2.16.840.1.101.3.4.1.2","aes128-CBC");U("2.16.840.1.101.3.4.1.22","aes192-CBC");U("2.16.840.1.101.3.4.1.42","aes256-CBC");U("2.5.4.3","commonName");U("2.5.4.4","surname");U("2.5.4.5","serialNumber");U("2.5.4.6","countryName");U("2.5.4.7","localityName");U("2.5.4.8","stateOrProvinceName");U("2.5.4.9","streetAddress");U("2.5.4.10","organizationName");U("2.5.4.11","organizationalUnitName");U("2.5.4.12","title");U("2.5.4.13","description");U("2.5.4.15","businessCategory");U("2.5.4.17","postalCode");U("2.5.4.42","givenName");U("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");U("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");U("2.16.840.1.113730.1.1","nsCertType");U("2.16.840.1.113730.1.13","nsComment");Ie("2.5.29.1","authorityKeyIdentifier");Ie("2.5.29.2","keyAttributes");Ie("2.5.29.3","certificatePolicies");Ie("2.5.29.4","keyUsageRestriction");Ie("2.5.29.5","policyMapping");Ie("2.5.29.6","subtreesConstraint");Ie("2.5.29.7","subjectAltName");Ie("2.5.29.8","issuerAltName");Ie("2.5.29.9","subjectDirectoryAttributes");Ie("2.5.29.10","basicConstraints");Ie("2.5.29.11","nameConstraints");Ie("2.5.29.12","policyConstraints");Ie("2.5.29.13","basicConstraints");U("2.5.29.14","subjectKeyIdentifier");U("2.5.29.15","keyUsage");Ie("2.5.29.16","privateKeyUsagePeriod");U("2.5.29.17","subjectAltName");U("2.5.29.18","issuerAltName");U("2.5.29.19","basicConstraints");Ie("2.5.29.20","cRLNumber");Ie("2.5.29.21","cRLReason");Ie("2.5.29.22","expirationDate");Ie("2.5.29.23","instructionCode");Ie("2.5.29.24","invalidityDate");Ie("2.5.29.25","cRLDistributionPoints");Ie("2.5.29.26","issuingDistributionPoint");Ie("2.5.29.27","deltaCRLIndicator");Ie("2.5.29.28","issuingDistributionPoint");Ie("2.5.29.29","certificateIssuer");Ie("2.5.29.30","nameConstraints");U("2.5.29.31","cRLDistributionPoints");U("2.5.29.32","certificatePolicies");Ie("2.5.29.33","policyMappings");Ie("2.5.29.34","policyConstraints");U("2.5.29.35","authorityKeyIdentifier");Ie("2.5.29.36","policyConstraints");U("2.5.29.37","extKeyUsage");Ie("2.5.29.46","freshestCRL");Ie("2.5.29.54","inhibitAnyPolicy");U("1.3.6.1.4.1.11129.2.4.2","timestampList");U("1.3.6.1.5.5.7.1.1","authorityInfoAccess");U("1.3.6.1.5.5.7.3.1","serverAuth");U("1.3.6.1.5.5.7.3.2","clientAuth");U("1.3.6.1.5.5.7.3.3","codeSigning");U("1.3.6.1.5.5.7.3.4","emailProtection");U("1.3.6.1.5.5.7.3.8","timeStamping");var Me=de,$=Me.asn1=Me.asn1||{};$.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};$.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};$.create=function(t,e,r,n,i){if(Me.util.isArray(n)){for(var a=[],s=0;s<n.length;++s)n[s]!==void 0&&a.push(n[s]);n=a}var o={tagClass:t,type:e,constructed:r,composed:r||Me.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(o.bitStringContents=i.bitStringContents,o.original=$.copy(o)),o};$.copy=function(t,e){var r;if(Me.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push($.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:$.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};$.equals=function(t,e,r){if(Me.util.isArray(t)){if(!Me.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!$.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&$.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};$.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function Jn(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var sm=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var a=r&127;Jn(t,e,a),n=t.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};$.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=Me.util.createBuffer(t));var r=t.length(),n=fa(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function fa(t,e,r,n){var i;Jn(t,e,2);var a=t.getByte();e--;var s=a&192,o=a&31;i=t.length();var l=sm(t,e);if(e-=i-t.length(),l!==void 0&&l>e){if(n.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=t.length(),c.remaining=e,c.requested=l,c}l=e}var u,f,d=(a&32)===32;if(d)if(u=[],l===void 0)for(;;){if(Jn(t,e,2),t.bytes(2)==="\0\0"){t.getBytes(2),e-=2;break}i=t.length(),u.push(fa(t,e,r+1,n)),e-=i-t.length()}else for(;l>0;)i=t.length(),u.push(fa(t,l,r+1,n)),e-=i-t.length(),l-=i-t.length();if(u===void 0&&s===$.Class.UNIVERSAL&&o===$.Type.BITSTRING&&(f=t.bytes(l)),u===void 0&&n.decodeBitStrings&&s===$.Class.UNIVERSAL&&o===$.Type.BITSTRING&&l>1){var p=t.read,h=e,g=0;if(o===$.Type.BITSTRING&&(Jn(t,e,1),g=t.getByte(),e--),g===0)try{i=t.length();var y={strict:!0,decodeBitStrings:!0},b=fa(t,e,r+1,y),S=i-t.length();e-=S,o==$.Type.BITSTRING&&S++;var E=b.tagClass;S===l&&(E===$.Class.UNIVERSAL||E===$.Class.CONTEXT_SPECIFIC)&&(u=[b])}catch{}u===void 0&&(t.read=p,e=h)}if(u===void 0){if(l===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");l=e}if(o===$.Type.BMPSTRING)for(u="";l>0;l-=2)Jn(t,e,2),u+=String.fromCharCode(t.getInt16()),e-=2;else u=t.getBytes(l),e-=l}var B=f===void 0?null:{bitStringContents:f};return $.create(s,o,d,u,B)}$.toDer=function(t){var e=Me.util.createBuffer(),r=t.tagClass|t.type,n=Me.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=$.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var a=0;a<t.value.length;++a)t.value[a]!==void 0&&n.putBuffer($.toDer(t.value[a]))}else if(t.type===$.Type.BMPSTRING)for(var a=0;a<t.value.length;++a)n.putInt16(t.value.charCodeAt(a));else t.type===$.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&!(t.value.charCodeAt(1)&128)||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var s=n.length(),o="";do o+=String.fromCharCode(s&255),s=s>>>8;while(s>0);e.putByte(o.length|128);for(var a=o.length-1;a>=0;--a)e.putByte(o.charCodeAt(a))}return e.putBuffer(n),e};$.oidToDer=function(t){var e=t.split("."),r=Me.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,a,s,o=2;o<e.length;++o){n=!0,i=[],a=parseInt(e[o],10);do s=a&127,a=a>>>7,n||(s|=128),i.push(s),n=!1;while(a>0);for(var l=i.length-1;l>=0;--l)r.putByte(i[l])}return r};$.derToOid=function(t){var e;typeof t=="string"&&(t=Me.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};$.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),a=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),o=0;if(t.length>11){var l=t.charAt(10),c=10;l!=="+"&&l!=="-"&&(o=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(a,s,o,0),c&&(l=t.charAt(c),l==="+"||l==="-")){var u=parseInt(t.substr(c+1,2),10),f=parseInt(t.substr(c+4,2),10),d=u*60+f;d*=6e4,l==="+"?e.setTime(+e-d):e.setTime(+e+d)}return e};$.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),s=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),l=0,c=0,u=!1;t.charAt(t.length-1)==="Z"&&(u=!0);var f=t.length-5,d=t.charAt(f);if(d==="+"||d==="-"){var p=parseInt(t.substr(f+1,2),10),h=parseInt(t.substr(f+4,2),10);c=p*60+h,c*=6e4,d==="+"&&(c*=-1),u=!0}return t.charAt(14)==="."&&(l=parseFloat(t.substr(14),10)*1e3),u?(e.setUTCFullYear(r,n,i),e.setUTCHours(a,s,o,l),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(a,s,o,l)),e};$.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};$.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};$.integerToDer=function(t){var e=Me.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};$.derToInteger=function(t){typeof t=="string"&&(t=Me.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};$.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&Me.util.isArray(e.value))for(var a=0,s=0;i&&s<e.value.length;++s)i=e.value[s].optional||!1,t.value[a]&&(i=$.validate(t.value[a],e.value[s],r,n),i?++a:e.value[s].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t))if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var o=t.bitStringContents.charCodeAt(0);if(o!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var kc=/[^\\u0000-\\u00ff]/;$.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",a=0;a<e*r;++a)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case $.Class.UNIVERSAL:n+="Universal:";break;case $.Class.APPLICATION:n+="Application:";break;case $.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case $.Class.PRIVATE:n+="Private:";break}if(t.tagClass===$.Class.UNIVERSAL)switch(n+=t.type,t.type){case $.Type.NONE:n+=" (None)";break;case $.Type.BOOLEAN:n+=" (Boolean)";break;case $.Type.INTEGER:n+=" (Integer)";break;case $.Type.BITSTRING:n+=" (Bit string)";break;case $.Type.OCTETSTRING:n+=" (Octet string)";break;case $.Type.NULL:n+=" (Null)";break;case $.Type.OID:n+=" (Object Identifier)";break;case $.Type.ODESC:n+=" (Object Descriptor)";break;case $.Type.EXTERNAL:n+=" (External or Instance of)";break;case $.Type.REAL:n+=" (Real)";break;case $.Type.ENUMERATED:n+=" (Enumerated)";break;case $.Type.EMBEDDED:n+=" (Embedded PDV)";break;case $.Type.UTF8:n+=" (UTF8)";break;case $.Type.ROID:n+=" (Relative Object Identifier)";break;case $.Type.SEQUENCE:n+=" (Sequence)";break;case $.Type.SET:n+=" (Set)";break;case $.Type.PRINTABLESTRING:n+=" (Printable String)";break;case $.Type.IA5String:n+=" (IA5String (ASCII))";break;case $.Type.UTCTIME:n+=" (UTC time)";break;case $.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case $.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var s=0,o="",a=0;a<t.value.length;++a)t.value[a]!==void 0&&(s+=1,o+=$.prettyPrint(t.value[a],e+1,r),a+1<t.value.length&&(o+=","));n+=i+"Sub values: "+s+o}else{if(n+=i+"Value: ",t.type===$.Type.OID){var l=$.derToOid(t.value);n+=l,Me.pki&&Me.pki.oids&&l in Me.pki.oids&&(n+=" ("+Me.pki.oids[l]+") ")}if(t.type===$.Type.INTEGER)try{n+=$.derToInteger(t.value)}catch{n+="0x"+Me.util.bytesToHex(t.value)}else if(t.type===$.Type.BITSTRING){if(t.value.length>1?n+="0x"+Me.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var c=t.value.charCodeAt(0);c==1?n+=" (1 unused bit shown)":c>1&&(n+=" ("+c+" unused bits shown)")}}else if(t.type===$.Type.OCTETSTRING)kc.test(t.value)||(n+="("+t.value+") "),n+="0x"+Me.util.bytesToHex(t.value);else if(t.type===$.Type.UTF8)try{n+=Me.util.decodeUtf8(t.value)}catch(u){if(u.message==="URI malformed")n+="0x"+Me.util.bytesToHex(t.value)+" (malformed UTF8)";else throw u}else t.type===$.Type.PRINTABLESTRING||t.type===$.Type.IA5String?n+=t.value:kc.test(t.value)?n+="0x"+Me.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n};var Ca=de;Ca.md=Ca.md||{};Ca.md.algorithms=Ca.md.algorithms||{};var pr=de,om=pr.hmac=pr.hmac||{};om.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(a,s){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in pr.md.algorithms)e=pr.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else e=a;if(s===null)s=t;else{if(typeof s=="string")s=pr.util.createBuffer(s);else if(pr.util.isArray(s)){var o=s;s=pr.util.createBuffer();for(var l=0;l<o.length;++l)s.putByte(o[l])}var c=s.length();c>e.blockLength&&(e.start(),e.update(s.bytes()),s=e.digest()),r=pr.util.createBuffer(),n=pr.util.createBuffer(),c=s.length();for(var l=0;l<c;++l){var o=s.at(l);r.putByte(54^o),n.putByte(92^o)}if(c<e.blockLength)for(var o=e.blockLength-c,l=0;l<o;++l)r.putByte(54),n.putByte(92);t=s,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(a){e.update(a)},i.getMac=function(){var a=e.digest().bytes();return e.start(),e.update(n),e.update(a),e.digest()},i.digest=i.getMac,i};var tr=de,Jf=tr.md5=tr.md5||{};tr.md.md5=tr.md.algorithms.md5=Jf;Jf.create=function(){ed||lm();var t=null,e=tr.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return e=tr.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=tr.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=s[1],s[1]=s[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),Nc(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=tr.util.createBuffer();i.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(So.substr(0,n.blockLength-s));for(var o,l=0,c=n.fullMessageLength.length-1;c>=0;--c)o=n.fullMessageLength[c]*8+l,l=o/4294967296>>>0,i.putInt32Le(o>>>0);var u={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};Nc(u,r,i);var f=tr.util.createBuffer();return f.putInt32Le(u.h0),f.putInt32Le(u.h1),f.putInt32Le(u.h2),f.putInt32Le(u.h3),f},n};var So=null,da=null,ei=null,xn=null,ed=!1;function lm(){So="",So+=tr.util.fillString("\0",64),da=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],ei=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],xn=new Array(64);for(var t=0;t<64;++t)xn[t]=Math.floor(Math.abs(Math.sin(t+1))*4294967296);ed=!0}function Nc(t,e,r){for(var n,i,a,s,o,l,c,u,f=r.length();f>=64;){for(i=t.h0,a=t.h1,s=t.h2,o=t.h3,u=0;u<16;++u)e[u]=r.getInt32Le(),l=o^a&(s^o),n=i+l+xn[u]+e[u],c=ei[u],i=o,o=s,s=a,a+=n<<c|n>>>32-c;for(;u<32;++u)l=s^o&(a^s),n=i+l+xn[u]+e[da[u]],c=ei[u],i=o,o=s,s=a,a+=n<<c|n>>>32-c;for(;u<48;++u)l=a^s^o,n=i+l+xn[u]+e[da[u]],c=ei[u],i=o,o=s,s=a,a+=n<<c|n>>>32-c;for(;u<64;++u)l=s^(a|~o),n=i+l+xn[u]+e[da[u]],c=ei[u],i=o,o=s,s=a,a+=n<<c|n>>>32-c;t.h0=t.h0+i|0,t.h1=t.h1+a|0,t.h2=t.h2+s|0,t.h3=t.h3+o|0,f-=64}}var Sa=de,td=Sa.pem=Sa.pem||{};td.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=qi(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=qi(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=qi(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=qi(t.headers[i]);return t.procType&&(r+=`\r
`),r+=Sa.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};td.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,a;a=r.exec(t),!!a;){var s=a[1];s==="NEW CERTIFICATE REQUEST"&&(s="CERTIFICATE REQUEST");var o={type:s,procType:null,contentDomain:null,dekInfo:null,headers:[],body:Sa.util.decode64(a[3])};if(e.push(o),!!a[2]){for(var l=a[2].split(i),c=0;a&&c<l.length;){for(var u=l[c].replace(/\s+$/,""),f=c+1;f<l.length;++f){var d=l[f];if(!/\s/.test(d[0]))break;u+=d,c=f}if(a=u.match(n),a){for(var p={name:a[1],values:[]},h=a[2].split(","),g=0;g<h.length;++g)p.values.push(cm(h[g]));if(o.procType)if(!o.contentDomain&&p.name==="Content-Domain")o.contentDomain=h[0]||"";else if(!o.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');o.dekInfo={algorithm:h[0],parameters:h[1]||null}}else o.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');o.procType={version:h[0],type:h[1]}}}++c}if(o.procType==="ENCRYPTED"&&!o.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function qi(t){for(var e=t.name+": ",r=[],n=function(l,c){return" "+c},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var a=0,s=-1,i=0;i<e.length;++i,++a)if(a>65&&s!==-1){var o=e[s];o===","?(++s,e=e.substr(0,s)+`\r
 `+e.substr(s)):e=e.substr(0,s)+`\r
`+o+e.substr(s+1),a=i-s-1,s=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(s=i);return e}function cm(t){return t.replace(/^\s+/,"")}var Ve=de;Ve.des=Ve.des||{};Ve.des.startEncrypting=function(t,e,r,n){var i=Ja({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};Ve.des.createEncryptionCipher=function(t,e){return Ja({key:t,output:null,decrypt:!1,mode:e})};Ve.des.startDecrypting=function(t,e,r,n){var i=Ja({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};Ve.des.createDecryptionCipher=function(t,e){return Ja({key:t,output:null,decrypt:!0,mode:e})};Ve.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return Lc(r._keys,n,i,!1)},decrypt:function(n,i){return Lc(r._keys,n,i,!0)}}}),r._init=!1};Ve.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=Ve.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=vm(e),this._init=!0}};ar("DES-ECB",Ve.cipher.modes.ecb);ar("DES-CBC",Ve.cipher.modes.cbc);ar("DES-CFB",Ve.cipher.modes.cfb);ar("DES-OFB",Ve.cipher.modes.ofb);ar("DES-CTR",Ve.cipher.modes.ctr);ar("3DES-ECB",Ve.cipher.modes.ecb);ar("3DES-CBC",Ve.cipher.modes.cbc);ar("3DES-CFB",Ve.cipher.modes.cfb);ar("3DES-OFB",Ve.cipher.modes.ofb);ar("3DES-CTR",Ve.cipher.modes.ctr);function ar(t,e){var r=function(){return new Ve.des.Algorithm(t,e)};Ve.cipher.registerAlgorithm(t,r)}var um=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],fm=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],dm=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],hm=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],pm=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],gm=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],ym=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],mm=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function vm(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],l=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],h=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=t.length()>8?3:1,y=[],b=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],S=0,E,B=0;B<g;B++){var I=t.getInt32(),T=t.getInt32();E=(I>>>4^T)&252645135,T^=E,I^=E<<4,E=(T>>>-16^I)&65535,I^=E,T^=E<<-16,E=(I>>>2^T)&858993459,T^=E,I^=E<<2,E=(T>>>-16^I)&65535,I^=E,T^=E<<-16,E=(I>>>1^T)&1431655765,T^=E,I^=E<<1,E=(T>>>8^I)&16711935,I^=E,T^=E<<8,E=(I>>>1^T)&1431655765,T^=E,I^=E<<1,E=I<<8|T>>>20&240,I=T<<24|T<<8&16711680|T>>>8&65280|T>>>24&240,T=E;for(var N=0;N<b.length;++N){b[N]?(I=I<<2|I>>>26,T=T<<2|T>>>26):(I=I<<1|I>>>27,T=T<<1|T>>>27),I&=-15,T&=-15;var D=e[I>>>28]|r[I>>>24&15]|n[I>>>20&15]|i[I>>>16&15]|a[I>>>12&15]|s[I>>>8&15]|o[I>>>4&15],F=l[T>>>28]|c[T>>>24&15]|u[T>>>20&15]|f[T>>>16&15]|d[T>>>12&15]|p[T>>>8&15]|h[T>>>4&15];E=(F>>>16^D)&65535,y[S++]=D^E,y[S++]=F^E<<16}}return y}function Lc(t,e,r,n){var i=t.length===32?3:9,a;i===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,o=e[0],l=e[1];s=(o>>>4^l)&252645135,l^=s,o^=s<<4,s=(o>>>16^l)&65535,l^=s,o^=s<<16,s=(l>>>2^o)&858993459,o^=s,l^=s<<2,s=(l>>>8^o)&16711935,o^=s,l^=s<<8,s=(o>>>1^l)&1431655765,l^=s,o^=s<<1,o=o<<1|o>>>31,l=l<<1|l>>>31;for(var c=0;c<i;c+=3){for(var u=a[c+1],f=a[c+2],d=a[c];d!=u;d+=f){var p=l^t[d],h=(l>>>4|l<<28)^t[d+1];s=o,o=l,l=s^(fm[p>>>24&63]|hm[p>>>16&63]|gm[p>>>8&63]|mm[p&63]|um[h>>>24&63]|dm[h>>>16&63]|pm[h>>>8&63]|ym[h&63])}s=o,o=l,l=s}o=o>>>1|o<<31,l=l>>>1|l<<31,s=(o>>>1^l)&1431655765,l^=s,o^=s<<1,s=(l>>>8^o)&16711935,o^=s,l^=s<<8,s=(l>>>2^o)&858993459,o^=s,l^=s<<2,s=(o>>>16^l)&65535,l^=s,o^=s<<16,s=(o>>>4^l)&252645135,l^=s,o^=s<<4,r[0]=o,r[1]=l}function Ja(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=Ve.cipher.createDecipher(r,t.key):n=Ve.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(a,s){var o=null;s instanceof Ve.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,i.call(n,s)},n}var vt=de,xm=vt.pkcs5=vt.pkcs5||{},ur;vt.util.isNodejs&&!vt.options.usePureJavaScript&&(ur=Wa);vt.pbkdf2=xm.pbkdf2=function(t,e,r,n,i,a){if(typeof i=="function"&&(a=i,i=null),vt.util.isNodejs&&!vt.options.usePureJavaScript&&ur.pbkdf2&&(i===null||typeof i!="object")&&(ur.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),a?ur.pbkdf2Sync.length===4?ur.pbkdf2(t,e,r,n,function(E,B){if(E)return a(E);a(null,B.toString("binary"))}):ur.pbkdf2(t,e,r,n,i,function(E,B){if(E)return a(E);a(null,B.toString("binary"))}):ur.pbkdf2Sync.length===4?ur.pbkdf2Sync(t,e,r,n).toString("binary"):ur.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in vt.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=vt.md[i].create()}var s=i.digestLength;if(n>4294967295*s){var o=new Error("Derived key is too long.");if(a)return a(o);throw o}var l=Math.ceil(n/s),c=n-(l-1)*s,u=vt.hmac.create();u.start(i,t);var f="",d,p,h;if(!a){for(var g=1;g<=l;++g){u.start(null,null),u.update(e),u.update(vt.util.int32ToBytes(g)),d=h=u.digest().getBytes();for(var y=2;y<=r;++y)u.start(null,null),u.update(h),p=u.digest().getBytes(),d=vt.util.xorBytes(d,p,s),h=p;f+=g<l?d:d.substr(0,c)}return f}var g=1,y;function b(){if(g>l)return a(null,f);u.start(null,null),u.update(e),u.update(vt.util.int32ToBytes(g)),d=h=u.digest().getBytes(),y=2,S()}function S(){if(y<=r)return u.start(null,null),u.update(h),p=u.digest().getBytes(),d=vt.util.xorBytes(d,p,s),h=p,++y,vt.util.setImmediate(S);f+=g<l?d:d.substr(0,c),++g,b()}b()};var rr=de,rd=rr.sha256=rr.sha256||{};rr.md.sha256=rr.md.algorithms.sha256=rd;rd.create=function(){nd||bm();var t=null,e=rr.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return e=rr.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=rr.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=s[1],s[1]=s[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),Dc(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=rr.util.createBuffer();i.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(Eo.substr(0,n.blockLength-s));for(var o,l,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)o=n.fullMessageLength[u+1]*8,l=o/4294967296>>>0,c+=l,i.putInt32(c>>>0),c=o>>>0;i.putInt32(c);var f={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};Dc(f,r,i);var d=rr.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d.putInt32(f.h5),d.putInt32(f.h6),d.putInt32(f.h7),d},n};var Eo=null,nd=!1,id=null;function bm(){Eo="",Eo+=rr.util.fillString("\0",64),id=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],nd=!0}function Dc(t,e,r){for(var n,i,a,s,o,l,c,u,f,d,p,h,g,y,b,S=r.length();S>=64;){for(c=0;c<16;++c)e[c]=r.getInt32();for(;c<64;++c)n=e[c-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[c-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[c]=n+e[c-7]+i+e[c-16]|0;for(u=t.h0,f=t.h1,d=t.h2,p=t.h3,h=t.h4,g=t.h5,y=t.h6,b=t.h7,c=0;c<64;++c)s=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7),o=y^h&(g^y),a=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),l=u&f|d&(u^f),n=b+s+o+id[c]+e[c],i=a+l,b=y,y=g,g=h,h=p+n>>>0,p=d,d=f,f=u,u=n+i>>>0;t.h0=t.h0+u|0,t.h1=t.h1+f|0,t.h2=t.h2+d|0,t.h3=t.h3+p|0,t.h4=t.h4+h|0,t.h5=t.h5+g|0,t.h6=t.h6+y|0,t.h7=t.h7+b|0,S-=64}}var Jt=de,ha=null;Jt.util.isNodejs&&!Jt.options.usePureJavaScript&&!process.versions["node-webkit"]&&(ha=Wa);var Cm=Jt.prng=Jt.prng||{};Cm.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(c,u){if(!u)return e.generateSync(c);var f=e.plugin.cipher,d=e.plugin.increment,p=e.plugin.formatKey,h=e.plugin.formatSeed,g=Jt.util.createBuffer();e.key=null,y();function y(b){if(b)return u(b);if(g.length()>=c)return u(null,g.getBytes(c));if(e.generated>1048575&&(e.key=null),e.key===null)return Jt.util.nextTick(function(){a(y)});var S=f(e.key,e.seed);e.generated+=S.length,g.putBytes(S),e.key=p(f(e.key,d(e.seed))),e.seed=h(f(e.key,e.seed)),Jt.util.setImmediate(y)}},e.generateSync=function(c){var u=e.plugin.cipher,f=e.plugin.increment,d=e.plugin.formatKey,p=e.plugin.formatSeed;e.key=null;for(var h=Jt.util.createBuffer();h.length()<c;){e.generated>1048575&&(e.key=null),e.key===null&&s();var g=u(e.key,e.seed);e.generated+=g.length,h.putBytes(g),e.key=d(u(e.key,f(e.seed))),e.seed=p(u(e.key,e.seed))}return h.getBytes(c)};function a(c){if(e.pools[0].messageLength>=32)return o(),c();var u=32-e.pools[0].messageLength<<5;e.seedFile(u,function(f,d){if(f)return c(f);e.collect(d),o(),c()})}function s(){if(e.pools[0].messageLength>=32)return o();var c=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(c)),o()}function o(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var c=e.plugin.md.create();c.update(e.keyBytes);for(var u=1,f=0;f<32;++f)e.reseeds%u===0&&(c.update(e.pools[f].digest().getBytes()),e.pools[f].start()),u=u<<1;e.keyBytes=c.digest().getBytes(),c.start(),c.update(e.keyBytes);var d=c.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(d),e.generated=0}function l(c){var u=null,f=Jt.util.globalScope,d=f.crypto||f.msCrypto;d&&d.getRandomValues&&(u=function(I){return d.getRandomValues(I)});var p=Jt.util.createBuffer();if(u)for(;p.length()<c;){var h=Math.max(1,Math.min(c-p.length(),65536)/4),g=new Uint32Array(Math.floor(h));try{u(g);for(var y=0;y<g.length;++y)p.putInt32(g[y])}catch(I){if(!(typeof QuotaExceededError<"u"&&I instanceof QuotaExceededError))throw I}}if(p.length()<c)for(var b,S,E,B=Math.floor(Math.random()*65536);p.length()<c;){S=16807*(B&65535),b=16807*(B>>16),S+=(b&32767)<<16,S+=b>>15,S=(S&2147483647)+(S>>31),B=S&4294967295;for(var y=0;y<3;++y)E=B>>>(y<<3),E^=Math.floor(Math.random()*256),p.putByte(E&255)}return p.getBytes(c)}return ha?(e.seedFile=function(c,u){ha.randomBytes(c,function(f,d){if(f)return u(f);u(null,d.toString())})},e.seedFileSync=function(c){return ha.randomBytes(c).toString()}):(e.seedFile=function(c,u){try{u(null,l(c))}catch(f){u(f)}},e.seedFileSync=l),e.collect=function(c){for(var u=c.length,f=0;f<u;++f)e.pools[e.pool].update(c.substr(f,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(c,u){for(var f="",d=0;d<u;d+=8)f+=String.fromCharCode(c>>d&255);e.collect(f)},e.registerWorker=function(c){if(c===self)e.seedFile=function(f,d){function p(h){var g=h.data;g.forge&&g.forge.prng&&(self.removeEventListener("message",p),d(g.forge.prng.err,g.forge.prng.bytes))}self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:f}}})};else{var u=function(f){var d=f.data;d.forge&&d.forge.prng&&e.seedFile(d.forge.prng.needed,function(p,h){c.postMessage({forge:{prng:{err:p,bytes:h}}})})};c.addEventListener("message",u)}},e};var st=de;(function(){if(st.random&&st.random.getBytes){st.random;return}(function(t){var e={},r=new Array(4),n=st.util.createBuffer();e.formatKey=function(f){var d=st.util.createBuffer(f);return f=new Array(4),f[0]=d.getInt32(),f[1]=d.getInt32(),f[2]=d.getInt32(),f[3]=d.getInt32(),st.aes._expandKey(f,!1)},e.formatSeed=function(f){var d=st.util.createBuffer(f);return f=new Array(4),f[0]=d.getInt32(),f[1]=d.getInt32(),f[2]=d.getInt32(),f[3]=d.getInt32(),f},e.cipher=function(f,d){return st.aes._updateBlock(f,d,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(f){return++f[3],f},e.md=st.md.sha256;function i(){var f=st.prng.create(e);return f.getBytes=function(d,p){return f.generate(d,p)},f.getBytesSync=function(d){return f.generate(d)},f}var a=i(),s=null,o=st.util.globalScope,l=o.crypto||o.msCrypto;if(l&&l.getRandomValues&&(s=function(f){return l.getRandomValues(f)}),st.options.usePureJavaScript||!st.util.isNodejs&&!s){if(a.collectInt(+new Date,32),typeof navigator<"u"){var c="";for(var u in navigator)try{typeof navigator[u]=="string"&&(c+=navigator[u])}catch{}a.collect(c),c=null}t&&(t().mousemove(function(f){a.collectInt(f.clientX,16),a.collectInt(f.clientY,16)}),t().keypress(function(f){a.collectInt(f.charCode,8)}))}if(!st.random)st.random=a;else for(var u in a)st.random[u]=a[u];st.random.createInstance=i,st.random})(typeof jQuery<"u"?jQuery:null)})();var Et=de,js=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],Pc=[1,2,3,5],Sm=function(t,e){return t<<e&65535|(t&65535)>>16-e},Em=function(t,e){return(t&65535)>>e|t<<16-e&65535};Et.rc2=Et.rc2||{};Et.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Et.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,a=Math.ceil(i/8),s=255>>(i&7),o;for(o=n;o<128;o++)r.putByte(js[r.at(o-1)+r.at(o-n)&255]);for(r.setAt(128-a,js[r.at(128-a)&s]),o=127-a;o>=0;o--)r.setAt(o,js[r.at(o+1)^r.at(o+a)]);return r};var ad=function(t,e,r){var n=!1,i=null,a=null,s=null,o,l,c,u,f=[];for(t=Et.rc2.expandKey(t,e),c=0;c<64;c++)f.push(t.getInt16Le());r?(o=function(h){for(c=0;c<4;c++)h[c]+=f[u]+(h[(c+3)%4]&h[(c+2)%4])+(~h[(c+3)%4]&h[(c+1)%4]),h[c]=Sm(h[c],Pc[c]),u++},l=function(h){for(c=0;c<4;c++)h[c]+=f[h[(c+3)%4]&63]}):(o=function(h){for(c=3;c>=0;c--)h[c]=Em(h[c],Pc[c]),h[c]-=f[u]+(h[(c+3)%4]&h[(c+2)%4])+(~h[(c+3)%4]&h[(c+1)%4]),u--},l=function(h){for(c=3;c>=0;c--)h[c]-=f[h[(c+3)%4]&63]});var d=function(h){var g=[];for(c=0;c<4;c++){var y=i.getInt16Le();s!==null&&(r?y^=s.getInt16Le():s.putInt16Le(y)),g.push(y&65535)}u=r?0:63;for(var b=0;b<h.length;b++)for(var S=0;S<h[b][0];S++)h[b][1](g);for(c=0;c<4;c++)s!==null&&(r?s.putInt16Le(g[c]):g[c]^=s.getInt16Le()),a.putInt16Le(g[c])},p=null;return p={start:function(h,g){h&&typeof h=="string"&&(h=Et.util.createBuffer(h)),n=!1,i=Et.util.createBuffer(),a=g||new Et.util.createBuffer,s=h,p.output=a},update:function(h){for(n||i.putBuffer(h);i.length()>=8;)d([[5,o],[1,l],[6,o],[1,l],[5,o]])},finish:function(h){var g=!0;if(r)if(h)g=h(8,i,!r);else{var y=i.length()===8?8:8-i.length();i.fillWithByte(y,y)}if(g&&(n=!0,p.update()),!r&&(g=i.length()===0,g))if(h)g=h(8,a,!r);else{var b=a.length(),S=a.at(b-1);S>b?g=!1:a.truncate(S)}return g}},p};Et.rc2.startEncrypting=function(t,e,r){var n=Et.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Et.rc2.createEncryptionCipher=function(t,e){return ad(t,e,!0)};Et.rc2.startDecrypting=function(t,e,r){var n=Et.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Et.rc2.createDecryptionCipher=function(t,e){return ad(t,e,!1)};var _o=de;_o.jsbn=_o.jsbn||{};var gr;function M(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}_o.jsbn.BigInteger=M;function Ee(){return new M(null)}function _m(t,e,r,n,i,a){for(;--a>=0;){var s=e*this.data[t++]+r.data[n]+i;i=Math.floor(s/67108864),r.data[n++]=s&67108863}return i}function Tm(t,e,r,n,i,a){for(var s=e&32767,o=e>>15;--a>=0;){var l=this.data[t]&32767,c=this.data[t++]>>15,u=o*l+c*s;l=s*l+((u&32767)<<15)+r.data[n]+(i&1073741823),i=(l>>>30)+(u>>>15)+o*c+(i>>>30),r.data[n++]=l&1073741823}return i}function Oc(t,e,r,n,i,a){for(var s=e&16383,o=e>>14;--a>=0;){var l=this.data[t]&16383,c=this.data[t++]>>14,u=o*l+c*s;l=s*l+((u&16383)<<14)+r.data[n]+i,i=(l>>28)+(u>>14)+o*c,r.data[n++]=l&268435455}return i}typeof navigator>"u"?(M.prototype.am=Oc,gr=28):navigator.appName=="Microsoft Internet Explorer"?(M.prototype.am=Tm,gr=30):navigator.appName!="Netscape"?(M.prototype.am=_m,gr=26):(M.prototype.am=Oc,gr=28);M.prototype.DB=gr;M.prototype.DM=(1<<gr)-1;M.prototype.DV=1<<gr;var cl=52;M.prototype.FV=Math.pow(2,cl);M.prototype.F1=cl-gr;M.prototype.F2=2*gr-cl;var Am="0123456789abcdefghijklmnopqrstuvwxyz",es=new Array,On,Pt;On=48;for(Pt=0;Pt<=9;++Pt)es[On++]=Pt;On=97;for(Pt=10;Pt<36;++Pt)es[On++]=Pt;On=65;for(Pt=10;Pt<36;++Pt)es[On++]=Pt;function Mc(t){return Am.charAt(t)}function sd(t,e){var r=es[t.charCodeAt(e)];return r??-1}function Im(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function wm(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function wr(t){var e=Ee();return e.fromInt(t),e}function Bm(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,a=0;--n>=0;){var s=r==8?t[n]&255:sd(t,n);if(s<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,a==0?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&t[0]&128&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&M.ZERO.subTo(this,this)}function Rm(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function km(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,a="",s=this.t,o=this.DB-s*this.DB%e;if(s-- >0)for(o<this.DB&&(n=this.data[s]>>o)>0&&(i=!0,a=Mc(n));s>=0;)o<e?(n=(this.data[s]&(1<<o)-1)<<e-o,n|=this.data[--s]>>(o+=this.DB-e)):(n=this.data[s]>>(o-=e)&r,o<=0&&(o+=this.DB,--s)),n>0&&(i=!0),i&&(a+=Mc(n));return i?a:"0"}function Nm(){var t=Ee();return M.ZERO.subTo(this,t),t}function Lm(){return this.s<0?this.negate():this}function Dm(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function ts(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Pm(){return this.t<=0?0:this.DB*(this.t-1)+ts(this.data[this.t-1]^this.s&this.DM)}function Om(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function Mm(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function Um(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,a=Math.floor(t/this.DB),s=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)e.data[o+a+1]=this.data[o]>>n|s,s=(this.data[o]&i)<<r;for(o=a-1;o>=0;--o)e.data[o]=0;e.data[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()}function Fm(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,a=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)e.data[s-r-1]|=(this.data[s]&a)<<i,e.data[s-r]=this.data[s]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&a)<<i),e.t=this.t-r,e.clamp()}function Vm(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function Km(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&M.ZERO.subTo(e,e)}function zm(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function Hm(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Ee());var a=Ee(),s=this.s,o=t.s,l=this.DB-ts(n.data[n.t-1]);l>0?(n.lShiftTo(l,a),i.lShiftTo(l,r)):(n.copyTo(a),i.copyTo(r));var c=a.t,u=a.data[c-1];if(u!=0){var f=u*(1<<this.F1)+(c>1?a.data[c-2]>>this.F2:0),d=this.FV/f,p=(1<<this.F1)/f,h=1<<this.F2,g=r.t,y=g-c,b=e??Ee();for(a.dlShiftTo(y,b),r.compareTo(b)>=0&&(r.data[r.t++]=1,r.subTo(b,r)),M.ONE.dlShiftTo(c,b),b.subTo(a,a);a.t<c;)a.data[a.t++]=0;for(;--y>=0;){var S=r.data[--g]==u?this.DM:Math.floor(r.data[g]*d+(r.data[g-1]+h)*p);if((r.data[g]+=a.am(0,S,r,y,0,c))<S)for(a.dlShiftTo(y,b),r.subTo(b,r);r.data[g]<--S;)r.subTo(b,r)}e!=null&&(r.drShiftTo(c,e),s!=o&&M.ZERO.subTo(e,e)),r.t=c,r.clamp(),l>0&&r.rShiftTo(l,r),s<0&&M.ZERO.subTo(r,r)}}}function Wm(t){var e=Ee();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(M.ZERO)>0&&t.subTo(e,e),e}function cn(t){this.m=t}function $m(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function Gm(t){return t}function jm(t){t.divRemTo(this.m,null,t)}function qm(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Ym(t,e){t.squareTo(e),this.reduce(e)}cn.prototype.convert=$m;cn.prototype.revert=Gm;cn.prototype.reduce=jm;cn.prototype.mulTo=qm;cn.prototype.sqrTo=Ym;function Qm(){if(this.t<1)return 0;var t=this.data[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function un(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function Xm(t){var e=Ee();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(M.ZERO)>0&&this.m.subTo(e,e),e}function Zm(t){var e=Ee();return t.copyTo(e),this.reduce(e),e}function Jm(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function ev(t,e){t.squareTo(e),this.reduce(e)}function tv(t,e,r){t.multiplyTo(e,r),this.reduce(r)}un.prototype.convert=Xm;un.prototype.revert=Zm;un.prototype.reduce=Jm;un.prototype.mulTo=tv;un.prototype.sqrTo=ev;function rv(){return(this.t>0?this.data[0]&1:this.s)==0}function nv(t,e){if(t>4294967295||t<1)return M.ONE;var r=Ee(),n=Ee(),i=e.convert(this),a=ts(t)-1;for(i.copyTo(r);--a>=0;)if(e.sqrTo(r,n),(t&1<<a)>0)e.mulTo(n,i,r);else{var s=r;r=n,n=s}return e.revert(r)}function iv(t,e){var r;return t<256||e.isEven()?r=new cn(e):r=new un(e),this.exp(t,r)}M.prototype.copyTo=Im;M.prototype.fromInt=wm;M.prototype.fromString=Bm;M.prototype.clamp=Rm;M.prototype.dlShiftTo=Om;M.prototype.drShiftTo=Mm;M.prototype.lShiftTo=Um;M.prototype.rShiftTo=Fm;M.prototype.subTo=Vm;M.prototype.multiplyTo=Km;M.prototype.squareTo=zm;M.prototype.divRemTo=Hm;M.prototype.invDigit=Qm;M.prototype.isEven=rv;M.prototype.exp=nv;M.prototype.toString=km;M.prototype.negate=Nm;M.prototype.abs=Lm;M.prototype.compareTo=Dm;M.prototype.bitLength=Pm;M.prototype.mod=Wm;M.prototype.modPowInt=iv;M.ZERO=wr(0);M.ONE=wr(1);function av(){var t=Ee();return this.copyTo(t),t}function sv(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function ov(){return this.t==0?this.s:this.data[0]<<24>>24}function lv(){return this.t==0?this.s:this.data[0]<<16>>16}function cv(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function uv(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function fv(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=wr(r),i=Ee(),a=Ee(),s="";for(this.divRemTo(n,i,a);i.signum()>0;)s=(r+a.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,a);return a.intValue().toString(t)+s}function dv(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,a=0,s=0,o=0;o<t.length;++o){var l=sd(t,o);if(l<0){t.charAt(o)=="-"&&this.signum()==0&&(i=!0);continue}s=e*s+l,++a>=r&&(this.dMultiply(n),this.dAddOffset(s,0),a=0,s=0)}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(s,0)),i&&M.ZERO.subTo(this,this)}function hv(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(M.ONE.shiftLeft(t-1),ul,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(M.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function pv(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function gv(t){return this.compareTo(t)==0}function yv(t){return this.compareTo(t)<0?this:t}function mv(t){return this.compareTo(t)>0?this:t}function vv(t,e,r){var n,i,a=Math.min(t.t,this.t);for(n=0;n<a;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=a;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function xv(t,e){return t&e}function bv(t){var e=Ee();return this.bitwiseTo(t,xv,e),e}function ul(t,e){return t|e}function Cv(t){var e=Ee();return this.bitwiseTo(t,ul,e),e}function od(t,e){return t^e}function Sv(t){var e=Ee();return this.bitwiseTo(t,od,e),e}function ld(t,e){return t&~e}function Ev(t){var e=Ee();return this.bitwiseTo(t,ld,e),e}function _v(){for(var t=Ee(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function Tv(t){var e=Ee();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Av(t){var e=Ee();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Iv(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function wv(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+Iv(this.data[t]);return this.s<0?this.t*this.DB:-1}function Bv(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function Rv(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=Bv(this.data[r]^e);return t}function kv(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function Nv(t,e){var r=M.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function Lv(t){return this.changeBit(t,ul)}function Dv(t){return this.changeBit(t,ld)}function Pv(t){return this.changeBit(t,od)}function Ov(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function Mv(t){var e=Ee();return this.addTo(t,e),e}function Uv(t){var e=Ee();return this.subTo(t,e),e}function Fv(t){var e=Ee();return this.multiplyTo(t,e),e}function Vv(t){var e=Ee();return this.divRemTo(t,e,null),e}function Kv(t){var e=Ee();return this.divRemTo(t,null,e),e}function zv(t){var e=Ee(),r=Ee();return this.divRemTo(t,e,r),new Array(e,r)}function Hv(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Wv(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function wi(){}function cd(t){return t}function $v(t,e,r){t.multiplyTo(e,r)}function Gv(t,e){t.squareTo(e)}wi.prototype.convert=cd;wi.prototype.revert=cd;wi.prototype.mulTo=$v;wi.prototype.sqrTo=Gv;function jv(t){return this.exp(t,new wi)}function qv(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function Yv(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function Mn(t){this.r2=Ee(),this.q3=Ee(),M.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Qv(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=Ee();return t.copyTo(e),this.reduce(e),e}function Xv(t){return t}function Zv(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Jv(t,e){t.squareTo(e),this.reduce(e)}function e1(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Mn.prototype.convert=Qv;Mn.prototype.revert=Xv;Mn.prototype.reduce=Zv;Mn.prototype.mulTo=e1;Mn.prototype.sqrTo=Jv;function t1(t,e){var r=t.bitLength(),n,i=wr(1),a;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new cn(e):e.isEven()?a=new Mn(e):a=new un(e);var s=new Array,o=3,l=n-1,c=(1<<n)-1;if(s[1]=a.convert(this),n>1){var u=Ee();for(a.sqrTo(s[1],u);o<=c;)s[o]=Ee(),a.mulTo(u,s[o-2],s[o]),o+=2}var f=t.t-1,d,p=!0,h=Ee(),g;for(r=ts(t.data[f])-1;f>=0;){for(r>=l?d=t.data[f]>>r-l&c:(d=(t.data[f]&(1<<r+1)-1)<<l-r,f>0&&(d|=t.data[f-1]>>this.DB+r-l)),o=n;!(d&1);)d>>=1,--o;if((r-=o)<0&&(r+=this.DB,--f),p)s[d].copyTo(i),p=!1;else{for(;o>1;)a.sqrTo(i,h),a.sqrTo(h,i),o-=2;o>0?a.sqrTo(i,h):(g=i,i=h,h=g),a.mulTo(h,s[d],i)}for(;f>=0&&!(t.data[f]&1<<r);)a.sqrTo(i,h),g=i,i=h,h=g,--r<0&&(r=this.DB-1,--f)}return a.revert(i)}function r1(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return e;for(i<a&&(a=i),a>0&&(e.rShiftTo(a,e),r.rShiftTo(a,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function n1(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function i1(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return M.ZERO;for(var r=t.clone(),n=this.clone(),i=wr(1),a=wr(0),s=wr(0),o=wr(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!a.isEven())&&(i.addTo(this,i),a.subTo(t,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),e?((!s.isEven()||!o.isEven())&&(s.addTo(this,s),o.subTo(t,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(s,i),a.subTo(o,a)):(n.subTo(r,n),e&&s.subTo(i,s),o.subTo(a,o))}if(n.compareTo(M.ONE)!=0)return M.ZERO;if(o.compareTo(t)>=0)return o.subtract(t);if(o.signum()<0)o.addTo(t,o);else return o;return o.signum()<0?o.add(t):o}var Kt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],a1=(1<<26)/Kt[Kt.length-1];function s1(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=Kt[Kt.length-1]){for(e=0;e<Kt.length;++e)if(r.data[0]==Kt[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Kt.length;){for(var n=Kt[e],i=e+1;i<Kt.length&&n<a1;)n*=Kt[i++];for(n=r.modInt(n);e<i;)if(n%Kt[e++]==0)return!1}return r.millerRabin(t)}function o1(t){var e=this.subtract(M.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=l1(),a,s=0;s<t;++s){do a=new M(this.bitLength(),i);while(a.compareTo(M.ONE)<=0||a.compareTo(e)>=0);var o=a.modPow(n,this);if(o.compareTo(M.ONE)!=0&&o.compareTo(e)!=0){for(var l=1;l++<r&&o.compareTo(e)!=0;)if(o=o.modPowInt(2,this),o.compareTo(M.ONE)==0)return!1;if(o.compareTo(e)!=0)return!1}}return!0}function l1(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}M.prototype.chunkSize=cv;M.prototype.toRadix=fv;M.prototype.fromRadix=dv;M.prototype.fromNumber=hv;M.prototype.bitwiseTo=vv;M.prototype.changeBit=Nv;M.prototype.addTo=Ov;M.prototype.dMultiply=Hv;M.prototype.dAddOffset=Wv;M.prototype.multiplyLowerTo=qv;M.prototype.multiplyUpperTo=Yv;M.prototype.modInt=n1;M.prototype.millerRabin=o1;M.prototype.clone=av;M.prototype.intValue=sv;M.prototype.byteValue=ov;M.prototype.shortValue=lv;M.prototype.signum=uv;M.prototype.toByteArray=pv;M.prototype.equals=gv;M.prototype.min=yv;M.prototype.max=mv;M.prototype.and=bv;M.prototype.or=Cv;M.prototype.xor=Sv;M.prototype.andNot=Ev;M.prototype.not=_v;M.prototype.shiftLeft=Tv;M.prototype.shiftRight=Av;M.prototype.getLowestSetBit=wv;M.prototype.bitCount=Rv;M.prototype.testBit=kv;M.prototype.setBit=Lv;M.prototype.clearBit=Dv;M.prototype.flipBit=Pv;M.prototype.add=Mv;M.prototype.subtract=Uv;M.prototype.multiply=Fv;M.prototype.divide=Vv;M.prototype.remainder=Kv;M.prototype.divideAndRemainder=zv;M.prototype.modPow=t1;M.prototype.modInverse=i1;M.prototype.pow=jv;M.prototype.gcd=r1;M.prototype.isProbablePrime=s1;var nr=de,ud=nr.sha1=nr.sha1||{};nr.md.sha1=nr.md.algorithms.sha1=ud;ud.create=function(){fd||c1();var t=null,e=nr.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return e=nr.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=nr.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=s[1],s[1]=s[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),Uc(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=nr.util.createBuffer();i.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(To.substr(0,n.blockLength-s));for(var o,l,c=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)o=n.fullMessageLength[u+1]*8,l=o/4294967296>>>0,c+=l,i.putInt32(c>>>0),c=o>>>0;i.putInt32(c);var f={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};Uc(f,r,i);var d=nr.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d},n};var To=null,fd=!1;function c1(){To="",To+=nr.util.fillString("\0",64),fd=!0}function Uc(t,e,r){for(var n,i,a,s,o,l,c,u,f=r.length();f>=64;){for(i=t.h0,a=t.h1,s=t.h2,o=t.h3,l=t.h4,u=0;u<16;++u)n=r.getInt32(),e[u]=n,c=o^a&(s^o),n=(i<<5|i>>>27)+c+l+1518500249+n,l=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<20;++u)n=e[u-3]^e[u-8]^e[u-14]^e[u-16],n=n<<1|n>>>31,e[u]=n,c=o^a&(s^o),n=(i<<5|i>>>27)+c+l+1518500249+n,l=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<32;++u)n=e[u-3]^e[u-8]^e[u-14]^e[u-16],n=n<<1|n>>>31,e[u]=n,c=a^s^o,n=(i<<5|i>>>27)+c+l+1859775393+n,l=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<40;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=a^s^o,n=(i<<5|i>>>27)+c+l+1859775393+n,l=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<60;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=a&s|o&(a^s),n=(i<<5|i>>>27)+c+l+2400959708+n,l=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<80;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,c=a^s^o,n=(i<<5|i>>>27)+c+l+3395469782+n,l=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+a|0,t.h2=t.h2+s|0,t.h3=t.h3+o|0,t.h4=t.h4+l|0,f-=64}}var ir=de,dd=ir.pkcs1=ir.pkcs1||{};dd.encode_rsa_oaep=function(t,e,r){var n,i,a,s;typeof r=="string"?(n=r,i=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),a?a.start():a=ir.md.sha1.create(),s||(s=a);var o=Math.ceil(t.n.bitLength()/8),l=o-2*a.digestLength-2;if(e.length>l){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=e.length,c.maxLength=l,c}n||(n=""),a.update(n,"raw");for(var u=a.digest(),f="",d=l-e.length,p=0;p<d;p++)f+="\0";var h=u.getBytes()+f+""+e;if(!i)i=ir.random.getBytes(a.digestLength);else if(i.length!==a.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=i.length,c.digestLength=a.digestLength,c}var g=Ea(i,o-a.digestLength-1,s),y=ir.util.xorBytes(h,g,h.length),b=Ea(y,a.digestLength,s),S=ir.util.xorBytes(i,b,i.length);return"\0"+S+y};dd.decode_rsa_oaep=function(t,e,r){var n,i,a;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var y=new Error("RSAES-OAEP encoded message length is invalid.");throw y.length=e.length,y.expectedLength=s,y}if(i===void 0?i=ir.md.sha1.create():i.start(),a||(a=i),s<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var o=i.digest().getBytes(),l=e.charAt(0),c=e.substring(1,i.digestLength+1),u=e.substring(1+i.digestLength),f=Ea(u,i.digestLength,a),d=ir.util.xorBytes(c,f,c.length),p=Ea(d,s-i.digestLength-1,a),h=ir.util.xorBytes(u,p,u.length),g=h.substring(0,i.digestLength),y=l!=="\0",b=0;b<i.digestLength;++b)y|=o.charAt(b)!==g.charAt(b);for(var S=1,E=i.digestLength,B=i.digestLength;B<h.length;B++){var I=h.charCodeAt(B),T=I&1^1,N=S?65534:0;y|=I&N,S=S&T,E+=S}if(y||h.charCodeAt(E)!==1)throw new Error("Invalid RSAES-OAEP padding.");return h.substring(E+1)};function Ea(t,e,r){r||(r=ir.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),a=0;a<i;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(t+s),n+=r.digest().getBytes()}return n.substring(0,e)}var Cr=de;(function(){if(Cr.prime){Cr.prime;return}var t=Cr.prime=Cr.prime||{},e=Cr.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(f,d){return f|d};t.generateProbablePrime=function(f,d,p){typeof d=="function"&&(p=d,d={}),d=d||{};var h=d.algorithm||"PRIMEINC";typeof h=="string"&&(h={name:h}),h.options=h.options||{};var g=d.prng||Cr.random,y={nextBytes:function(b){for(var S=g.getBytesSync(b.length),E=0;E<b.length;++E)b[E]=S.charCodeAt(E)}};if(h.name==="PRIMEINC")return a(f,y,h.options,p);throw new Error("Invalid prime generation algorithm: "+h.name)};function a(f,d,p,h){return"workers"in p?l(f,d,p,h):s(f,d,p,h)}function s(f,d,p,h){var g=c(f,d),y=0,b=u(g.bitLength());"millerRabinTests"in p&&(b=p.millerRabinTests);var S=10;"maxBlockTime"in p&&(S=p.maxBlockTime),o(g,f,d,y,b,S,h)}function o(f,d,p,h,g,y,b){var S=+new Date;do{if(f.bitLength()>d&&(f=c(d,p)),f.isProbablePrime(g))return b(null,f);f.dAddOffset(r[h++%8],0)}while(y<0||+new Date-S<y);Cr.util.setImmediate(function(){o(f,d,p,h,g,y,b)})}function l(f,d,p,h){if(typeof Worker>"u")return s(f,d,p,h);var g=c(f,d),y=p.workers,b=p.workLoad||100,S=b*30/8,E=p.workerScript||"forge/prime.worker.js";if(y===-1)return Cr.util.estimateCores(function(I,T){I&&(T=2),y=T-1,B()});B();function B(){y=Math.max(1,y);for(var I=[],T=0;T<y;++T)I[T]=new Worker(E);for(var T=0;T<y;++T)I[T].addEventListener("message",D);var N=!1;function D(F){if(!N){var H=F.data;if(H.found){for(var j=0;j<I.length;++j)I[j].terminate();return N=!0,h(null,new e(H.prime,16))}g.bitLength()>f&&(g=c(f,d));var J=g.toString(16);F.target.postMessage({hex:J,workLoad:b}),g.dAddOffset(S,0)}}}}function c(f,d){var p=new e(f,d),h=f-1;return p.testBit(h)||p.bitwiseTo(e.ONE.shiftLeft(h),i,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}function u(f){return f<=100?27:f<=150?18:f<=200?15:f<=250?12:f<=300?9:f<=350?8:f<=400?7:f<=500?6:f<=600?5:f<=800?4:f<=1250?3:2}})();var re=de;if(typeof Ce>"u")var Ce=re.jsbn.BigInteger;var Ao=re.util.isNodejs?Wa:null,k=re.asn1,Ot=re.util;re.pki=re.pki||{};re.pki.rsa=re.rsa=re.rsa||{};var ce=re.pki,u1=[6,4,2,4,2,4,6,2],f1={name:"PrivateKeyInfo",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:k.Class.UNIVERSAL,type:k.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},d1={name:"RSAPrivateKey",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},h1={name:"RSAPublicKey",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},p1=re.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:k.Class.UNIVERSAL,type:k.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},g1={name:"DigestInfo",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:k.Class.UNIVERSAL,type:k.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:k.Class.UNIVERSAL,type:k.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},y1=function(t){var e;if(t.algorithm in ce.oids)e=ce.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=k.oidToDer(e).getBytes(),i=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]),a=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]);a.value.push(k.create(k.Class.UNIVERSAL,k.Type.OID,!1,n)),a.value.push(k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,""));var s=k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(a),i.value.push(s),k.toDer(i).getBytes()},hd=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(Ce.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(Ce.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new Ce(re.util.bytesToHex(re.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(Ce.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),a=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(a)<0;)i=i.add(e.p);var s=i.subtract(a).multiply(e.qInv).mod(e.p).multiply(e.q).add(a);return s=s.multiply(n.modInverse(e.n)).mod(e.n),s};ce.rsa.encrypt=function(t,e,r){var n=r,i,a=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=pd(t,e,r)):(i=re.util.createBuffer(),i.putBytes(t));for(var s=new Ce(i.toHex(),16),o=hd(s,e,n),l=o.toString(16),c=re.util.createBuffer(),u=a-Math.ceil(l.length/2);u>0;)c.putByte(0),--u;return c.putBytes(re.util.hexToBytes(l)),c.getBytes()};ce.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var a=new Error("Encrypted message length is invalid.");throw a.length=t.length,a.expected=i,a}var s=new Ce(re.util.createBuffer(t).toHex(),16);if(s.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var o=hd(s,e,r),l=o.toString(16),c=re.util.createBuffer(),u=i-Math.ceil(l.length/2);u>0;)c.putByte(0),--u;return c.putBytes(re.util.hexToBytes(l)),n!==!1?_a(c.getBytes(),e,r):c.getBytes()};ce.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||re.random,i={nextBytes:function(o){for(var l=n.getBytesSync(o.length),c=0;c<o.length;++c)o[c]=l.charCodeAt(c)}},a=r.algorithm||"PRIMEINC",s;if(a==="PRIMEINC")s={algorithm:a,state:0,bits:t,rng:i,eInt:e||65537,e:new Ce(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+a);return s};ce.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new Ce(null);r.fromInt(30);for(var n=0,i=function(f,d){return f|d},a=+new Date,s,o=0;t.keys===null&&(e<=0||o<e);){if(t.state===0){var l=t.p===null?t.pBits:t.qBits,c=l-1;t.pqState===0?(t.num=new Ce(l,t.rng),t.num.testBit(c)||t.num.bitwiseTo(Ce.ONE.shiftLeft(c),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>l?t.pqState=0:t.num.isProbablePrime(v1(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(u1[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(Ce.ONE).gcd(t.e).compareTo(Ce.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(Ce.ONE),t.q1=t.q.subtract(Ce.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(Ce.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var u=t.e.modInverse(t.phi);t.keys={privateKey:ce.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:ce.rsa.setPublicKey(t.n,t.e)}}s=+new Date,o+=s-a,a=s}return t.keys!==null};ce.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!re.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(Fc("generateKeyPair"))return Ao.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(o,l,c){if(o)return n(o);n(null,{privateKey:ce.privateKeyFromPem(c),publicKey:ce.publicKeyFromPem(l)})});if(Vc("generateKey")&&Vc("exportKey"))return Ot.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:zc(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(o){return Ot.globalScope.crypto.subtle.exportKey("pkcs8",o.privateKey)}).then(void 0,function(o){n(o)}).then(function(o){if(o){var l=ce.privateKeyFromAsn1(k.fromDer(re.util.createBuffer(o)));n(null,{privateKey:l,publicKey:ce.setRsaPublicKey(l.n,l.e)})}});if(Kc("generateKey")&&Kc("exportKey")){var i=Ot.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:zc(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(o){var l=o.target.result,c=Ot.globalScope.msCrypto.subtle.exportKey("pkcs8",l.privateKey);c.oncomplete=function(u){var f=u.target.result,d=ce.privateKeyFromAsn1(k.fromDer(re.util.createBuffer(f)));n(null,{privateKey:d,publicKey:ce.setRsaPublicKey(d.n,d.e)})},c.onerror=function(u){n(u)}},i.onerror=function(o){n(o)};return}}else if(Fc("generateKeyPairSync")){var a=Ao.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:ce.privateKeyFromPem(a.privateKey),publicKey:ce.publicKeyFromPem(a.publicKey)}}}var s=ce.rsa.createKeyPairGenerationState(t,e,r);if(!n)return ce.rsa.stepKeyPairGenerationState(s,0),s.keys;m1(s,r,n)};ce.setRsaPublicKey=ce.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,a){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(o,l,c){return pd(o,l,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(o,l){return re.pkcs1.encode_rsa_oaep(l,o,a)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(o){return o}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var s=i.encode(n,r,!0);return ce.rsa.encrypt(s,r,!0)},r.verify=function(n,i,a,s){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),s===void 0&&(s={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in s||(s._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:function(l,c){c=_a(c,r,!0);var u=k.fromDer(c,{parseAllBytes:s._parseAllDigestBytes}),f={},d=[];if(!k.validate(u,g1,f,d)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=d,p}var h=k.derToOid(f.algorithmIdentifier);if(!(h===re.oids.md2||h===re.oids.md5||h===re.oids.sha1||h===re.oids.sha224||h===re.oids.sha256||h===re.oids.sha384||h===re.oids.sha512||h===re.oids["sha512-224"]||h===re.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=h,p}if((h===re.oids.md2||h===re.oids.md5)&&!("parameters"in f))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return l===f.digest}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(l,c){return c=_a(c,r,!0),l===c}});var o=ce.rsa.decrypt(i,r,!0,!1);return a.verify(n,o,r.n.bitLength())},r};ce.setRsaPrivateKey=ce.rsa.setPrivateKey=function(t,e,r,n,i,a,s,o){var l={n:t,e,d:r,p:n,q:i,dP:a,dQ:s,qInv:o};return l.decrypt=function(c,u,f){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSAES-PKCS1-V1_5");var d=ce.rsa.decrypt(c,l,!1,!1);if(u==="RSAES-PKCS1-V1_5")u={decode:_a};else if(u==="RSA-OAEP"||u==="RSAES-OAEP")u={decode:function(p,h){return re.pkcs1.decode_rsa_oaep(h,p,f)}};else if(["RAW","NONE","NULL",null].indexOf(u)!==-1)u={decode:function(p){return p}};else throw new Error('Unsupported encryption scheme: "'+u+'".');return u.decode(d,l,!1)},l.sign=function(c,u){var f=!1;typeof u=="string"&&(u=u.toUpperCase()),u===void 0||u==="RSASSA-PKCS1-V1_5"?(u={encode:y1},f=1):(u==="NONE"||u==="NULL"||u===null)&&(u={encode:function(){return c}},f=1);var d=u.encode(c,l.n.bitLength());return ce.rsa.encrypt(d,l,f)},l};ce.wrapRsaPrivateKey=function(t){return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,k.integerToDer(0).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(ce.oids.rsaEncryption).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,"")]),k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,k.toDer(t).getBytes())])};ce.privateKeyFromAsn1=function(t){var e={},r=[];if(k.validate(t,f1,e,r)&&(t=k.fromDer(re.util.createBuffer(e.privateKey))),e={},r=[],!k.validate(t,d1,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,a,s,o,l,c,u,f;return i=re.util.createBuffer(e.privateKeyModulus).toHex(),a=re.util.createBuffer(e.privateKeyPublicExponent).toHex(),s=re.util.createBuffer(e.privateKeyPrivateExponent).toHex(),o=re.util.createBuffer(e.privateKeyPrime1).toHex(),l=re.util.createBuffer(e.privateKeyPrime2).toHex(),c=re.util.createBuffer(e.privateKeyExponent1).toHex(),u=re.util.createBuffer(e.privateKeyExponent2).toHex(),f=re.util.createBuffer(e.privateKeyCoefficient).toHex(),ce.setRsaPrivateKey(new Ce(i,16),new Ce(a,16),new Ce(s,16),new Ce(o,16),new Ce(l,16),new Ce(c,16),new Ce(u,16),new Ce(f,16))};ce.privateKeyToAsn1=ce.privateKeyToRSAPrivateKey=function(t){return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,k.integerToDer(0).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,Qt(t.n)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,Qt(t.e)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,Qt(t.d)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,Qt(t.p)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,Qt(t.q)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,Qt(t.dP)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,Qt(t.dQ)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,Qt(t.qInv))])};ce.publicKeyFromAsn1=function(t){var e={},r=[];if(k.validate(t,p1,e,r)){var n=k.derToOid(e.publicKeyOid);if(n!==ce.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!k.validate(t,h1,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var a=re.util.createBuffer(e.publicKeyModulus).toHex(),s=re.util.createBuffer(e.publicKeyExponent).toHex();return ce.setRsaPublicKey(new Ce(a,16),new Ce(s,16))};ce.publicKeyToAsn1=ce.publicKeyToSubjectPublicKeyInfo=function(t){return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(ce.oids.rsaEncryption).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,"")]),k.create(k.Class.UNIVERSAL,k.Type.BITSTRING,!1,[ce.publicKeyToRSAPublicKey(t)])])};ce.publicKeyToRSAPublicKey=function(t){return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,Qt(t.n)),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,Qt(t.e))])};function pd(t,e,r){var n=re.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=t.length,a.max=i-11,a}n.putByte(0),n.putByte(r);var s=i-3-t.length,o;if(r===0||r===1){o=r===0?0:255;for(var l=0;l<s;++l)n.putByte(o)}else for(;s>0;){for(var c=0,u=re.random.getBytes(s),l=0;l<s;++l)o=u.charCodeAt(l),o===0?++c:n.putByte(o);s=c}return n.putByte(0),n.putBytes(t),n}function _a(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),a=re.util.createBuffer(t),s=a.getByte(),o=a.getByte();if(s!==0||r&&o!==0&&o!==1||!r&&o!=2||r&&o===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var l=0;if(o===0){l=i-3-n;for(var c=0;c<l;++c)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(o===1)for(l=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++l}else if(o===2)for(l=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++l}var u=a.getByte();if(u!==0||l!==i-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function m1(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){a(t.pBits,function(o,l){if(o)return r(o);if(t.p=l,t.q!==null)return s(o,t.q);a(t.qBits,s)})}function a(o,l){re.prime.generateProbablePrime(o,n,l)}function s(o,l){if(o)return r(o);if(t.q=l,t.p.compareTo(t.q)<0){var c=t.p;t.p=t.q,t.q=c}if(t.p.subtract(Ce.ONE).gcd(t.e).compareTo(Ce.ONE)!==0){t.p=null,i();return}if(t.q.subtract(Ce.ONE).gcd(t.e).compareTo(Ce.ONE)!==0){t.q=null,a(t.qBits,s);return}if(t.p1=t.p.subtract(Ce.ONE),t.q1=t.q.subtract(Ce.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(Ce.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,a(t.qBits,s);return}var u=t.e.modInverse(t.phi);t.keys={privateKey:ce.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:ce.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function Qt(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=re.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function v1(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function Fc(t){return re.util.isNodejs&&typeof Ao[t]=="function"}function Vc(t){return typeof Ot.globalScope<"u"&&typeof Ot.globalScope.crypto=="object"&&typeof Ot.globalScope.crypto.subtle=="object"&&typeof Ot.globalScope.crypto.subtle[t]=="function"}function Kc(t){return typeof Ot.globalScope<"u"&&typeof Ot.globalScope.msCrypto=="object"&&typeof Ot.globalScope.msCrypto.subtle=="object"&&typeof Ot.globalScope.msCrypto.subtle[t]=="function"}function zc(t){for(var e=re.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}var Y=de;if(typeof x1>"u")var x1=Y.jsbn.BigInteger;var L=Y.asn1,fe=Y.pki=Y.pki||{};fe.pbe=Y.pbe=Y.pbe||{};var Wr=fe.oids,b1={name:"EncryptedPrivateKeyInfo",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:L.Class.UNIVERSAL,type:L.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:L.Class.UNIVERSAL,type:L.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},C1={name:"PBES2Algorithms",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:L.Class.UNIVERSAL,type:L.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:L.Class.UNIVERSAL,type:L.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:L.Class.UNIVERSAL,type:L.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:L.Class.UNIVERSAL,type:L.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:L.Class.UNIVERSAL,type:L.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:L.Class.UNIVERSAL,type:L.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:L.Class.UNIVERSAL,type:L.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},S1={name:"pkcs-12PbeParams",tagClass:L.Class.UNIVERSAL,type:L.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:L.Class.UNIVERSAL,type:L.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:L.Class.UNIVERSAL,type:L.Type.INTEGER,constructed:!1,capture:"iterations"}]};fe.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=Y.random.getBytesSync(r.saltSize),i=r.count,a=L.integerToDer(i),s,o,l;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,u,f;switch(r.algorithm){case"aes128":s=16,c=16,u=Wr["aes128-CBC"],f=Y.aes.createEncryptionCipher;break;case"aes192":s=24,c=16,u=Wr["aes192-CBC"],f=Y.aes.createEncryptionCipher;break;case"aes256":s=32,c=16,u=Wr["aes256-CBC"],f=Y.aes.createEncryptionCipher;break;case"des":s=8,c=8,u=Wr.desCBC,f=Y.des.createEncryptionCipher;break;default:var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),h=yd(p),g=Y.pkcs5.pbkdf2(e,n,i,s,h),y=Y.random.getBytesSync(c),b=f(g);b.start(y),b.update(L.toDer(t)),b.finish(),l=b.output.getBytes();var S=E1(n,a,s,p);o=L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(Wr.pkcs5PBES2).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(Wr.pkcs5PBKDF2).getBytes()),S]),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(u).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,y)])])])}else if(r.algorithm==="3des"){s=24;var E=new Y.util.ByteBuffer(n),g=fe.pbe.generatePkcs12Key(e,E,1,i,s),y=fe.pbe.generatePkcs12Key(e,E,2,i,s),b=Y.des.createEncryptionCipher(g);b.start(y),b.update(L.toDer(t)),b.finish(),l=b.output.getBytes(),o=L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(Wr["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,n),L.create(L.Class.UNIVERSAL,L.Type.INTEGER,!1,a.getBytes())])])}else{var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var B=L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[o,L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,l)]);return B};fe.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!L.validate(t,b1,n,i)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=L.derToOid(n.encryptionOid),o=fe.pbe.getCipher(s,n.encryptionParams,e),l=Y.util.createBuffer(n.encryptedData);return o.update(l),o.finish()&&(r=L.fromDer(o.output)),r};fe.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:L.toDer(t).getBytes()};return Y.pem.encode(r,{maxline:e})};fe.encryptedPrivateKeyFromPem=function(t){var e=Y.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return L.fromDer(e.body)};fe.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=fe.wrapRsaPrivateKey(fe.privateKeyToAsn1(t));return n=fe.encryptPrivateKeyInfo(n,e,r),fe.encryptedPrivateKeyToPem(n)}var i,a,s,o;switch(r.algorithm){case"aes128":i="AES-128-CBC",s=16,a=Y.random.getBytesSync(16),o=Y.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",s=24,a=Y.random.getBytesSync(16),o=Y.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",s=32,a=Y.random.getBytesSync(16),o=Y.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",s=24,a=Y.random.getBytesSync(8),o=Y.des.createEncryptionCipher;break;case"des":i="DES-CBC",s=8,a=Y.random.getBytesSync(8),o=Y.des.createEncryptionCipher;break;default:var l=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw l.algorithm=r.algorithm,l}var c=Y.pbe.opensslDeriveBytes(e,a.substr(0,8),s),u=o(c);u.start(a),u.update(L.toDer(fe.privateKeyToAsn1(t))),u.finish();var f={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:Y.util.bytesToHex(a).toUpperCase()},body:u.output.getBytes()};return Y.pem.encode(f)};fe.decryptRsaPrivateKey=function(t,e){var r=null,n=Y.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,s;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,s=Y.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,s=Y.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,s=Y.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,s=Y.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,s=Y.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,s=function(f){return Y.rc2.createDecryptionCipher(f,40)};break;case"RC2-64-CBC":a=8,s=function(f){return Y.rc2.createDecryptionCipher(f,64)};break;case"RC2-128-CBC":a=16,s=function(f){return Y.rc2.createDecryptionCipher(f,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var o=Y.util.hexToBytes(n.dekInfo.parameters),l=Y.pbe.opensslDeriveBytes(e,o.substr(0,8),a),c=s(l);if(c.start(o),c.update(Y.util.createBuffer(n.body)),c.finish())r=c.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=fe.decryptPrivateKeyInfo(L.fromDer(r),e):r=L.fromDer(r),r!==null&&(r=fe.privateKeyFromAsn1(r)),r};fe.pbe.generatePkcs12Key=function(t,e,r,n,i,a){var s,o;if(typeof a>"u"||a===null){if(!("sha1"in Y.md))throw new Error('"sha1" hash algorithm unavailable.');a=Y.md.sha1.create()}var l=a.digestLength,c=a.blockLength,u=new Y.util.ByteBuffer,f=new Y.util.ByteBuffer;if(t!=null){for(o=0;o<t.length;o++)f.putInt16(t.charCodeAt(o));f.putInt16(0)}var d=f.length(),p=e.length(),h=new Y.util.ByteBuffer;h.fillWithByte(r,c);var g=c*Math.ceil(p/c),y=new Y.util.ByteBuffer;for(o=0;o<g;o++)y.putByte(e.at(o%p));var b=c*Math.ceil(d/c),S=new Y.util.ByteBuffer;for(o=0;o<b;o++)S.putByte(f.at(o%d));var E=y;E.putBuffer(S);for(var B=Math.ceil(i/l),I=1;I<=B;I++){var T=new Y.util.ByteBuffer;T.putBytes(h.bytes()),T.putBytes(E.bytes());for(var N=0;N<n;N++)a.start(),a.update(T.getBytes()),T=a.digest();var D=new Y.util.ByteBuffer;for(o=0;o<c;o++)D.putByte(T.at(o%l));var F=Math.ceil(p/c)+Math.ceil(d/c),H=new Y.util.ByteBuffer;for(s=0;s<F;s++){var j=new Y.util.ByteBuffer(E.getBytes(c)),J=511;for(o=D.length()-1;o>=0;o--)J=J>>8,J+=D.at(o)+j.at(o),j.setAt(o,J&255);H.putBuffer(j)}E=H,u.putBuffer(T)}return u.truncate(u.length()-i),u};fe.pbe.getCipher=function(t,e,r){switch(t){case fe.oids.pkcs5PBES2:return fe.pbe.getCipherForPBES2(t,e,r);case fe.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case fe.oids["pbewithSHAAnd40BitRC2-CBC"]:return fe.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};fe.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!L.validate(e,C1,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}if(t=L.derToOid(n.kdfOid),t!==fe.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=t,a.supportedOids=["pkcs5PBKDF2"],a}if(t=L.derToOid(n.encOid),t!==fe.oids["aes128-CBC"]&&t!==fe.oids["aes192-CBC"]&&t!==fe.oids["aes256-CBC"]&&t!==fe.oids["des-EDE3-CBC"]&&t!==fe.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=t,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var s=n.kdfSalt,o=Y.util.createBuffer(n.kdfIterationCount);o=o.getInt(o.length()<<3);var l,c;switch(fe.oids[t]){case"aes128-CBC":l=16,c=Y.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,c=Y.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,c=Y.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,c=Y.des.createDecryptionCipher;break;case"desCBC":l=8,c=Y.des.createDecryptionCipher;break}var u=gd(n.prfOid),f=Y.pkcs5.pbkdf2(r,s,o,l,u),d=n.encIv,p=c(f);return p.start(d),p};fe.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!L.validate(e,S1,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=Y.util.createBuffer(n.salt),o=Y.util.createBuffer(n.iterations);o=o.getInt(o.length()<<3);var l,c,u;switch(t){case fe.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:l=24,c=8,u=Y.des.startDecrypting;break;case fe.oids["pbewithSHAAnd40BitRC2-CBC"]:l=5,c=8,u=function(g,y){var b=Y.rc2.createDecryptionCipher(g,40);return b.start(y,null),b};break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=t,a}var f=gd(n.prfOid),d=fe.pbe.generatePkcs12Key(r,s,1,o,l,f);f.start();var p=fe.pbe.generatePkcs12Key(r,s,2,o,c,f);return u(d,p)};fe.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in Y.md))throw new Error('"md5" hash algorithm unavailable.');n=Y.md.md5.create()}e===null&&(e="");for(var i=[Hc(n,t+e)],a=16,s=1;a<r;++s,a+=16)i.push(Hc(n,i[s-1]+t+e));return i.join("").substr(0,r)};function Hc(t,e){return t.start().update(e).digest().getBytes()}function gd(t){var e;if(!t)e="hmacWithSHA1";else if(e=fe.oids[L.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return yd(e)}function yd(t){var e=Y.md;switch(t){case"hmacWithSHA224":e=Y.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function E1(t,e,r,n){var i=L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OCTETSTRING,!1,t),L.create(L.Class.UNIVERSAL,L.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(L.create(L.Class.UNIVERSAL,L.Type.INTEGER,!1,Y.util.hexToBytes(r.toString(16))),L.create(L.Class.UNIVERSAL,L.Type.SEQUENCE,!0,[L.create(L.Class.UNIVERSAL,L.Type.OID,!1,L.oidToDer(fe.oids[n]).getBytes()),L.create(L.Class.UNIVERSAL,L.Type.NULL,!1,"")])),i}var An=de,G=An.asn1,Un=An.pkcs7asn1=An.pkcs7asn1||{};An.pkcs7=An.pkcs7||{};An.pkcs7.asn1=Un;var md={name:"ContentInfo",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:G.Class.UNIVERSAL,type:G.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:G.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};Un.contentInfoValidator=md;var vd={name:"EncryptedContentInfo",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:G.Class.UNIVERSAL,type:G.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:G.Class.UNIVERSAL,type:G.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:G.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:G.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};Un.envelopedDataValidator={name:"EnvelopedData",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:G.Class.UNIVERSAL,type:G.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(vd)};Un.encryptedDataValidator={name:"EncryptedData",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:!1,capture:"version"}].concat(vd)};var _1={name:"SignerInfo",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:G.Class.UNIVERSAL,type:G.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:G.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:G.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:G.Class.UNIVERSAL,type:G.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:G.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};Un.signedDataValidator={name:"SignedData",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:G.Class.UNIVERSAL,type:G.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},md,{name:"SignedData.Certificates",tagClass:G.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:G.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:G.Class.UNIVERSAL,type:G.Type.SET,capture:"signerInfos",optional:!0,value:[_1]}]};Un.recipientInfoValidator={name:"RecipientInfo",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:G.Class.UNIVERSAL,type:G.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:G.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:G.Class.UNIVERSAL,type:G.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]};var tn=de;tn.mgf=tn.mgf||{};var T1=tn.mgf.mgf1=tn.mgf1=tn.mgf1||{};T1.create=function(t){var e={generate:function(r,n){for(var i=new tn.util.ByteBuffer,a=Math.ceil(n/t.digestLength),s=0;s<a;s++){var o=new tn.util.ByteBuffer;o.putInt32(s),t.start(),t.update(r+o.getBytes()),i.putBuffer(t.digest())}return i.truncate(i.length()-n),i.getBytes()}};return e};var Ta=de;Ta.mgf=Ta.mgf||{};Ta.mgf.mgf1=Ta.mgf1;var Yr=de,A1=Yr.pss=Yr.pss||{};A1.create=function(t){arguments.length===3&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e=t.md,r=t.mgf,n=e.digestLength,i=t.salt||null;typeof i=="string"&&(i=Yr.util.createBuffer(i));var a;if("saltLength"in t)a=t.saltLength;else if(i!==null)a=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==a)throw new Error("Given salt length does not match length of given salt.");var s=t.prng||Yr.random,o={};return o.encode=function(l,c){var u,f=c-1,d=Math.ceil(f/8),p=l.digest().getBytes();if(d<n+a+2)throw new Error("Message is too long to encrypt.");var h;i===null?h=s.getBytesSync(a):h=i.bytes();var g=new Yr.util.ByteBuffer;g.fillWithByte(0,8),g.putBytes(p),g.putBytes(h),e.start(),e.update(g.getBytes());var y=e.digest().getBytes(),b=new Yr.util.ByteBuffer;b.fillWithByte(0,d-a-n-2),b.putByte(1),b.putBytes(h);var S=b.getBytes(),E=d-n-1,B=r.generate(y,E),I="";for(u=0;u<E;u++)I+=String.fromCharCode(S.charCodeAt(u)^B.charCodeAt(u));var T=65280>>8*d-f&255;return I=String.fromCharCode(I.charCodeAt(0)&~T)+I.substr(1),I+y+""},o.verify=function(l,c,u){var f,d=u-1,p=Math.ceil(d/8);if(c=c.substr(-p),p<n+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(c.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var h=p-n-1,g=c.substr(0,h),y=c.substr(h,n),b=65280>>8*p-d&255;if(g.charCodeAt(0)&b)throw new Error("Bits beyond keysize not zero as expected.");var S=r.generate(y,h),E="";for(f=0;f<h;f++)E+=String.fromCharCode(g.charCodeAt(f)^S.charCodeAt(f));E=String.fromCharCode(E.charCodeAt(0)&~b)+E.substr(1);var B=p-n-a-2;for(f=0;f<B;f++)if(E.charCodeAt(f)!==0)throw new Error("Leftmost octets not zero as expected");if(E.charCodeAt(B)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var I=E.substr(-a),T=new Yr.util.ByteBuffer;T.fillWithByte(0,8),T.putBytes(l),T.putBytes(I),e.start(),e.update(T.getBytes());var N=e.digest().getBytes();return y===N},o};var ne=de,m=ne.asn1,V=ne.pki=ne.pki||{},xe=V.oids,$e={};$e.CN=xe.commonName;$e.commonName="CN";$e.C=xe.countryName;$e.countryName="C";$e.L=xe.localityName;$e.localityName="L";$e.ST=xe.stateOrProvinceName;$e.stateOrProvinceName="ST";$e.O=xe.organizationName;$e.organizationName="O";$e.OU=xe.organizationalUnitName;$e.organizationalUnitName="OU";$e.E=xe.emailAddress;$e.emailAddress="E";var xd=ne.pki.rsa.publicKeyValidator,I1={name:"Certificate",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:m.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:m.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:m.Class.UNIVERSAL,type:m.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:m.Class.UNIVERSAL,type:m.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:m.Class.UNIVERSAL,type:m.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:m.Class.UNIVERSAL,type:m.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},xd,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:m.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:m.Class.UNIVERSAL,type:m.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:m.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:m.Class.UNIVERSAL,type:m.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:m.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:m.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:m.Class.UNIVERSAL,type:m.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},w1={name:"rsapss",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:m.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:m.Class.UNIVERSAL,type:m.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:m.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:m.Class.UNIVERSAL,type:m.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:m.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:m.Class.UNIVERSAL,type:m.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:m.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:m.Class.UNIVERSAL,type:m.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},B1={name:"CertificationRequestInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},xd,{name:"CertificationRequestInfo.attributes",tagClass:m.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:m.Class.UNIVERSAL,type:m.Type.SET,constructed:!0}]}]}]},R1={name:"CertificationRequest",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[B1,{name:"CertificationRequest.signatureAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:m.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:m.Class.UNIVERSAL,type:m.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};V.RDNAttributesAsArray=function(t,e){for(var r=[],n,i,a,s=0;s<t.value.length;++s){n=t.value[s];for(var o=0;o<n.value.length;++o)a={},i=n.value[o],a.type=m.derToOid(i.value[0].value),a.value=i.value[1].value,a.valueTagClass=i.value[1].type,a.type in xe&&(a.name=xe[a.type],a.name in $e&&(a.shortName=$e[a.name])),e&&(e.update(a.type),e.update(a.value)),r.push(a)}return r};V.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],i=m.derToOid(n.value[0].value),a=n.value[1].value,s=0;s<a.length;++s){var o={};if(o.type=i,o.value=a[s].value,o.valueTagClass=a[s].type,o.type in xe&&(o.name=xe[o.type],o.name in $e&&(o.shortName=$e[o.name])),o.type===xe.extensionRequest){o.extensions=[];for(var l=0;l<o.value.length;++l)o.extensions.push(V.certificateExtensionFromAsn1(o.value[l]))}e.push(o)}return e};function Lr(t,e){typeof e=="string"&&(e={shortName:e});for(var r=null,n,i=0;r===null&&i<t.attributes.length;++i)n=t.attributes[i],(e.type&&e.type===n.type||e.name&&e.name===n.name||e.shortName&&e.shortName===n.shortName)&&(r=n);return r}var Aa=function(t,e,r){var n={};if(t!==xe["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:xe.sha1},mgf:{algorithmOid:xe.mgf1,hash:{algorithmOid:xe.sha1}},saltLength:20});var i={},a=[];if(!m.validate(e,w1,i,a)){var s=new Error("Cannot read RSASSA-PSS parameter block.");throw s.errors=a,s}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=m.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=m.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=m.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},rs=function(t){switch(xe[t.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return ne.md.sha1.create();case"md5WithRSAEncryption":return ne.md.md5.create();case"sha256WithRSAEncryption":return ne.md.sha256.create();case"sha384WithRSAEncryption":return ne.md.sha384.create();case"sha512WithRSAEncryption":return ne.md.sha512.create();case"RSASSA-PSS":return ne.md.sha256.create();default:var e=new Error("Could not compute "+t.type+" digest. Unknown signature OID.");throw e.signatureOid=t.signatureOid,e}},bd=function(t){var e=t.certificate,r;switch(e.signatureOid){case xe.sha1WithRSAEncryption:case xe.sha1WithRSASignature:break;case xe["RSASSA-PSS"]:var n,i;if(n=xe[e.signatureParameters.mgf.hash.algorithmOid],n===void 0||ne.md[n]===void 0){var a=new Error("Unsupported MGF hash function.");throw a.oid=e.signatureParameters.mgf.hash.algorithmOid,a.name=n,a}if(i=xe[e.signatureParameters.mgf.algorithmOid],i===void 0||ne.mgf[i]===void 0){var a=new Error("Unsupported MGF function.");throw a.oid=e.signatureParameters.mgf.algorithmOid,a.name=i,a}if(i=ne.mgf[i].create(ne.md[n].create()),n=xe[e.signatureParameters.hash.algorithmOid],n===void 0||ne.md[n]===void 0){var a=new Error("Unsupported RSASSA-PSS hash function.");throw a.oid=e.signatureParameters.hash.algorithmOid,a.name=n,a}r=ne.pss.create(ne.md[n].create(),i,e.signatureParameters.saltLength);break}return e.publicKey.verify(t.md.digest().getBytes(),t.signature,r)};V.certificateFromPem=function(t,e,r){var n=ne.pem.decode(t)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var a=m.fromDer(n.body,r);return V.certificateFromAsn1(a,e)};V.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:m.toDer(V.certificateToAsn1(t)).getBytes()};return ne.pem.encode(r,{maxline:e})};V.publicKeyFromPem=function(t){var e=ne.pem.decode(t)[0];if(e.type!=="PUBLIC KEY"&&e.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=m.fromDer(e.body);return V.publicKeyFromAsn1(n)};V.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:m.toDer(V.publicKeyToAsn1(t)).getBytes()};return ne.pem.encode(r,{maxline:e})};V.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:m.toDer(V.publicKeyToRSAPublicKey(t)).getBytes()};return ne.pem.encode(r,{maxline:e})};V.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||ne.md.sha1.create(),n=e.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=m.toDer(V.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":i=m.toDer(V.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}r.start(),r.update(i);var a=r.digest();if(e.encoding==="hex"){var s=a.toHex();return e.delimiter?s.match(/.{2}/g).join(e.delimiter):s}else{if(e.encoding==="binary")return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return a};V.certificationRequestFromPem=function(t,e,r){var n=ne.pem.decode(t)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var a=m.fromDer(n.body,r);return V.certificationRequestFromAsn1(a,e)};V.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:m.toDer(V.certificationRequestToAsn1(t)).getBytes()};return ne.pem.encode(r,{maxline:e})};V.createCertificate=function(){var t={};return t.version=2,t.serialNumber="00",t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return Lr(t.issuer,e)},t.issuer.addField=function(e){Mt([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return Lr(t.subject,e)},t.subject.addField=function(e){Mt([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){Mt(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){Mt(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)Cd(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){typeof e=="string"&&(e={name:e});for(var r=null,n,i=0;r===null&&i<t.extensions.length;++i)n=t.extensions[i],(e.id&&n.id===e.id||e.name&&n.name===e.name)&&(r=n);return r},t.sign=function(e,r){t.md=r||ne.md.sha1.create();var n=xe[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.tbsCertificate=V.getTBSCertificate(t);var a=m.toDer(t.tbsCertificate);t.md.update(a.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var n=e.issuer,i=t.subject,a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw a.expectedIssuer=i.attributes,a.actualIssuer=n.attributes,a}var s=e.md;if(s===null){s=rs({signatureOid:e.signatureOid,type:"certificate"});var o=e.tbsCertificate||V.getTBSCertificate(e),l=m.toDer(o);s.update(l.getBytes())}return s!==null&&(r=bd({certificate:t,md:s,signature:e.signature})),r},t.isIssuer=function(e){var r=!1,n=t.issuer,i=e.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var a,s,o=0;r&&o<n.attributes.length;++o)a=n.attributes[o],s=i.attributes[o],(a.type!==s.type||a.value!==s.value)&&(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return V.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=xe.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var n=t.extensions[r];if(n.id===e){var i=t.generateSubjectKeyIdentifier().getBytes();return ne.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},t};V.certificateFromAsn1=function(t,e){var r={},n=[];if(!m.validate(t,I1,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var a=m.derToOid(r.publicKeyOid);if(a!==V.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=V.createCertificate();s.version=r.certVersion?r.certVersion.charCodeAt(0):0;var o=ne.util.createBuffer(r.certSerialNumber);s.serialNumber=o.toHex(),s.signatureOid=ne.asn1.derToOid(r.certSignatureOid),s.signatureParameters=Aa(s.signatureOid,r.certSignatureParams,!0),s.siginfo.algorithmOid=ne.asn1.derToOid(r.certinfoSignatureOid),s.siginfo.parameters=Aa(s.siginfo.algorithmOid,r.certinfoSignatureParams,!1),s.signature=r.certSignature;var l=[];if(r.certValidity1UTCTime!==void 0&&l.push(m.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&l.push(m.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&l.push(m.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&l.push(m.generalizedTimeToDate(r.certValidity4GeneralizedTime)),l.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(l.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(s.validity.notBefore=l[0],s.validity.notAfter=l[1],s.tbsCertificate=r.tbsCertificate,e){s.md=rs({signatureOid:s.signatureOid,type:"certificate"});var c=m.toDer(s.tbsCertificate);s.md.update(c.getBytes())}var u=ne.md.sha1.create(),f=m.toDer(r.certIssuer);u.update(f.getBytes()),s.issuer.getField=function(h){return Lr(s.issuer,h)},s.issuer.addField=function(h){Mt([h]),s.issuer.attributes.push(h)},s.issuer.attributes=V.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(s.issuer.uniqueId=r.certIssuerUniqueId),s.issuer.hash=u.digest().toHex();var d=ne.md.sha1.create(),p=m.toDer(r.certSubject);return d.update(p.getBytes()),s.subject.getField=function(h){return Lr(s.subject,h)},s.subject.addField=function(h){Mt([h]),s.subject.attributes.push(h)},s.subject.attributes=V.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(s.subject.uniqueId=r.certSubjectUniqueId),s.subject.hash=d.digest().toHex(),r.certExtensions?s.extensions=V.certificateExtensionsFromAsn1(r.certExtensions):s.extensions=[],s.publicKey=V.publicKeyFromAsn1(r.subjectPublicKeyInfo),s};V.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],i=0;i<n.value.length;++i)e.push(V.certificateExtensionFromAsn1(n.value[i]));return e};V.certificateExtensionFromAsn1=function(t){var e={};if(e.id=m.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===m.Type.BOOLEAN?(e.critical=t.value[1].value.charCodeAt(0)!==0,e.value=t.value[2].value):e.value=t.value[1].value,e.id in xe){if(e.name=xe[e.id],e.name==="keyUsage"){var r=m.fromDer(e.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),e.digitalSignature=(n&128)===128,e.nonRepudiation=(n&64)===64,e.keyEncipherment=(n&32)===32,e.dataEncipherment=(n&16)===16,e.keyAgreement=(n&8)===8,e.keyCertSign=(n&4)===4,e.cRLSign=(n&2)===2,e.encipherOnly=(n&1)===1,e.decipherOnly=(i&128)===128}else if(e.name==="basicConstraints"){var r=m.fromDer(e.value);r.value.length>0&&r.value[0].type===m.Type.BOOLEAN?e.cA=r.value[0].value.charCodeAt(0)!==0:e.cA=!1;var a=null;r.value.length>0&&r.value[0].type===m.Type.INTEGER?a=r.value[0].value:r.value.length>1&&(a=r.value[1].value),a!==null&&(e.pathLenConstraint=m.derToInteger(a))}else if(e.name==="extKeyUsage")for(var r=m.fromDer(e.value),s=0;s<r.value.length;++s){var o=m.derToOid(r.value[s].value);o in xe?e[xe[o]]=!0:e[o]=!0}else if(e.name==="nsCertType"){var r=m.fromDer(e.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),e.client=(n&128)===128,e.server=(n&64)===64,e.email=(n&32)===32,e.objsign=(n&16)===16,e.reserved=(n&8)===8,e.sslCA=(n&4)===4,e.emailCA=(n&2)===2,e.objCA=(n&1)===1}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.altNames=[];for(var l,r=m.fromDer(e.value),c=0;c<r.value.length;++c){l=r.value[c];var u={type:l.type,value:l.value};switch(e.altNames.push(u),l.type){case 1:case 2:case 6:break;case 7:u.ip=ne.util.bytesToIP(l.value);break;case 8:u.oid=m.derToOid(l.value);break}}}else if(e.name==="subjectKeyIdentifier"){var r=m.fromDer(e.value);e.subjectKeyIdentifier=ne.util.bytesToHex(r.value)}}return e};V.certificationRequestFromAsn1=function(t,e){var r={},n=[];if(!m.validate(t,R1,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var a=m.derToOid(r.publicKeyOid);if(a!==V.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=V.createCertificationRequest();if(s.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,s.signatureOid=ne.asn1.derToOid(r.csrSignatureOid),s.signatureParameters=Aa(s.signatureOid,r.csrSignatureParams,!0),s.siginfo.algorithmOid=ne.asn1.derToOid(r.csrSignatureOid),s.siginfo.parameters=Aa(s.siginfo.algorithmOid,r.csrSignatureParams,!1),s.signature=r.csrSignature,s.certificationRequestInfo=r.certificationRequestInfo,e){s.md=rs({signatureOid:s.signatureOid,type:"certification request"});var o=m.toDer(s.certificationRequestInfo);s.md.update(o.getBytes())}var l=ne.md.sha1.create();return s.subject.getField=function(c){return Lr(s.subject,c)},s.subject.addField=function(c){Mt([c]),s.subject.attributes.push(c)},s.subject.attributes=V.RDNAttributesAsArray(r.certificationRequestInfoSubject,l),s.subject.hash=l.digest().toHex(),s.publicKey=V.publicKeyFromAsn1(r.subjectPublicKeyInfo),s.getAttribute=function(c){return Lr(s,c)},s.addAttribute=function(c){Mt([c]),s.attributes.push(c)},s.attributes=V.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),s};V.createCertificationRequest=function(){var t={};return t.version=0,t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return Lr(t.subject,e)},t.subject.addField=function(e){Mt([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return Lr(t,e)},t.addAttribute=function(e){Mt([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){Mt(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){Mt(e),t.attributes=e},t.sign=function(e,r){t.md=r||ne.md.sha1.create();var n=xe[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.certificationRequestInfo=V.getCertificationRequestInfo(t);var a=m.toDer(t.certificationRequestInfo);t.md.update(a.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(r===null){r=rs({signatureOid:t.signatureOid,type:"certification request"});var n=t.certificationRequestInfo||V.getCertificationRequestInfo(t),i=m.toDer(n);r.update(i.getBytes())}return r!==null&&(e=bd({certificate:t,md:r,signature:t.signature})),e},t};function In(t){for(var e=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]),r,n,i=t.attributes,a=0;a<i.length;++a){r=i[a];var s=r.value,o=m.Type.PRINTABLESTRING;"valueTagClass"in r&&(o=r.valueTagClass,o===m.Type.UTF8&&(s=ne.util.encodeUtf8(s))),n=m.create(m.Class.UNIVERSAL,m.Type.SET,!0,[m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(r.type).getBytes()),m.create(m.Class.UNIVERSAL,o,!1,s)])]),e.value.push(n)}return e}function Mt(t){for(var e,r=0;r<t.length;++r){if(e=t[r],typeof e.name>"u"&&(e.type&&e.type in V.oids?e.name=V.oids[e.type]:e.shortName&&e.shortName in $e&&(e.name=V.oids[$e[e.shortName]])),typeof e.type>"u")if(e.name&&e.name in V.oids)e.type=V.oids[e.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=e,n}if(typeof e.shortName>"u"&&e.name&&e.name in $e&&(e.shortName=$e[e.name]),e.type===xe.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=m.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var i=0;i<e.extensions.length;++i)e.value.push(V.certificateExtensionToAsn1(Cd(e.extensions[i])))}if(typeof e.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=e,n}}}function Cd(t,e){if(e=e||{},typeof t.name>"u"&&t.id&&t.id in V.oids&&(t.name=V.oids[t.id]),typeof t.id>"u")if(t.name&&t.name in V.oids)t.id=V.oids[t.name];else{var r=new Error("Extension ID not specified.");throw r.extension=t,r}if(typeof t.value<"u")return t;if(t.name==="keyUsage"){var n=0,i=0,a=0;t.digitalSignature&&(i|=128,n=7),t.nonRepudiation&&(i|=64,n=6),t.keyEncipherment&&(i|=32,n=5),t.dataEncipherment&&(i|=16,n=4),t.keyAgreement&&(i|=8,n=3),t.keyCertSign&&(i|=4,n=2),t.cRLSign&&(i|=2,n=1),t.encipherOnly&&(i|=1,n=0),t.decipherOnly&&(a|=128,n=7);var s=String.fromCharCode(n);a!==0?s+=String.fromCharCode(i)+String.fromCharCode(a):i!==0&&(s+=String.fromCharCode(i)),t.value=m.create(m.Class.UNIVERSAL,m.Type.BITSTRING,!1,s)}else if(t.name==="basicConstraints")t.value=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(m.create(m.Class.UNIVERSAL,m.Type.BOOLEAN,!1,"")),"pathLenConstraint"in t&&t.value.value.push(m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(t.pathLenConstraint).getBytes()));else if(t.name==="extKeyUsage"){t.value=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]);var o=t.value.value;for(var l in t)t[l]===!0&&(l in xe?o.push(m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(xe[l]).getBytes())):l.indexOf(".")!==-1&&o.push(m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(l).getBytes())))}else if(t.name==="nsCertType"){var n=0,i=0;t.client&&(i|=128,n=7),t.server&&(i|=64,n=6),t.email&&(i|=32,n=5),t.objsign&&(i|=16,n=4),t.reserved&&(i|=8,n=3),t.sslCA&&(i|=4,n=2),t.emailCA&&(i|=2,n=1),t.objCA&&(i|=1,n=0);var s=String.fromCharCode(n);i!==0&&(s+=String.fromCharCode(i)),t.value=m.create(m.Class.UNIVERSAL,m.Type.BITSTRING,!1,s)}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.value=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]);for(var c,u=0;u<t.altNames.length;++u){c=t.altNames[u];var s=c.value;if(c.type===7&&c.ip){if(s=ne.util.bytesFromIP(c.ip),s===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else c.type===8&&(c.oid?s=m.oidToDer(m.oidToDer(c.oid)):s=m.oidToDer(s));t.value.value.push(m.create(m.Class.CONTEXT_SPECIFIC,c.type,!1,s))}}else if(t.name==="nsComment"&&e.cert){if(!/^[\x00-\x7F]*$/.test(t.comment)||t.comment.length<1||t.comment.length>128)throw new Error('Invalid "nsComment" content.');t.value=m.create(m.Class.UNIVERSAL,m.Type.IA5STRING,!1,t.comment)}else if(t.name==="subjectKeyIdentifier"&&e.cert){var f=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=f.toHex(),t.value=m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,f.getBytes())}else if(t.name==="authorityKeyIdentifier"&&e.cert){t.value=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]);var o=t.value.value;if(t.keyIdentifier){var d=t.keyIdentifier===!0?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;o.push(m.create(m.Class.CONTEXT_SPECIFIC,0,!1,d))}if(t.authorityCertIssuer){var p=[m.create(m.Class.CONTEXT_SPECIFIC,4,!0,[In(t.authorityCertIssuer===!0?e.cert.issuer:t.authorityCertIssuer)])];o.push(m.create(m.Class.CONTEXT_SPECIFIC,1,!0,p))}if(t.serialNumber){var h=ne.util.hexToBytes(t.serialNumber===!0?e.cert.serialNumber:t.serialNumber);o.push(m.create(m.Class.CONTEXT_SPECIFIC,2,!1,h))}}else if(t.name==="cRLDistributionPoints"){t.value=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]);for(var o=t.value.value,g=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]),y=m.create(m.Class.CONTEXT_SPECIFIC,0,!0,[]),c,u=0;u<t.altNames.length;++u){c=t.altNames[u];var s=c.value;if(c.type===7&&c.ip){if(s=ne.util.bytesFromIP(c.ip),s===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else c.type===8&&(c.oid?s=m.oidToDer(m.oidToDer(c.oid)):s=m.oidToDer(s));y.value.push(m.create(m.Class.CONTEXT_SPECIFIC,c.type,!1,s))}g.value.push(m.create(m.Class.CONTEXT_SPECIFIC,0,!0,[y])),o.push(g)}if(typeof t.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=t,r}return t}function fl(t,e){switch(t){case xe["RSASSA-PSS"]:var r=[];return e.hash.algorithmOid!==void 0&&r.push(m.create(m.Class.CONTEXT_SPECIFIC,0,!0,[m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(e.hash.algorithmOid).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")])])),e.mgf.algorithmOid!==void 0&&r.push(m.create(m.Class.CONTEXT_SPECIFIC,1,!0,[m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(e.mgf.algorithmOid).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(e.mgf.hash.algorithmOid).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")])])])),e.saltLength!==void 0&&r.push(m.create(m.Class.CONTEXT_SPECIFIC,2,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(e.saltLength).getBytes())])),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,r);default:return m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")}}function k1(t){var e=m.create(m.Class.CONTEXT_SPECIFIC,0,!0,[]);if(t.attributes.length===0)return e;for(var r=t.attributes,n=0;n<r.length;++n){var i=r[n],a=i.value,s=m.Type.UTF8;"valueTagClass"in i&&(s=i.valueTagClass),s===m.Type.UTF8&&(a=ne.util.encodeUtf8(a));var o=!1;"valueConstructed"in i&&(o=i.valueConstructed);var l=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(i.type).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SET,!0,[m.create(m.Class.UNIVERSAL,s,o,a)])]);e.value.push(l)}return e}var N1=new Date("1950-01-01T00:00:00Z"),L1=new Date("2050-01-01T00:00:00Z");function Wc(t){return t>=N1&&t<L1?m.create(m.Class.UNIVERSAL,m.Type.UTCTIME,!1,m.dateToUtcTime(t)):m.create(m.Class.UNIVERSAL,m.Type.GENERALIZEDTIME,!1,m.dateToGeneralizedTime(t))}V.getTBSCertificate=function(t){var e=Wc(t.validity.notBefore),r=Wc(t.validity.notAfter),n=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.CONTEXT_SPECIFIC,0,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(t.version).getBytes())]),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,ne.util.hexToBytes(t.serialNumber)),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(t.siginfo.algorithmOid).getBytes()),fl(t.siginfo.algorithmOid,t.siginfo.parameters)]),In(t.issuer),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[e,r]),In(t.subject),V.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&n.value.push(m.create(m.Class.CONTEXT_SPECIFIC,1,!0,[m.create(m.Class.UNIVERSAL,m.Type.BITSTRING,!1,"\0"+t.issuer.uniqueId)])),t.subject.uniqueId&&n.value.push(m.create(m.Class.CONTEXT_SPECIFIC,2,!0,[m.create(m.Class.UNIVERSAL,m.Type.BITSTRING,!1,"\0"+t.subject.uniqueId)])),t.extensions.length>0&&n.value.push(V.certificateExtensionsToAsn1(t.extensions)),n};V.getCertificationRequestInfo=function(t){var e=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(t.version).getBytes()),In(t.subject),V.publicKeyToAsn1(t.publicKey),k1(t)]);return e};V.distinguishedNameToAsn1=function(t){return In(t)};V.certificateToAsn1=function(t){var e=t.tbsCertificate||V.getTBSCertificate(t);return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[e,m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(t.signatureOid).getBytes()),fl(t.signatureOid,t.signatureParameters)]),m.create(m.Class.UNIVERSAL,m.Type.BITSTRING,!1,"\0"+t.signature)])};V.certificateExtensionsToAsn1=function(t){var e=m.create(m.Class.CONTEXT_SPECIFIC,3,!0,[]),r=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(V.certificateExtensionToAsn1(t[n]));return e};V.certificateExtensionToAsn1=function(t){var e=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]);e.value.push(m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(t.id).getBytes())),t.critical&&e.value.push(m.create(m.Class.UNIVERSAL,m.Type.BOOLEAN,!1,""));var r=t.value;return typeof t.value!="string"&&(r=m.toDer(r).getBytes()),e.value.push(m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,r)),e};V.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||V.getCertificationRequestInfo(t);return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[e,m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(t.signatureOid).getBytes()),fl(t.signatureOid,t.signatureParameters)]),m.create(m.Class.UNIVERSAL,m.Type.BITSTRING,!1,"\0"+t.signature)])};V.createCaStore=function(t){var e={certs:{}};e.getIssuer=function(s){var o=r(s.issuer);return o},e.addCertificate=function(s){if(typeof s=="string"&&(s=ne.pki.certificateFromPem(s)),n(s.subject),!e.hasCertificate(s))if(s.subject.hash in e.certs){var o=e.certs[s.subject.hash];ne.util.isArray(o)||(o=[o]),o.push(s),e.certs[s.subject.hash]=o}else e.certs[s.subject.hash]=s},e.hasCertificate=function(s){typeof s=="string"&&(s=ne.pki.certificateFromPem(s));var o=r(s.subject);if(!o)return!1;ne.util.isArray(o)||(o=[o]);for(var l=m.toDer(V.certificateToAsn1(s)).getBytes(),c=0;c<o.length;++c){var u=m.toDer(V.certificateToAsn1(o[c])).getBytes();if(l===u)return!0}return!1},e.listAllCertificates=function(){var s=[];for(var o in e.certs)if(e.certs.hasOwnProperty(o)){var l=e.certs[o];if(!ne.util.isArray(l))s.push(l);else for(var c=0;c<l.length;++c)s.push(l[c])}return s},e.removeCertificate=function(s){var o;if(typeof s=="string"&&(s=ne.pki.certificateFromPem(s)),n(s.subject),!e.hasCertificate(s))return null;var l=r(s.subject);if(!ne.util.isArray(l))return o=e.certs[s.subject.hash],delete e.certs[s.subject.hash],o;for(var c=m.toDer(V.certificateToAsn1(s)).getBytes(),u=0;u<l.length;++u){var f=m.toDer(V.certificateToAsn1(l[u])).getBytes();c===f&&(o=l[u],l.splice(u,1))}return l.length===0&&delete e.certs[s.subject.hash],o};function r(s){return n(s),e.certs[s.hash]||null}function n(s){if(!s.hash){var o=ne.md.sha1.create();s.attributes=V.RDNAttributesAsArray(In(s),o),s.hash=o.digest().toHex()}}if(t)for(var i=0;i<t.length;++i){var a=t[i];e.addCertificate(a)}return e};V.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};V.verifyCertificateChain=function(t,e,r){typeof r=="function"&&(r={verify:r}),r=r||{},e=e.slice(0);var n=e.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var a=!0,s=null,o=0;do{var l=e.shift(),c=null,u=!1;if(i&&(i<l.validity.notBefore||i>l.validity.notAfter)&&(s={message:"Certificate is not valid yet or has expired.",error:V.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:i}),s===null){if(c=e[0]||t.getIssuer(l),c===null&&l.isIssuer(l)&&(u=!0,c=l),c){var f=c;ne.util.isArray(f)||(f=[f]);for(var d=!1;!d&&f.length>0;){c=f.shift();try{d=c.verify(l)}catch{}}d||(s={message:"Certificate signature is invalid.",error:V.certificateError.bad_certificate})}s===null&&(!c||u)&&!t.hasCertificate(l)&&(s={message:"Certificate is not trusted.",error:V.certificateError.unknown_ca})}if(s===null&&c&&!l.isIssuer(c)&&(s={message:"Certificate issuer is invalid.",error:V.certificateError.bad_certificate}),s===null)for(var p={keyUsage:!0,basicConstraints:!0},h=0;s===null&&h<l.extensions.length;++h){var g=l.extensions[h];g.critical&&!(g.name in p)&&(s={message:"Certificate has an unsupported critical extension.",error:V.certificateError.unsupported_certificate})}if(s===null&&(!a||e.length===0&&(!c||u))){var y=l.getExtension("basicConstraints"),b=l.getExtension("keyUsage");if(b!==null&&(!b.keyCertSign||y===null)&&(s={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:V.certificateError.bad_certificate}),s===null&&y!==null&&!y.cA&&(s={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:V.certificateError.bad_certificate}),s===null&&b!==null&&"pathLenConstraint"in y){var S=o-1;S>y.pathLenConstraint&&(s={message:"Certificate basicConstraints pathLenConstraint violated.",error:V.certificateError.bad_certificate})}}var E=s===null?!0:s.error,B=r.verify?r.verify(E,o,n):E;if(B===!0)s=null;else throw E===!0&&(s={message:"The application rejected the certificate.",error:V.certificateError.bad_certificate}),(B||B===0)&&(typeof B=="object"&&!ne.util.isArray(B)?(B.message&&(s.message=B.message),B.error&&(s.error=B.error)):typeof B=="string"&&(s.error=B)),s;a=!1,++o}while(e.length>0);return!0};var De=de,_=De.asn1,pe=De.pki,xi=De.pkcs12=De.pkcs12||{},Sd={name:"ContentInfo",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:_.Class.UNIVERSAL,type:_.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:_.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},D1={name:"PFX",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:_.Class.UNIVERSAL,type:_.Type.INTEGER,constructed:!1,capture:"version"},Sd,{name:"PFX.macData",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:_.Class.UNIVERSAL,type:_.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:_.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:_.Class.UNIVERSAL,type:_.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:_.Class.UNIVERSAL,type:_.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:_.Class.UNIVERSAL,type:_.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},P1={name:"SafeBag",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:_.Class.UNIVERSAL,type:_.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:_.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:_.Class.UNIVERSAL,type:_.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},O1={name:"Attribute",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:_.Class.UNIVERSAL,type:_.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:_.Class.UNIVERSAL,type:_.Type.SET,constructed:!0,capture:"values"}]},M1={name:"CertBag",tagClass:_.Class.UNIVERSAL,type:_.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:_.Class.UNIVERSAL,type:_.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:_.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:_.Class.UNIVERSAL,type:_.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function Wn(t,e,r,n){for(var i=[],a=0;a<t.length;a++)for(var s=0;s<t[a].safeBags.length;s++){var o=t[a].safeBags[s];if(!(n!==void 0&&o.type!==n)){if(e===null){i.push(o);continue}o.attributes[e]!==void 0&&o.attributes[e].indexOf(r)>=0&&i.push(o)}}return i}xi.pkcs12FromAsn1=function(t,e,r){typeof e=="string"?(r=e,e=!0):e===void 0&&(e=!0);var n={},i=[];if(!_.validate(t,D1,n,i)){var a=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw a.errors=a,a}var s={version:n.version.charCodeAt(0),safeContents:[],getBags:function(y){var b={},S;return"localKeyId"in y?S=y.localKeyId:"localKeyIdHex"in y&&(S=De.util.hexToBytes(y.localKeyIdHex)),S===void 0&&!("friendlyName"in y)&&"bagType"in y&&(b[y.bagType]=Wn(s.safeContents,null,null,y.bagType)),S!==void 0&&(b.localKeyId=Wn(s.safeContents,"localKeyId",S,y.bagType)),"friendlyName"in y&&(b.friendlyName=Wn(s.safeContents,"friendlyName",y.friendlyName,y.bagType)),b},getBagsByFriendlyName:function(y,b){return Wn(s.safeContents,"friendlyName",y,b)},getBagsByLocalKeyId:function(y,b){return Wn(s.safeContents,"localKeyId",y,b)}};if(n.version.charCodeAt(0)!==3){var a=new Error("PKCS#12 PFX of version other than 3 not supported.");throw a.version=n.version.charCodeAt(0),a}if(_.derToOid(n.contentType)!==pe.oids.data){var a=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw a.oid=_.derToOid(n.contentType),a}var o=n.content.value[0];if(o.tagClass!==_.Class.UNIVERSAL||o.type!==_.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(o=dl(o),n.mac){var l=null,c=0,u=_.derToOid(n.macAlgorithm);switch(u){case pe.oids.sha1:l=De.md.sha1.create(),c=20;break;case pe.oids.sha256:l=De.md.sha256.create(),c=32;break;case pe.oids.sha384:l=De.md.sha384.create(),c=48;break;case pe.oids.sha512:l=De.md.sha512.create(),c=64;break;case pe.oids.md5:l=De.md.md5.create(),c=16;break}if(l===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+u);var f=new De.util.ByteBuffer(n.macSalt),d="macIterations"in n?parseInt(De.util.bytesToHex(n.macIterations),16):1,p=xi.generateKey(r,f,3,d,c,l),h=De.hmac.create();h.start(l,p),h.update(o.value);var g=h.getMac();if(g.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return U1(s,o.value,e,r),s};function dl(t){if(t.composed||t.constructed){for(var e=De.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}function U1(t,e,r,n){if(e=_.fromDer(e,r),e.tagClass!==_.Class.UNIVERSAL||e.type!==_.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<e.value.length;i++){var a=e.value[i],s={},o=[];if(!_.validate(a,Sd,s,o)){var l=new Error("Cannot read ContentInfo.");throw l.errors=o,l}var c={encrypted:!1},u=null,f=s.content.value[0];switch(_.derToOid(s.contentType)){case pe.oids.data:if(f.tagClass!==_.Class.UNIVERSAL||f.type!==_.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");u=dl(f).value;break;case pe.oids.encryptedData:u=F1(f,n),c.encrypted=!0;break;default:var l=new Error("Unsupported PKCS#12 contentType.");throw l.contentType=_.derToOid(s.contentType),l}c.safeBags=V1(u,r,n),t.safeContents.push(c)}}function F1(t,e){var r={},n=[];if(!_.validate(t,De.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var a=_.derToOid(r.contentType);if(a!==pe.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=a,i}a=_.derToOid(r.encAlgorithm);var s=pe.pbe.getCipher(a,r.encParameter,e),o=dl(r.encryptedContentAsn1),l=De.util.createBuffer(o.value);if(s.update(l),!s.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return s.output.getBytes()}function V1(t,e,r){if(!e&&t.length===0)return[];if(t=_.fromDer(t,e),t.tagClass!==_.Class.UNIVERSAL||t.type!==_.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<t.value.length;i++){var a=t.value[i],s={},o=[];if(!_.validate(a,P1,s,o)){var l=new Error("Cannot read SafeBag.");throw l.errors=o,l}var c={type:_.derToOid(s.bagId),attributes:K1(s.bagAttributes)};n.push(c);var u,f,d=s.bagValue.value[0];switch(c.type){case pe.oids.pkcs8ShroudedKeyBag:if(d=pe.decryptPrivateKeyInfo(d,r),d===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case pe.oids.keyBag:try{c.key=pe.privateKeyFromAsn1(d)}catch{c.key=null,c.asn1=d}continue;case pe.oids.certBag:u=M1,f=function(){if(_.derToOid(s.certId)!==pe.oids.x509Certificate){var h=new Error("Unsupported certificate type, only X.509 supported.");throw h.oid=_.derToOid(s.certId),h}var g=_.fromDer(s.cert,e);try{c.cert=pe.certificateFromAsn1(g,!0)}catch{c.cert=null,c.asn1=g}};break;default:var l=new Error("Unsupported PKCS#12 SafeBag type.");throw l.oid=c.type,l}if(u!==void 0&&!_.validate(d,u,s,o)){var l=new Error("Cannot read PKCS#12 "+u.name);throw l.errors=o,l}f()}return n}function K1(t){var e={};if(t!==void 0)for(var r=0;r<t.length;++r){var n={},i=[];if(!_.validate(t[r],O1,n,i)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=i,a}var s=_.derToOid(n.oid);if(pe.oids[s]!==void 0){e[pe.oids[s]]=[];for(var o=0;o<n.values.length;++o)e[pe.oids[s]].push(n.values[o].value)}}return e}xi.toPkcs12Asn1=function(t,e,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,a;if(i!==null)i=De.util.hexToBytes(i);else if(n.generateLocalKeyId)if(e){var s=De.util.isArray(e)?e[0]:e;typeof s=="string"&&(s=pe.certificateFromPem(s));var o=De.md.sha1.create();o.update(_.toDer(pe.certificateToAsn1(s)).getBytes()),i=o.digest().getBytes()}else i=De.random.getBytes(20);var l=[];i!==null&&l.push(_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(pe.oids.localKeyId).getBytes()),_.create(_.Class.UNIVERSAL,_.Type.SET,!0,[_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&l.push(_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(pe.oids.friendlyName).getBytes()),_.create(_.Class.UNIVERSAL,_.Type.SET,!0,[_.create(_.Class.UNIVERSAL,_.Type.BMPSTRING,!1,n.friendlyName)])])),l.length>0&&(a=_.create(_.Class.UNIVERSAL,_.Type.SET,!0,l));var c=[],u=[];e!==null&&(De.util.isArray(e)?u=e:u=[e]);for(var f=[],d=0;d<u.length;++d){e=u[d],typeof e=="string"&&(e=pe.certificateFromPem(e));var p=d===0?a:void 0,h=pe.certificateToAsn1(e),g=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(pe.oids.certBag).getBytes()),_.create(_.Class.CONTEXT_SPECIFIC,0,!0,[_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(pe.oids.x509Certificate).getBytes()),_.create(_.Class.CONTEXT_SPECIFIC,0,!0,[_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,_.toDer(h).getBytes())])])]),p]);f.push(g)}if(f.length>0){var y=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,f),b=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(pe.oids.data).getBytes()),_.create(_.Class.CONTEXT_SPECIFIC,0,!0,[_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,_.toDer(y).getBytes())])]);c.push(b)}var S=null;if(t!==null){var E=pe.wrapRsaPrivateKey(pe.privateKeyToAsn1(t));r===null?S=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(pe.oids.keyBag).getBytes()),_.create(_.Class.CONTEXT_SPECIFIC,0,!0,[E]),a]):S=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(pe.oids.pkcs8ShroudedKeyBag).getBytes()),_.create(_.Class.CONTEXT_SPECIFIC,0,!0,[pe.encryptPrivateKeyInfo(E,r,n)]),a]);var B=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[S]),I=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(pe.oids.data).getBytes()),_.create(_.Class.CONTEXT_SPECIFIC,0,!0,[_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,_.toDer(B).getBytes())])]);c.push(I)}var T=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,c),N;if(n.useMac){var o=De.md.sha1.create(),D=new De.util.ByteBuffer(De.random.getBytes(n.saltSize)),F=n.count,t=xi.generateKey(r,D,3,F,20),H=De.hmac.create();H.start(o,t),H.update(_.toDer(T).getBytes());var j=H.getMac();N=_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(pe.oids.sha1).getBytes()),_.create(_.Class.UNIVERSAL,_.Type.NULL,!1,"")]),_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,j.getBytes())]),_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,D.getBytes()),_.create(_.Class.UNIVERSAL,_.Type.INTEGER,!1,_.integerToDer(F).getBytes())])}return _.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.INTEGER,!1,_.integerToDer(3).getBytes()),_.create(_.Class.UNIVERSAL,_.Type.SEQUENCE,!0,[_.create(_.Class.UNIVERSAL,_.Type.OID,!1,_.oidToDer(pe.oids.data).getBytes()),_.create(_.Class.CONTEXT_SPECIFIC,0,!0,[_.create(_.Class.UNIVERSAL,_.Type.OCTETSTRING,!1,_.toDer(T).getBytes())])]),N])};xi.generateKey=De.pbe.generatePkcs12Key;var Dr=de,hl=Dr.asn1,wn=Dr.pki=Dr.pki||{};wn.pemToDer=function(t){var e=Dr.pem.decode(t)[0];if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return Dr.util.createBuffer(e.body)};wn.privateKeyFromPem=function(t){var e=Dr.pem.decode(t)[0];if(e.type!=="PRIVATE KEY"&&e.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=hl.fromDer(e.body);return wn.privateKeyFromAsn1(n)};wn.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:hl.toDer(wn.privateKeyToAsn1(t)).getBytes()};return Dr.pem.encode(r,{maxline:e})};wn.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:hl.toDer(t).getBytes()};return Dr.pem.encode(r,{maxline:e})};var O=de,ns=function(t,e,r,n){var i=O.util.createBuffer(),a=t.length>>1,s=a+(t.length&1),o=t.substr(0,s),l=t.substr(a,s),c=O.util.createBuffer(),u=O.hmac.create();r=e+r;var f=Math.ceil(n/16),d=Math.ceil(n/20);u.start("MD5",o);var p=O.util.createBuffer();c.putBytes(r);for(var h=0;h<f;++h)u.start(null,null),u.update(c.getBytes()),c.putBuffer(u.digest()),u.start(null,null),u.update(c.bytes()+r),p.putBuffer(u.digest());u.start("SHA1",l);var g=O.util.createBuffer();c.clear(),c.putBytes(r);for(var h=0;h<d;++h)u.start(null,null),u.update(c.getBytes()),c.putBuffer(u.digest()),u.start(null,null),u.update(c.bytes()+r),g.putBuffer(u.digest());return i.putBytes(O.util.xorBytes(p.getBytes(),g.getBytes(),n)),i},z1=function(t,e,r){var n=O.hmac.create();n.start("SHA1",t);var i=O.util.createBuffer();return i.putInt32(e[0]),i.putInt32(e[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},H1=function(t,e,r){var n=!1;try{var i=t.deflate(e.fragment.getBytes());e.fragment=O.util.createBuffer(i),e.length=i.length,n=!0}catch{}return n},W1=function(t,e,r){var n=!1;try{var i=t.inflate(e.fragment.getBytes());e.fragment=O.util.createBuffer(i),e.length=i.length,n=!0}catch{}return n},It=function(t,e){var r=0;switch(e){case 1:r=t.getByte();break;case 2:r=t.getInt16();break;case 3:r=t.getInt24();break;case 4:r=t.getInt32();break}return O.util.createBuffer(t.getBytes(r))},Lt=function(t,e,r){t.putInt(r.length(),e<<3),t.putBuffer(r)},x={};x.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};x.SupportedVersions=[x.Versions.TLS_1_1,x.Versions.TLS_1_0];x.Version=x.SupportedVersions[0];x.MaxFragment=15360;x.ConnectionEnd={server:0,client:1};x.PRFAlgorithm={tls_prf_sha256:0};x.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};x.CipherType={stream:0,block:1,aead:2};x.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};x.CompressionMethod={none:0,deflate:1};x.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};x.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};x.Alert={};x.Alert.Level={warning:1,fatal:2};x.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};x.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};x.CipherSuites={};x.getCipherSuite=function(t){var e=null;for(var r in x.CipherSuites){var n=x.CipherSuites[r];if(n.id[0]===t.charCodeAt(0)&&n.id[1]===t.charCodeAt(1)){e=n;break}}return e};x.handleUnexpected=function(t,e){var r=!t.open&&t.entity===x.ConnectionEnd.client;r||t.error(t,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.unexpected_message}})};x.handleHelloRequest=function(t,e,r){!t.handshaking&&t.handshakes>0&&(x.queue(t,x.createAlert(t,{level:x.Alert.Level.warning,description:x.Alert.Description.no_renegotiation})),x.flush(t)),t.process()};x.parseHelloMessage=function(t,e,r){var n=null,i=t.entity===x.ConnectionEnd.client;if(r<38)t.error(t,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});else{var a=e.fragment,s=a.length();if(n={version:{major:a.getByte(),minor:a.getByte()},random:O.util.createBuffer(a.getBytes(32)),session_id:It(a,1),extensions:[]},i?(n.cipher_suite=a.getBytes(2),n.compression_method=a.getByte()):(n.cipher_suites=It(a,2),n.compression_methods=It(a,1)),s=r-(s-a.length()),s>0){for(var o=It(a,2);o.length()>0;)n.extensions.push({type:[o.getByte(),o.getByte()],data:It(o,2)});if(!i)for(var l=0;l<n.extensions.length;++l){var c=n.extensions[l];if(c.type[0]===0&&c.type[1]===0)for(var u=It(c.data,2);u.length()>0;){var f=u.getByte();if(f!==0)break;t.session.extensions.server_name.serverNameList.push(It(u,2).getBytes())}}}if(t.session.version&&(n.version.major!==t.session.version.major||n.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.protocol_version}});if(i)t.session.cipherSuite=x.getCipherSuite(n.cipher_suite);else for(var d=O.util.createBuffer(n.cipher_suites.bytes());d.length()>0&&(t.session.cipherSuite=x.getCipherSuite(d.getBytes(2)),t.session.cipherSuite===null););if(t.session.cipherSuite===null)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.handshake_failure},cipherSuite:O.util.bytesToHex(n.cipher_suite)});i?t.session.compressionMethod=n.compression_method:t.session.compressionMethod=x.CompressionMethod.none}return n};x.createSecurityParameters=function(t,e){var r=t.entity===x.ConnectionEnd.client,n=e.random.bytes(),i=r?t.session.sp.client_random:n,a=r?n:x.createRandom().getBytes();t.session.sp={entity:t.entity,prf_algorithm:x.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:t.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:a}};x.handleServerHello=function(t,e,r){var n=x.parseHelloMessage(t,e,r);if(!t.fail){if(n.version.minor<=t.version.minor)t.version.minor=n.version.minor;else return t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.protocol_version}});t.session.version=t.version;var i=n.session_id.bytes();i.length>0&&i===t.session.id?(t.expect=Ed,t.session.resuming=!0,t.session.sp.server_random=n.random.bytes()):(t.expect=G1,t.session.resuming=!1,x.createSecurityParameters(t,n)),t.session.id=i,t.process()}};x.handleClientHello=function(t,e,r){var n=x.parseHelloMessage(t,e,r);if(!t.fail){var i=n.session_id.bytes(),a=null;if(t.sessionCache&&(a=t.sessionCache.getSession(i),a===null?i="":(a.version.major!==n.version.major||a.version.minor>n.version.minor)&&(a=null,i="")),i.length===0&&(i=O.random.getBytes(32)),t.session.id=i,t.session.clientHelloVersion=n.version,t.session.sp={},a)t.version=t.session.version=a.version,t.session.sp=a.sp;else{for(var s,o=1;o<x.SupportedVersions.length&&(s=x.SupportedVersions[o],!(s.minor<=n.version.minor));++o);t.version={major:s.major,minor:s.minor},t.session.version=t.version}a!==null?(t.expect=pl,t.session.resuming=!0,t.session.sp.client_random=n.random.bytes()):(t.expect=t.verifyClient!==!1?J1:Io,t.session.resuming=!1,x.createSecurityParameters(t,n)),t.open=!0,x.queue(t,x.createRecord(t,{type:x.ContentType.handshake,data:x.createServerHello(t)})),t.session.resuming?(x.queue(t,x.createRecord(t,{type:x.ContentType.change_cipher_spec,data:x.createChangeCipherSpec()})),t.state.pending=x.createConnectionState(t),t.state.current.write=t.state.pending.write,x.queue(t,x.createRecord(t,{type:x.ContentType.handshake,data:x.createFinished(t)}))):(x.queue(t,x.createRecord(t,{type:x.ContentType.handshake,data:x.createCertificate(t)})),t.fail||(x.queue(t,x.createRecord(t,{type:x.ContentType.handshake,data:x.createServerKeyExchange(t)})),t.verifyClient!==!1&&x.queue(t,x.createRecord(t,{type:x.ContentType.handshake,data:x.createCertificateRequest(t)})),x.queue(t,x.createRecord(t,{type:x.ContentType.handshake,data:x.createServerHelloDone(t)})))),x.flush(t),t.process()}};x.handleCertificate=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});var n=e.fragment,i={certificate_list:It(n,3)},a,s,o=[];try{for(;i.certificate_list.length()>0;)a=It(i.certificate_list,3),s=O.asn1.fromDer(a),a=O.pki.certificateFromAsn1(s,!0),o.push(a)}catch(c){return t.error(t,{message:"Could not parse certificate list.",cause:c,send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.bad_certificate}})}var l=t.entity===x.ConnectionEnd.client;(l||t.verifyClient===!0)&&o.length===0?t.error(t,{message:l?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}}):o.length===0?t.expect=l?$c:Io:(l?t.session.serverCertificate=o[0]:t.session.clientCertificate=o[0],x.verifyCertificateChain(t,o)&&(t.expect=l?$c:Io)),t.process()};x.handleServerKeyExchange=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.unsupported_certificate}});t.expect=j1,t.process()};x.handleClientKeyExchange=function(t,e,r){if(r<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.unsupported_certificate}});var n=e.fragment,i={enc_pre_master_secret:It(n,2).getBytes()},a=null;if(t.getPrivateKey)try{a=t.getPrivateKey(t,t.session.serverCertificate),a=O.pki.privateKeyFromPem(a)}catch(l){t.error(t,{message:"Could not get private key.",cause:l,send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}})}if(a===null)return t.error(t,{message:"No private key set.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}});try{var s=t.session.sp;s.pre_master_secret=a.decrypt(i.enc_pre_master_secret);var o=t.session.clientHelloVersion;if(o.major!==s.pre_master_secret.charCodeAt(0)||o.minor!==s.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{s.pre_master_secret=O.random.getBytes(48)}t.expect=pl,t.session.clientCertificate!==null&&(t.expect=ex),t.process()};x.handleCertificateRequest=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});var n=e.fragment,i={certificate_types:It(n,1),certificate_authorities:It(n,2)};t.session.certificateRequest=i,t.expect=q1,t.process()};x.handleCertificateVerify=function(t,e,r){if(r<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});var n=e.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a={signature:It(n,2).getBytes()},s=O.util.createBuffer();s.putBuffer(t.session.md5.digest()),s.putBuffer(t.session.sha1.digest()),s=s.getBytes();try{var o=t.session.clientCertificate;if(!o.publicKey.verify(s,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(i),t.session.sha1.update(i)}catch{return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.handshake_failure}})}t.expect=pl,t.process()};x.handleServerHelloDone=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.record_overflow}});if(t.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.insufficient_security}},i=0,a=t.verify(t,n.alert.description,i,[]);if(a!==!0)return(a||a===0)&&(typeof a=="object"&&!O.util.isArray(a)?(a.message&&(n.message=a.message),a.alert&&(n.alert.description=a.alert)):typeof a=="number"&&(n.alert.description=a)),t.error(t,n)}t.session.certificateRequest!==null&&(e=x.createRecord(t,{type:x.ContentType.handshake,data:x.createCertificate(t)}),x.queue(t,e)),e=x.createRecord(t,{type:x.ContentType.handshake,data:x.createClientKeyExchange(t)}),x.queue(t,e),t.expect=X1;var s=function(o,l){o.session.certificateRequest!==null&&o.session.clientCertificate!==null&&x.queue(o,x.createRecord(o,{type:x.ContentType.handshake,data:x.createCertificateVerify(o,l)})),x.queue(o,x.createRecord(o,{type:x.ContentType.change_cipher_spec,data:x.createChangeCipherSpec()})),o.state.pending=x.createConnectionState(o),o.state.current.write=o.state.pending.write,x.queue(o,x.createRecord(o,{type:x.ContentType.handshake,data:x.createFinished(o)})),o.expect=Ed,x.flush(o),o.process()};if(t.session.certificateRequest===null||t.session.clientCertificate===null)return s(t,null);x.getClientSignature(t,s)};x.handleChangeCipherSpec=function(t,e){if(e.fragment.getByte()!==1)return t.error(t,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.illegal_parameter}});var r=t.entity===x.ConnectionEnd.client;(t.session.resuming&&r||!t.session.resuming&&!r)&&(t.state.pending=x.createConnectionState(t)),t.state.current.read=t.state.pending.read,(!t.session.resuming&&r||t.session.resuming&&!r)&&(t.state.pending=null),t.expect=r?Y1:tx,t.process()};x.handleFinished=function(t,e,r){var n=e.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a=e.fragment.getBytes();n=O.util.createBuffer(),n.putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest());var s=t.entity===x.ConnectionEnd.client,o=s?"server finished":"client finished",l=t.session.sp,c=12,u=ns;if(n=u(l.master_secret,o,n.getBytes(),c),n.getBytes()!==a)return t.error(t,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.decrypt_error}});t.session.md5.update(i),t.session.sha1.update(i),(t.session.resuming&&s||!t.session.resuming&&!s)&&(x.queue(t,x.createRecord(t,{type:x.ContentType.change_cipher_spec,data:x.createChangeCipherSpec()})),t.state.current.write=t.state.pending.write,t.state.pending=null,x.queue(t,x.createRecord(t,{type:x.ContentType.handshake,data:x.createFinished(t)}))),t.expect=s?Q1:rx,t.handshaking=!1,++t.handshakes,t.peerCertificate=s?t.session.serverCertificate:t.session.clientCertificate,x.flush(t),t.isConnected=!0,t.connected(t),t.process()};x.handleAlert=function(t,e){var r=e.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case x.Alert.Description.close_notify:i="Connection closed.";break;case x.Alert.Description.unexpected_message:i="Unexpected message.";break;case x.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case x.Alert.Description.decryption_failed:i="Decryption failed.";break;case x.Alert.Description.record_overflow:i="Record overflow.";break;case x.Alert.Description.decompression_failure:i="Decompression failed.";break;case x.Alert.Description.handshake_failure:i="Handshake failure.";break;case x.Alert.Description.bad_certificate:i="Bad certificate.";break;case x.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case x.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case x.Alert.Description.certificate_expired:i="Certificate expired.";break;case x.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case x.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case x.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case x.Alert.Description.access_denied:i="Access denied.";break;case x.Alert.Description.decode_error:i="Decode error.";break;case x.Alert.Description.decrypt_error:i="Decrypt error.";break;case x.Alert.Description.export_restriction:i="Export restriction.";break;case x.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case x.Alert.Description.insufficient_security:i="Insufficient security.";break;case x.Alert.Description.internal_error:i="Internal error.";break;case x.Alert.Description.user_canceled:i="User canceled.";break;case x.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===x.Alert.Description.close_notify)return t.close();t.error(t,{message:i,send:!1,origin:t.entity===x.ConnectionEnd.client?"server":"client",alert:n}),t.process()};x.handleHandshake=function(t,e){var r=e.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return t.fragmented=e,e.fragment=O.util.createBuffer(),r.read-=4,t.process();t.fragmented=null,r.read-=4;var a=r.bytes(i+4);r.read+=4,n in Ia[t.entity][t.expect]?(t.entity===x.ConnectionEnd.server&&!t.open&&!t.fail&&(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:O.md.md5.create(),sha1:O.md.sha1.create()}),n!==x.HandshakeType.hello_request&&n!==x.HandshakeType.certificate_verify&&n!==x.HandshakeType.finished&&(t.session.md5.update(a),t.session.sha1.update(a)),Ia[t.entity][t.expect][n](t,e,i)):x.handleUnexpected(t,e)};x.handleApplicationData=function(t,e){t.data.putBuffer(e.fragment),t.dataReady(t),t.process()};x.handleHeartbeat=function(t,e){var r=e.fragment,n=r.getByte(),i=r.getInt16(),a=r.getBytes(i);if(n===x.HeartbeatMessageType.heartbeat_request){if(t.handshaking||i>a.length)return t.process();x.queue(t,x.createRecord(t,{type:x.ContentType.heartbeat,data:x.createHeartbeat(x.HeartbeatMessageType.heartbeat_response,a)})),x.flush(t)}else if(n===x.HeartbeatMessageType.heartbeat_response){if(a!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,O.util.createBuffer(a))}t.process()};var $1=0,G1=1,$c=2,j1=3,q1=4,Ed=5,Y1=6,Q1=7,X1=8,Z1=0,J1=1,Io=2,ex=3,pl=4,tx=5,rx=6,v=x.handleUnexpected,_d=x.handleChangeCipherSpec,dt=x.handleAlert,xt=x.handleHandshake,Td=x.handleApplicationData,ht=x.handleHeartbeat,gl=[];gl[x.ConnectionEnd.client]=[[v,dt,xt,v,ht],[v,dt,xt,v,ht],[v,dt,xt,v,ht],[v,dt,xt,v,ht],[v,dt,xt,v,ht],[_d,dt,v,v,ht],[v,dt,xt,v,ht],[v,dt,xt,Td,ht],[v,dt,xt,v,ht]];gl[x.ConnectionEnd.server]=[[v,dt,xt,v,ht],[v,dt,xt,v,ht],[v,dt,xt,v,ht],[v,dt,xt,v,ht],[_d,dt,v,v,ht],[v,dt,xt,v,ht],[v,dt,xt,Td,ht],[v,dt,xt,v,ht]];var Sr=x.handleHelloRequest,nx=x.handleServerHello,Ad=x.handleCertificate,Gc=x.handleServerKeyExchange,qs=x.handleCertificateRequest,Yi=x.handleServerHelloDone,Id=x.handleFinished,Ia=[];Ia[x.ConnectionEnd.client]=[[v,v,nx,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v],[Sr,v,v,v,v,v,v,v,v,v,v,Ad,Gc,qs,Yi,v,v,v,v,v,v],[Sr,v,v,v,v,v,v,v,v,v,v,v,Gc,qs,Yi,v,v,v,v,v,v],[Sr,v,v,v,v,v,v,v,v,v,v,v,v,qs,Yi,v,v,v,v,v,v],[Sr,v,v,v,v,v,v,v,v,v,v,v,v,v,Yi,v,v,v,v,v,v],[Sr,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v],[Sr,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,Id],[Sr,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v],[Sr,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v]];var ix=x.handleClientHello,ax=x.handleClientKeyExchange,sx=x.handleCertificateVerify;Ia[x.ConnectionEnd.server]=[[v,ix,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v,Ad,v,v,v,v,v,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,ax,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,sx,v,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,Id],[v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v],[v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v]];x.generateKeys=function(t,e){var r=ns,n=e.client_random+e.server_random;t.session.resuming||(e.master_secret=r(e.pre_master_secret,"master secret",n,48).bytes(),e.pre_master_secret=null),n=e.server_random+e.client_random;var i=2*e.mac_key_length+2*e.enc_key_length,a=t.version.major===x.Versions.TLS_1_0.major&&t.version.minor===x.Versions.TLS_1_0.minor;a&&(i+=2*e.fixed_iv_length);var s=r(e.master_secret,"key expansion",n,i),o={client_write_MAC_key:s.getBytes(e.mac_key_length),server_write_MAC_key:s.getBytes(e.mac_key_length),client_write_key:s.getBytes(e.enc_key_length),server_write_key:s.getBytes(e.enc_key_length)};return a&&(o.client_write_IV=s.getBytes(e.fixed_iv_length),o.server_write_IV=s.getBytes(e.fixed_iv_length)),o};x.createConnectionState=function(t){var e=t.entity===x.ConnectionEnd.client,r=function(){var a={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(s){return!0},compressionState:null,compressFunction:function(s){return!0},updateSequenceNumber:function(){a.sequenceNumber[1]===4294967295?(a.sequenceNumber[1]=0,++a.sequenceNumber[0]):++a.sequenceNumber[1]}};return a},n={read:r(),write:r()};if(n.read.update=function(a,s){return n.read.cipherFunction(s,n.read)?n.read.compressFunction(a,s,n.read)||a.error(a,{message:"Could not decompress record.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.decompression_failure}}):a.error(a,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.bad_record_mac}}),!a.fail},n.write.update=function(a,s){return n.write.compressFunction(a,s,n.write)?n.write.cipherFunction(s,n.write)||a.error(a,{message:"Could not encrypt record.",send:!1,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}}):a.error(a,{message:"Could not compress record.",send:!1,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}}),!a.fail},t.session){var i=t.session.sp;switch(t.session.cipherSuite.initSecurityParameters(i),i.keys=x.generateKeys(t,i),n.read.macKey=e?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=e?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,t.session.cipherSuite.initConnectionState(n,t,i),i.compression_algorithm){case x.CompressionMethod.none:break;case x.CompressionMethod.deflate:n.read.compressFunction=W1,n.write.compressFunction=H1;break;default:throw new Error("Unsupported compression algorithm.")}}return n};x.createRandom=function(){var t=new Date,e=+t+t.getTimezoneOffset()*6e4,r=O.util.createBuffer();return r.putInt32(e),r.putBytes(O.random.getBytes(28)),r};x.createRecord=function(t,e){if(!e.data)return null;var r={type:e.type,version:{major:t.version.major,minor:t.version.minor},length:e.data.length(),fragment:e.data};return r};x.createAlert=function(t,e){var r=O.util.createBuffer();return r.putByte(e.level),r.putByte(e.description),x.createRecord(t,{type:x.ContentType.alert,data:r})};x.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var e=O.util.createBuffer(),r=0;r<t.cipherSuites.length;++r){var n=t.cipherSuites[r];e.putByte(n.id[0]),e.putByte(n.id[1])}var i=e.length(),a=O.util.createBuffer();a.putByte(x.CompressionMethod.none);var s=a.length(),o=O.util.createBuffer();if(t.virtualHost){var l=O.util.createBuffer();l.putByte(0),l.putByte(0);var c=O.util.createBuffer();c.putByte(0),Lt(c,2,O.util.createBuffer(t.virtualHost));var u=O.util.createBuffer();Lt(u,2,c),Lt(l,2,u),o.putBuffer(l)}var f=o.length();f>0&&(f+=2);var d=t.session.id,p=d.length+1+2+4+28+2+i+1+s+f,h=O.util.createBuffer();return h.putByte(x.HandshakeType.client_hello),h.putInt24(p),h.putByte(t.version.major),h.putByte(t.version.minor),h.putBytes(t.session.sp.client_random),Lt(h,1,O.util.createBuffer(d)),Lt(h,2,e),Lt(h,1,a),f>0&&Lt(h,2,o),h};x.createServerHello=function(t){var e=t.session.id,r=e.length+1+2+4+28+2+1,n=O.util.createBuffer();return n.putByte(x.HandshakeType.server_hello),n.putInt24(r),n.putByte(t.version.major),n.putByte(t.version.minor),n.putBytes(t.session.sp.server_random),Lt(n,1,O.util.createBuffer(e)),n.putByte(t.session.cipherSuite.id[0]),n.putByte(t.session.cipherSuite.id[1]),n.putByte(t.session.compressionMethod),n};x.createCertificate=function(t){var e=t.entity===x.ConnectionEnd.client,r=null;if(t.getCertificate){var n;e?n=t.session.certificateRequest:n=t.session.extensions.server_name.serverNameList,r=t.getCertificate(t,n)}var i=O.util.createBuffer();if(r!==null)try{O.util.isArray(r)||(r=[r]);for(var a=null,s=0;s<r.length;++s){var o=O.pem.decode(r[s])[0];if(o.type!=="CERTIFICATE"&&o.type!=="X509 CERTIFICATE"&&o.type!=="TRUSTED CERTIFICATE"){var l=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw l.headerType=o.type,l}if(o.procType&&o.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var c=O.util.createBuffer(o.body);a===null&&(a=O.asn1.fromDer(c.bytes(),!1));var u=O.util.createBuffer();Lt(u,3,c),i.putBuffer(u)}r=O.pki.certificateFromAsn1(a),e?t.session.clientCertificate=r:t.session.serverCertificate=r}catch(p){return t.error(t,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.bad_certificate}})}var f=3+i.length(),d=O.util.createBuffer();return d.putByte(x.HandshakeType.certificate),d.putInt24(f),Lt(d,3,i),d};x.createClientKeyExchange=function(t){var e=O.util.createBuffer();e.putByte(t.session.clientHelloVersion.major),e.putByte(t.session.clientHelloVersion.minor),e.putBytes(O.random.getBytes(46));var r=t.session.sp;r.pre_master_secret=e.getBytes();var n=t.session.serverCertificate.publicKey;e=n.encrypt(r.pre_master_secret);var i=e.length+2,a=O.util.createBuffer();return a.putByte(x.HandshakeType.client_key_exchange),a.putInt24(i),a.putInt16(e.length),a.putBytes(e),a};x.createServerKeyExchange=function(t){var e=O.util.createBuffer();return e};x.getClientSignature=function(t,e){var r=O.util.createBuffer();r.putBuffer(t.session.md5.digest()),r.putBuffer(t.session.sha1.digest()),r=r.getBytes(),t.getSignature=t.getSignature||function(n,i,a){var s=null;if(n.getPrivateKey)try{s=n.getPrivateKey(n,n.session.clientCertificate),s=O.pki.privateKeyFromPem(s)}catch(o){n.error(n,{message:"Could not get private key.",cause:o,send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}})}s===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.internal_error}}):i=s.sign(i,null),a(n,i)},t.getSignature(t,r,e)};x.createCertificateVerify=function(t,e){var r=e.length+2,n=O.util.createBuffer();return n.putByte(x.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(e.length),n.putBytes(e),n};x.createCertificateRequest=function(t){var e=O.util.createBuffer();e.putByte(1);var r=O.util.createBuffer();for(var n in t.caStore.certs){var i=t.caStore.certs[n],a=O.pki.distinguishedNameToAsn1(i.subject),s=O.asn1.toDer(a);r.putInt16(s.length()),r.putBuffer(s)}var o=1+e.length()+2+r.length(),l=O.util.createBuffer();return l.putByte(x.HandshakeType.certificate_request),l.putInt24(o),Lt(l,1,e),Lt(l,2,r),l};x.createServerHelloDone=function(t){var e=O.util.createBuffer();return e.putByte(x.HandshakeType.server_hello_done),e.putInt24(0),e};x.createChangeCipherSpec=function(){var t=O.util.createBuffer();return t.putByte(1),t};x.createFinished=function(t){var e=O.util.createBuffer();e.putBuffer(t.session.md5.digest()),e.putBuffer(t.session.sha1.digest());var r=t.entity===x.ConnectionEnd.client,n=t.session.sp,i=12,a=ns,s=r?"client finished":"server finished";e=a(n.master_secret,s,e.getBytes(),i);var o=O.util.createBuffer();return o.putByte(x.HandshakeType.finished),o.putInt24(e.length()),o.putBuffer(e),o};x.createHeartbeat=function(t,e,r){typeof r>"u"&&(r=e.length);var n=O.util.createBuffer();n.putByte(t),n.putInt16(r),n.putBytes(e);var i=n.length(),a=Math.max(16,i-r-3);return n.putBytes(O.random.getBytes(a)),n};x.queue=function(t,e){if(e&&!(e.fragment.length()===0&&(e.type===x.ContentType.handshake||e.type===x.ContentType.alert||e.type===x.ContentType.change_cipher_spec))){if(e.type===x.ContentType.handshake){var r=e.fragment.bytes();t.session.md5.update(r),t.session.sha1.update(r),r=null}var n;if(e.fragment.length()<=x.MaxFragment)n=[e];else{n=[];for(var i=e.fragment.bytes();i.length>x.MaxFragment;)n.push(x.createRecord(t,{type:e.type,data:O.util.createBuffer(i.slice(0,x.MaxFragment))})),i=i.slice(x.MaxFragment);i.length>0&&n.push(x.createRecord(t,{type:e.type,data:O.util.createBuffer(i)}))}for(var a=0;a<n.length&&!t.fail;++a){var s=n[a],o=t.state.current.write;o.update(t,s)&&t.records.push(s)}}};x.flush=function(t){for(var e=0;e<t.records.length;++e){var r=t.records[e];t.tlsData.putByte(r.type),t.tlsData.putByte(r.version.major),t.tlsData.putByte(r.version.minor),t.tlsData.putInt16(r.fragment.length()),t.tlsData.putBuffer(t.records[e].fragment)}return t.records=[],t.tlsDataReady(t)};var Ys=function(t){switch(t){case!0:return!0;case O.pki.certificateError.bad_certificate:return x.Alert.Description.bad_certificate;case O.pki.certificateError.unsupported_certificate:return x.Alert.Description.unsupported_certificate;case O.pki.certificateError.certificate_revoked:return x.Alert.Description.certificate_revoked;case O.pki.certificateError.certificate_expired:return x.Alert.Description.certificate_expired;case O.pki.certificateError.certificate_unknown:return x.Alert.Description.certificate_unknown;case O.pki.certificateError.unknown_ca:return x.Alert.Description.unknown_ca;default:return x.Alert.Description.bad_certificate}},ox=function(t){switch(t){case!0:return!0;case x.Alert.Description.bad_certificate:return O.pki.certificateError.bad_certificate;case x.Alert.Description.unsupported_certificate:return O.pki.certificateError.unsupported_certificate;case x.Alert.Description.certificate_revoked:return O.pki.certificateError.certificate_revoked;case x.Alert.Description.certificate_expired:return O.pki.certificateError.certificate_expired;case x.Alert.Description.certificate_unknown:return O.pki.certificateError.certificate_unknown;case x.Alert.Description.unknown_ca:return O.pki.certificateError.unknown_ca;default:return O.pki.certificateError.bad_certificate}};x.verifyCertificateChain=function(t,e){try{var r={};for(var n in t.verifyOptions)r[n]=t.verifyOptions[n];r.verify=function(a,s,o){var l=Ys(a),c=t.verify(t,a,s,o);if(c!==!0){if(typeof c=="object"&&!O.util.isArray(c)){var u=new Error("The application rejected the certificate.");throw u.send=!0,u.alert={level:x.Alert.Level.fatal,description:x.Alert.Description.bad_certificate},c.message&&(u.message=c.message),c.alert&&(u.alert.description=c.alert),u}c!==a&&(c=ox(c))}return c},O.pki.verifyCertificateChain(t.caStore,e,r)}catch(a){var i=a;(typeof i!="object"||O.util.isArray(i))&&(i={send:!0,alert:{level:x.Alert.Level.fatal,description:Ys(a)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:x.Alert.Level.fatal,description:Ys(i.error)}),t.error(t,i)}return!t.fail};x.createSessionCache=function(t,e){var r=null;if(t&&t.getSession&&t.setSession&&t.order)r=t;else{r={},r.cache=t||{},r.capacity=Math.max(e||100,1),r.order=[];for(var n in t)r.order.length<=e?r.order.push(n):delete t[n];r.getSession=function(i){var a=null,s=null;if(i?s=O.util.bytesToHex(i):r.order.length>0&&(s=r.order[0]),s!==null&&s in r.cache){a=r.cache[s],delete r.cache[s];for(var o in r.order)if(r.order[o]===s){r.order.splice(o,1);break}}return a},r.setSession=function(i,a){if(r.order.length===r.capacity){var s=r.order.shift();delete r.cache[s]}var s=O.util.bytesToHex(i);r.order.push(s),r.cache[s]=a}}return r};x.createConnection=function(t){var e=null;t.caStore?O.util.isArray(t.caStore)?e=O.pki.createCaStore(t.caStore):e=t.caStore:e=O.pki.createCaStore();var r=t.cipherSuites||null;if(r===null){r=[];for(var n in x.CipherSuites)r.push(x.CipherSuites[n])}var i=t.server?x.ConnectionEnd.server:x.ConnectionEnd.client,a=t.sessionCache?x.createSessionCache(t.sessionCache):null,s={version:{major:x.Version.major,minor:x.Version.minor},entity:i,sessionId:t.sessionId,caStore:e,sessionCache:a,cipherSuites:r,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(u,f,d,p){return f},verifyOptions:t.verifyOptions||{},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:O.util.createBuffer(),tlsData:O.util.createBuffer(),data:O.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:function(u,f){f.origin=f.origin||(u.entity===x.ConnectionEnd.client?"client":"server"),f.send&&(x.queue(u,x.createAlert(u,f.alert)),x.flush(u));var d=f.fatal!==!1;d&&(u.fail=!0),t.error(u,f),d&&u.close(!1)},deflate:t.deflate||null,inflate:t.inflate||null};s.reset=function(u){s.version={major:x.Version.major,minor:x.Version.minor},s.record=null,s.session=null,s.peerCertificate=null,s.state={pending:null,current:null},s.expect=s.entity===x.ConnectionEnd.client?$1:Z1,s.fragmented=null,s.records=[],s.open=!1,s.handshakes=0,s.handshaking=!1,s.isConnected=!1,s.fail=!(u||typeof u>"u"),s.input.clear(),s.tlsData.clear(),s.data.clear(),s.state.current=x.createConnectionState(s)},s.reset();var o=function(u,f){var d=f.type-x.ContentType.change_cipher_spec,p=gl[u.entity][u.expect];d in p?p[d](u,f):x.handleUnexpected(u,f)},l=function(u){var f=0,d=u.input,p=d.length();if(p<5)f=5-p;else{u.record={type:d.getByte(),version:{major:d.getByte(),minor:d.getByte()},length:d.getInt16(),fragment:O.util.createBuffer(),ready:!1};var h=u.record.version.major===u.version.major;h&&u.session&&u.session.version&&(h=u.record.version.minor===u.version.minor),h||u.error(u,{message:"Incompatible TLS version.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.protocol_version}})}return f},c=function(u){var f=0,d=u.input,p=d.length();if(p<u.record.length)f=u.record.length-p;else{u.record.fragment.putBytes(d.getBytes(u.record.length)),d.compact();var h=u.state.current.read;h.update(u,u.record)&&(u.fragmented!==null&&(u.fragmented.type===u.record.type?(u.fragmented.fragment.putBuffer(u.record.fragment),u.record=u.fragmented):u.error(u,{message:"Invalid fragmented record.",send:!0,alert:{level:x.Alert.Level.fatal,description:x.Alert.Description.unexpected_message}})),u.record.ready=!0)}return f};return s.handshake=function(u){if(s.entity!==x.ConnectionEnd.client)s.error(s,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(s.handshaking)s.error(s,{message:"Handshake already in progress.",fatal:!1});else{s.fail&&!s.open&&s.handshakes===0&&(s.fail=!1),s.handshaking=!0,u=u||"";var f=null;u.length>0&&(s.sessionCache&&(f=s.sessionCache.getSession(u)),f===null&&(u="")),u.length===0&&s.sessionCache&&(f=s.sessionCache.getSession(),f!==null&&(u=f.id)),s.session={id:u,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:O.md.md5.create(),sha1:O.md.sha1.create()},f&&(s.version=f.version,s.session.sp=f.sp),s.session.sp.client_random=x.createRandom().getBytes(),s.open=!0,x.queue(s,x.createRecord(s,{type:x.ContentType.handshake,data:x.createClientHello(s)})),x.flush(s)}},s.process=function(u){var f=0;return u&&s.input.putBytes(u),s.fail||(s.record!==null&&s.record.ready&&s.record.fragment.isEmpty()&&(s.record=null),s.record===null&&(f=l(s)),!s.fail&&s.record!==null&&!s.record.ready&&(f=c(s)),!s.fail&&s.record!==null&&s.record.ready&&o(s,s.record)),f},s.prepare=function(u){return x.queue(s,x.createRecord(s,{type:x.ContentType.application_data,data:O.util.createBuffer(u)})),x.flush(s)},s.prepareHeartbeatRequest=function(u,f){return u instanceof O.util.ByteBuffer&&(u=u.bytes()),typeof f>"u"&&(f=u.length),s.expectedHeartbeatPayload=u,x.queue(s,x.createRecord(s,{type:x.ContentType.heartbeat,data:x.createHeartbeat(x.HeartbeatMessageType.heartbeat_request,u,f)})),x.flush(s)},s.close=function(u){if(!s.fail&&s.sessionCache&&s.session){var f={id:s.session.id,version:s.session.version,sp:s.session.sp};f.sp.keys=null,s.sessionCache.setSession(f.id,f)}s.open&&(s.open=!1,s.input.clear(),(s.isConnected||s.handshaking)&&(s.isConnected=s.handshaking=!1,x.queue(s,x.createAlert(s,{level:x.Alert.Level.warning,description:x.Alert.Description.close_notify})),x.flush(s)),s.closed(s)),s.reset(u)},s};O.tls=O.tls||{};for(var Qs in x)typeof x[Qs]!="function"&&(O.tls[Qs]=x[Qs]);O.tls.prf_tls1=ns;O.tls.hmac_sha1=z1;O.tls.createSessionCache=x.createSessionCache;O.tls.createConnection=x.createConnection;var Nr=de,Ut=Nr.tls;Ut.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(t){t.bulk_cipher_algorithm=Ut.BulkCipherAlgorithm.aes,t.cipher_type=Ut.CipherType.block,t.enc_key_length=16,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=Ut.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:wd};Ut.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(t){t.bulk_cipher_algorithm=Ut.BulkCipherAlgorithm.aes,t.cipher_type=Ut.CipherType.block,t.enc_key_length=32,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=Ut.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:wd};function wd(t,e,r){var n=e.entity===Nr.tls.ConnectionEnd.client;t.read.cipherState={init:!1,cipher:Nr.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},t.write.cipherState={init:!1,cipher:Nr.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},t.read.cipherFunction=fx,t.write.cipherFunction=lx,t.read.macLength=t.write.macLength=r.mac_length,t.read.macFunction=t.write.macFunction=Ut.hmac_sha1}function lx(t,e){var r=!1,n=e.macFunction(e.macKey,e.sequenceNumber,t);t.fragment.putBytes(n),e.updateSequenceNumber();var i;t.version.minor===Ut.Versions.TLS_1_0.minor?i=e.cipherState.init?null:e.cipherState.iv:i=Nr.random.getBytesSync(16),e.cipherState.init=!0;var a=e.cipherState.cipher;return a.start({iv:i}),t.version.minor>=Ut.Versions.TLS_1_1.minor&&a.output.putBytes(i),a.update(t.fragment),a.finish(cx)&&(t.fragment=a.output,t.length=t.fragment.length(),r=!0),r}function cx(t,e,r){if(!r){var n=t-e.length()%t;e.fillWithByte(n-1,n)}return!0}function ux(t,e,r){var n=!0;if(r){for(var i=e.length(),a=e.last(),s=i-1-a;s<i-1;++s)n=n&&e.at(s)==a;n&&e.truncate(a+1)}return n}function fx(t,e){var r=!1,n;t.version.minor===Ut.Versions.TLS_1_0.minor?n=e.cipherState.init?null:e.cipherState.iv:n=t.fragment.getBytes(16),e.cipherState.init=!0;var i=e.cipherState.cipher;i.start({iv:n}),i.update(t.fragment),r=i.finish(ux);var a=e.macLength,s=Nr.random.getBytesSync(a),o=i.output.length();o>=a?(t.fragment=i.output.getBytes(o-a),s=i.output.getBytes(a)):t.fragment=i.output.getBytes(),t.fragment=Nr.util.createBuffer(t.fragment),t.length=t.fragment.length();var l=e.macFunction(e.macKey,e.sequenceNumber,t);return e.updateSequenceNumber(),r=dx(e.macKey,s,l)&&r,r}function dx(t,e,r){var n=Nr.hmac.create();return n.start("SHA1",t),n.update(e),e=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),e===r}var Ue=de,Bi=Ue.sha512=Ue.sha512||{};Ue.md.sha512=Ue.md.algorithms.sha512=Bi;var Bd=Ue.sha384=Ue.sha512.sha384=Ue.sha512.sha384||{};Bd.create=function(){return Bi.create("SHA-384")};Ue.md.sha384=Ue.md.algorithms.sha384=Bd;Ue.sha512.sha256=Ue.sha512.sha256||{create:function(){return Bi.create("SHA-512/256")}};Ue.md["sha512/256"]=Ue.md.algorithms["sha512/256"]=Ue.sha512.sha256;Ue.sha512.sha224=Ue.sha512.sha224||{create:function(){return Bi.create("SHA-512/224")}};Ue.md["sha512/224"]=Ue.md.algorithms["sha512/224"]=Ue.sha512.sha224;Bi.create=function(t){if(Rd||hx(),typeof t>"u"&&(t="SHA-512"),!(t in Qr))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=Qr[t],r=null,n=Ue.util.createBuffer(),i=new Array(80),a=0;a<80;++a)i[a]=new Array(2);var s=64;switch(t){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var o={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return o.start=function(){o.messageLength=0,o.fullMessageLength=o.messageLength128=[];for(var l=o.messageLengthSize/4,c=0;c<l;++c)o.fullMessageLength.push(0);n=Ue.util.createBuffer(),r=new Array(e.length);for(var c=0;c<e.length;++c)r[c]=e[c].slice(0);return o},o.start(),o.update=function(l,c){c==="utf8"&&(l=Ue.util.encodeUtf8(l));var u=l.length;o.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var f=o.fullMessageLength.length-1;f>=0;--f)o.fullMessageLength[f]+=u[1],u[1]=u[0]+(o.fullMessageLength[f]/4294967296>>>0),o.fullMessageLength[f]=o.fullMessageLength[f]>>>0,u[0]=u[1]/4294967296>>>0;return n.putBytes(l),jc(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),o},o.digest=function(){var l=Ue.util.createBuffer();l.putBytes(n.bytes());var c=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize,u=c&o.blockLength-1;l.putBytes(wo.substr(0,o.blockLength-u));for(var f,d,p=o.fullMessageLength[0]*8,h=0;h<o.fullMessageLength.length-1;++h)f=o.fullMessageLength[h+1]*8,d=f/4294967296>>>0,p+=d,l.putInt32(p>>>0),p=f>>>0;l.putInt32(p);for(var g=new Array(r.length),h=0;h<r.length;++h)g[h]=r[h].slice(0);jc(g,i,l);var y=Ue.util.createBuffer(),b;t==="SHA-512"?b=g.length:t==="SHA-384"?b=g.length-2:b=g.length-4;for(var h=0;h<b;++h)y.putInt32(g[h][0]),(h!==b-1||t!=="SHA-512/224")&&y.putInt32(g[h][1]);return y},o};var wo=null,Rd=!1,Bo=null,Qr=null;function hx(){wo="",wo+=Ue.util.fillString("\0",128),Bo=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Qr={},Qr["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Qr["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Qr["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Qr["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Rd=!0}function jc(t,e,r){for(var n,i,a,s,o,l,c,u,f,d,p,h,g,y,b,S,E,B,I,T,N,D,F,H,j,J,X,q,ee,ie,W,K,te,Q,oe,le=r.length();le>=128;){for(ee=0;ee<16;++ee)e[ee][0]=r.getInt32()>>>0,e[ee][1]=r.getInt32()>>>0;for(;ee<80;++ee)K=e[ee-2],ie=K[0],W=K[1],n=((ie>>>19|W<<13)^(W>>>29|ie<<3)^ie>>>6)>>>0,i=((ie<<13|W>>>19)^(W<<3|ie>>>29)^(ie<<26|W>>>6))>>>0,Q=e[ee-15],ie=Q[0],W=Q[1],a=((ie>>>1|W<<31)^(ie>>>8|W<<24)^ie>>>7)>>>0,s=((ie<<31|W>>>1)^(ie<<24|W>>>8)^(ie<<25|W>>>7))>>>0,te=e[ee-7],oe=e[ee-16],W=i+te[1]+s+oe[1],e[ee][0]=n+te[0]+a+oe[0]+(W/4294967296>>>0)>>>0,e[ee][1]=W>>>0;for(g=t[0][0],y=t[0][1],b=t[1][0],S=t[1][1],E=t[2][0],B=t[2][1],I=t[3][0],T=t[3][1],N=t[4][0],D=t[4][1],F=t[5][0],H=t[5][1],j=t[6][0],J=t[6][1],X=t[7][0],q=t[7][1],ee=0;ee<80;++ee)c=((N>>>14|D<<18)^(N>>>18|D<<14)^(D>>>9|N<<23))>>>0,u=((N<<18|D>>>14)^(N<<14|D>>>18)^(D<<23|N>>>9))>>>0,f=(j^N&(F^j))>>>0,d=(J^D&(H^J))>>>0,o=((g>>>28|y<<4)^(y>>>2|g<<30)^(y>>>7|g<<25))>>>0,l=((g<<4|y>>>28)^(y<<30|g>>>2)^(y<<25|g>>>7))>>>0,p=(g&b|E&(g^b))>>>0,h=(y&S|B&(y^S))>>>0,W=q+u+d+Bo[ee][1]+e[ee][1],n=X+c+f+Bo[ee][0]+e[ee][0]+(W/4294967296>>>0)>>>0,i=W>>>0,W=l+h,a=o+p+(W/4294967296>>>0)>>>0,s=W>>>0,X=j,q=J,j=F,J=H,F=N,H=D,W=T+i,N=I+n+(W/4294967296>>>0)>>>0,D=W>>>0,I=E,T=B,E=b,B=S,b=g,S=y,W=i+s,g=n+a+(W/4294967296>>>0)>>>0,y=W>>>0;W=t[0][1]+y,t[0][0]=t[0][0]+g+(W/4294967296>>>0)>>>0,t[0][1]=W>>>0,W=t[1][1]+S,t[1][0]=t[1][0]+b+(W/4294967296>>>0)>>>0,t[1][1]=W>>>0,W=t[2][1]+B,t[2][0]=t[2][0]+E+(W/4294967296>>>0)>>>0,t[2][1]=W>>>0,W=t[3][1]+T,t[3][0]=t[3][0]+I+(W/4294967296>>>0)>>>0,t[3][1]=W>>>0,W=t[4][1]+D,t[4][0]=t[4][0]+N+(W/4294967296>>>0)>>>0,t[4][1]=W>>>0,W=t[5][1]+H,t[5][0]=t[5][0]+F+(W/4294967296>>>0)>>>0,t[5][1]=W>>>0,W=t[6][1]+J,t[6][0]=t[6][0]+j+(W/4294967296>>>0)>>>0,t[6][1]=W>>>0,W=t[7][1]+q,t[7][0]=t[7][0]+X+(W/4294967296>>>0)>>>0,t[7][1]=W>>>0,le-=128}}var yl={},px=de,lt=px.asn1;yl.privateKeyValidator={name:"PrivateKeyInfo",tagClass:lt.Class.UNIVERSAL,type:lt.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:lt.Class.UNIVERSAL,type:lt.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:lt.Class.UNIVERSAL,type:lt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:lt.Class.UNIVERSAL,type:lt.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:lt.Class.UNIVERSAL,type:lt.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};yl.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:lt.Class.UNIVERSAL,type:lt.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:lt.Class.UNIVERSAL,type:lt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:lt.Class.UNIVERSAL,type:lt.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:lt.Class.UNIVERSAL,type:lt.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]};var pt=de,kd=yl,gx=kd.publicKeyValidator,yx=kd.privateKeyValidator;if(typeof mx>"u")var mx=pt.jsbn.BigInteger;var Ro=pt.util.ByteBuffer,Tt=typeof Buffer>"u"?Uint8Array:Buffer;pt.pki=pt.pki||{};pt.pki.ed25519=pt.ed25519=pt.ed25519||{};var ge=pt.ed25519;ge.constants={};ge.constants.PUBLIC_KEY_BYTE_LENGTH=32;ge.constants.PRIVATE_KEY_BYTE_LENGTH=64;ge.constants.SEED_BYTE_LENGTH=32;ge.constants.SIGN_BYTE_LENGTH=64;ge.constants.HASH_BYTE_LENGTH=64;ge.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=pt.random.getBytesSync(ge.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==ge.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+ge.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=mr({message:e,encoding:"binary"});for(var r=new Tt(ge.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Tt(ge.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=e[i];return Cx(r,n),{publicKey:r,privateKey:n}};ge.privateKeyFromAsn1=function(t){var e={},r=[],n=pt.asn1.validate(t,yx,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=pt.asn1.derToOid(e.privateKeyOid),s=pt.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var o=e.privateKey,l=mr({message:pt.asn1.fromDer(o).value,encoding:"binary"});return{privateKeyBytes:l}};ge.publicKeyFromAsn1=function(t){var e={},r=[],n=pt.asn1.validate(t,gx,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=pt.asn1.derToOid(e.publicKeyOid),s=pt.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var o=e.ed25519PublicKey;if(o.length!==ge.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return mr({message:o,encoding:"binary"})};ge.publicKeyFromPrivateKey=function(t){t=t||{};var e=mr({message:t.privateKey,encoding:"binary"});if(e.length!==ge.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ge.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Tt(ge.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=e[32+n];return r};ge.sign=function(t){t=t||{};var e=mr(t),r=mr({message:t.privateKey,encoding:"binary"});if(r.length===ge.constants.SEED_BYTE_LENGTH){var n=ge.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==ge.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ge.constants.SEED_BYTE_LENGTH+" or "+ge.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new Tt(ge.constants.SIGN_BYTE_LENGTH+e.length);Sx(i,e,e.length,r);for(var a=new Tt(ge.constants.SIGN_BYTE_LENGTH),s=0;s<a.length;++s)a[s]=i[s];return a};ge.verify=function(t){t=t||{};var e=mr(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=mr({message:t.signature,encoding:"binary"});if(r.length!==ge.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+ge.constants.SIGN_BYTE_LENGTH);var n=mr({message:t.publicKey,encoding:"binary"});if(n.length!==ge.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+ge.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new Tt(ge.constants.SIGN_BYTE_LENGTH+e.length),a=new Tt(ge.constants.SIGN_BYTE_LENGTH+e.length),s;for(s=0;s<ge.constants.SIGN_BYTE_LENGTH;++s)i[s]=r[s];for(s=0;s<e.length;++s)i[s+ge.constants.SIGN_BYTE_LENGTH]=e[s];return Ex(a,i,i.length,n)>=0};function mr(t){var e=t.message;if(e instanceof Uint8Array||e instanceof Tt)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.from(e,r);e=new Ro(e,r)}else if(!(e instanceof Ro))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Tt(e.length()),i=0;i<n.length;++i)n[i]=e.at(i);return n}var ko=se(),wa=se([1]),vx=se([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),xx=se([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),qc=se([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Yc=se([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Xs=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),bx=se([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ui(t,e){var r=pt.md.sha512.create(),n=new Ro(t);r.update(n.getBytes(e),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var a=new Tt(ge.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)a[s]=i.charCodeAt(s);return a}function Cx(t,e){var r=[se(),se(),se(),se()],n,i=ui(e,32);for(i[0]&=248,i[31]&=127,i[31]|=64,vl(r,i),ml(t,r),n=0;n<32;++n)e[n+32]=t[n];return 0}function Sx(t,e,r,n){var i,a,s=new Float64Array(64),o=[se(),se(),se(),se()],l=ui(n,32);l[0]&=248,l[31]&=127,l[31]|=64;var c=r+64;for(i=0;i<r;++i)t[64+i]=e[i];for(i=0;i<32;++i)t[32+i]=l[32+i];var u=ui(t.subarray(32),r+32);for(No(u),vl(o,u),ml(t,o),i=32;i<64;++i)t[i]=n[i];var f=ui(t,r+64);for(No(f),i=32;i<64;++i)s[i]=0;for(i=0;i<32;++i)s[i]=u[i];for(i=0;i<32;++i)for(a=0;a<32;a++)s[i+a]+=f[i]*l[a];return Nd(t.subarray(32),s),c}function Ex(t,e,r,n){var i,a,s=new Tt(32),o=[se(),se(),se(),se()],l=[se(),se(),se(),se()];if(a=-1,r<64||_x(l,n))return-1;for(i=0;i<r;++i)t[i]=e[i];for(i=0;i<32;++i)t[i+32]=n[i];var c=ui(t,r);if(No(c),Pd(o,l,c),vl(l,e.subarray(32)),Lo(o,l),ml(s,o),r-=64,Ld(e,0,s,0)){for(i=0;i<r;++i)t[i]=0;return-1}for(i=0;i<r;++i)t[i]=e[i+64];return a=r,a}function Nd(t,e){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)e[i]+=r-16*e[n]*Xs[i-(n-32)],r=e[i]+128>>8,e[i]-=r*256;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;++i)e[i]+=r-(e[31]>>4)*Xs[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;++i)e[i]-=r*Xs[i];for(n=0;n<32;++n)e[n+1]+=e[n]>>8,t[n]=e[n]&255}function No(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;Nd(t,e)}function Lo(t,e){var r=se(),n=se(),i=se(),a=se(),s=se(),o=se(),l=se(),c=se(),u=se();bn(r,t[1],t[0]),bn(u,e[1],e[0]),Re(r,r,u),vn(n,t[0],t[1]),vn(u,e[0],e[1]),Re(n,n,u),Re(i,t[3],e[3]),Re(i,i,xx),Re(a,t[2],e[2]),vn(a,a,a),bn(s,n,r),bn(o,a,i),vn(l,a,i),vn(c,n,r),Re(t[0],s,o),Re(t[1],c,l),Re(t[2],l,o),Re(t[3],s,c)}function Qc(t,e,r){for(var n=0;n<4;++n)Od(t[n],e[n],r)}function ml(t,e){var r=se(),n=se(),i=se();wx(i,e[2]),Re(r,e[0],i),Re(n,e[1],i),Ba(t,n),t[31]^=Dd(r)<<7}function Ba(t,e){var r,n,i,a=se(),s=se();for(r=0;r<16;++r)s[r]=e[r];for(Zs(s),Zs(s),Zs(s),n=0;n<2;++n){for(a[0]=s[0]-65517,r=1;r<15;++r)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,Od(s,a,1-i)}for(r=0;r<16;r++)t[2*r]=s[r]&255,t[2*r+1]=s[r]>>8}function _x(t,e){var r=se(),n=se(),i=se(),a=se(),s=se(),o=se(),l=se();return Br(t[2],wa),Tx(t[1],e),Xr(i,t[1]),Re(a,i,vx),bn(i,i,t[2]),vn(a,t[2],a),Xr(s,a),Xr(o,s),Re(l,o,s),Re(r,l,i),Re(r,r,a),Ax(r,r),Re(r,r,i),Re(r,r,a),Re(r,r,a),Re(t[0],r,a),Xr(n,t[0]),Re(n,n,a),Xc(n,i)&&Re(t[0],t[0],bx),Xr(n,t[0]),Re(n,n,a),Xc(n,i)?-1:(Dd(t[0])===e[31]>>7&&bn(t[0],ko,t[0]),Re(t[3],t[0],t[1]),0)}function Tx(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function Ax(t,e){var r=se(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=250;n>=0;--n)Xr(r,r),n!==1&&Re(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}function Xc(t,e){var r=new Tt(32),n=new Tt(32);return Ba(r,t),Ba(n,e),Ld(r,0,n,0)}function Ld(t,e,r,n){return Ix(t,e,r,n,32)}function Ix(t,e,r,n,i){var a,s=0;for(a=0;a<i;++a)s|=t[e+a]^r[n+a];return(1&s-1>>>8)-1}function Dd(t){var e=new Tt(32);return Ba(e,t),e[0]&1}function Pd(t,e,r){var n,i;for(Br(t[0],ko),Br(t[1],wa),Br(t[2],wa),Br(t[3],ko),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,Qc(t,e,n),Lo(e,t),Lo(t,t),Qc(t,e,n)}function vl(t,e){var r=[se(),se(),se(),se()];Br(r[0],qc),Br(r[1],Yc),Br(r[2],wa),Re(r[3],qc,Yc),Pd(t,r,e)}function Br(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}function wx(t,e){var r=se(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=253;n>=0;--n)Xr(r,r),n!==2&&n!==4&&Re(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}function Zs(t){var e,r,n=1;for(e=0;e<16;++e)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-n*65536;t[0]+=n-1+37*(n-1)}function Od(t,e,r){for(var n,i=~(r-1),a=0;a<16;++a)n=i&(t[a]^e[a]),t[a]^=n,e[a]^=n}function se(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}function vn(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]+r[n]}function bn(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]-r[n]}function Xr(t,e){Re(t,e,e)}function Re(t,e,r){var n,i,a=0,s=0,o=0,l=0,c=0,u=0,f=0,d=0,p=0,h=0,g=0,y=0,b=0,S=0,E=0,B=0,I=0,T=0,N=0,D=0,F=0,H=0,j=0,J=0,X=0,q=0,ee=0,ie=0,W=0,K=0,te=0,Q=r[0],oe=r[1],le=r[2],Be=r[3],Te=r[4],ae=r[5],_e=r[6],Ke=r[7],Ne=r[8],Xe=r[9],Ze=r[10],Je=r[11],Ye=r[12],et=r[13],tt=r[14],it=r[15];n=e[0],a+=n*Q,s+=n*oe,o+=n*le,l+=n*Be,c+=n*Te,u+=n*ae,f+=n*_e,d+=n*Ke,p+=n*Ne,h+=n*Xe,g+=n*Ze,y+=n*Je,b+=n*Ye,S+=n*et,E+=n*tt,B+=n*it,n=e[1],s+=n*Q,o+=n*oe,l+=n*le,c+=n*Be,u+=n*Te,f+=n*ae,d+=n*_e,p+=n*Ke,h+=n*Ne,g+=n*Xe,y+=n*Ze,b+=n*Je,S+=n*Ye,E+=n*et,B+=n*tt,I+=n*it,n=e[2],o+=n*Q,l+=n*oe,c+=n*le,u+=n*Be,f+=n*Te,d+=n*ae,p+=n*_e,h+=n*Ke,g+=n*Ne,y+=n*Xe,b+=n*Ze,S+=n*Je,E+=n*Ye,B+=n*et,I+=n*tt,T+=n*it,n=e[3],l+=n*Q,c+=n*oe,u+=n*le,f+=n*Be,d+=n*Te,p+=n*ae,h+=n*_e,g+=n*Ke,y+=n*Ne,b+=n*Xe,S+=n*Ze,E+=n*Je,B+=n*Ye,I+=n*et,T+=n*tt,N+=n*it,n=e[4],c+=n*Q,u+=n*oe,f+=n*le,d+=n*Be,p+=n*Te,h+=n*ae,g+=n*_e,y+=n*Ke,b+=n*Ne,S+=n*Xe,E+=n*Ze,B+=n*Je,I+=n*Ye,T+=n*et,N+=n*tt,D+=n*it,n=e[5],u+=n*Q,f+=n*oe,d+=n*le,p+=n*Be,h+=n*Te,g+=n*ae,y+=n*_e,b+=n*Ke,S+=n*Ne,E+=n*Xe,B+=n*Ze,I+=n*Je,T+=n*Ye,N+=n*et,D+=n*tt,F+=n*it,n=e[6],f+=n*Q,d+=n*oe,p+=n*le,h+=n*Be,g+=n*Te,y+=n*ae,b+=n*_e,S+=n*Ke,E+=n*Ne,B+=n*Xe,I+=n*Ze,T+=n*Je,N+=n*Ye,D+=n*et,F+=n*tt,H+=n*it,n=e[7],d+=n*Q,p+=n*oe,h+=n*le,g+=n*Be,y+=n*Te,b+=n*ae,S+=n*_e,E+=n*Ke,B+=n*Ne,I+=n*Xe,T+=n*Ze,N+=n*Je,D+=n*Ye,F+=n*et,H+=n*tt,j+=n*it,n=e[8],p+=n*Q,h+=n*oe,g+=n*le,y+=n*Be,b+=n*Te,S+=n*ae,E+=n*_e,B+=n*Ke,I+=n*Ne,T+=n*Xe,N+=n*Ze,D+=n*Je,F+=n*Ye,H+=n*et,j+=n*tt,J+=n*it,n=e[9],h+=n*Q,g+=n*oe,y+=n*le,b+=n*Be,S+=n*Te,E+=n*ae,B+=n*_e,I+=n*Ke,T+=n*Ne,N+=n*Xe,D+=n*Ze,F+=n*Je,H+=n*Ye,j+=n*et,J+=n*tt,X+=n*it,n=e[10],g+=n*Q,y+=n*oe,b+=n*le,S+=n*Be,E+=n*Te,B+=n*ae,I+=n*_e,T+=n*Ke,N+=n*Ne,D+=n*Xe,F+=n*Ze,H+=n*Je,j+=n*Ye,J+=n*et,X+=n*tt,q+=n*it,n=e[11],y+=n*Q,b+=n*oe,S+=n*le,E+=n*Be,B+=n*Te,I+=n*ae,T+=n*_e,N+=n*Ke,D+=n*Ne,F+=n*Xe,H+=n*Ze,j+=n*Je,J+=n*Ye,X+=n*et,q+=n*tt,ee+=n*it,n=e[12],b+=n*Q,S+=n*oe,E+=n*le,B+=n*Be,I+=n*Te,T+=n*ae,N+=n*_e,D+=n*Ke,F+=n*Ne,H+=n*Xe,j+=n*Ze,J+=n*Je,X+=n*Ye,q+=n*et,ee+=n*tt,ie+=n*it,n=e[13],S+=n*Q,E+=n*oe,B+=n*le,I+=n*Be,T+=n*Te,N+=n*ae,D+=n*_e,F+=n*Ke,H+=n*Ne,j+=n*Xe,J+=n*Ze,X+=n*Je,q+=n*Ye,ee+=n*et,ie+=n*tt,W+=n*it,n=e[14],E+=n*Q,B+=n*oe,I+=n*le,T+=n*Be,N+=n*Te,D+=n*ae,F+=n*_e,H+=n*Ke,j+=n*Ne,J+=n*Xe,X+=n*Ze,q+=n*Je,ee+=n*Ye,ie+=n*et,W+=n*tt,K+=n*it,n=e[15],B+=n*Q,I+=n*oe,T+=n*le,N+=n*Be,D+=n*Te,F+=n*ae,H+=n*_e,j+=n*Ke,J+=n*Ne,X+=n*Xe,q+=n*Ze,ee+=n*Je,ie+=n*Ye,W+=n*et,K+=n*tt,te+=n*it,a+=38*I,s+=38*T,o+=38*N,l+=38*D,c+=38*F,u+=38*H,f+=38*j,d+=38*J,p+=38*X,h+=38*q,g+=38*ee,y+=38*ie,b+=38*W,S+=38*K,E+=38*te,i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,a+=i-1+37*(i-1),i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,a+=i-1+37*(i-1),t[0]=a,t[1]=s,t[2]=o,t[3]=l,t[4]=c,t[5]=u,t[6]=f,t[7]=d,t[8]=p,t[9]=h,t[10]=g,t[11]=y,t[12]=b,t[13]=S,t[14]=E,t[15]=B}var wt=de;wt.kem=wt.kem||{};var Zc=wt.jsbn.BigInteger;wt.kem.rsa={};wt.kem.rsa.create=function(t,e){e=e||{};var r=e.prng||wt.random,n={};return n.encrypt=function(i,a){var s=Math.ceil(i.n.bitLength()/8),o;do o=new Zc(wt.util.bytesToHex(r.getBytesSync(s)),16).mod(i.n);while(o.compareTo(Zc.ONE)<=0);o=wt.util.hexToBytes(o.toString(16));var l=s-o.length;l>0&&(o=wt.util.fillString("\0",l)+o);var c=i.encrypt(o,"NONE"),u=t.generate(o,a);return{encapsulation:c,key:u}},n.decrypt=function(i,a,s){var o=i.decrypt(a,"NONE");return t.generate(o,s)},n};wt.kem.kdf1=function(t,e){Md(this,t,0,e||t.digestLength)};wt.kem.kdf2=function(t,e){Md(this,t,1,e||t.digestLength)};function Md(t,e,r,n){t.generate=function(i,a){for(var s=new wt.util.ByteBuffer,o=Math.ceil(a/n)+r,l=new wt.util.ByteBuffer,c=r;c<o;++c){l.putInt32(c),e.start(),e.update(i+l.getBytes());var u=e.digest();s.putBytes(u.getBytes(n))}return s.truncate(s.length()-a),s.getBytes()}}var ve=de;ve.log=ve.log||{};ve.log.levels=["none","error","warning","info","debug","verbose","max"];var Ra={},Do=[],fi=null;ve.log.LEVEL_LOCKED=2;ve.log.NO_LEVEL_CHECK=4;ve.log.INTERPOLATE=8;for(var Rr=0;Rr<ve.log.levels.length;++Rr){var Jc=ve.log.levels[Rr];Ra[Jc]={index:Rr,name:Jc.toUpperCase()}}ve.log.logMessage=function(t){for(var e=Ra[t.level].index,r=0;r<Do.length;++r){var n=Do[r];if(n.flags&ve.log.NO_LEVEL_CHECK)n.f(t);else{var i=Ra[n.level].index;e<=i&&n.f(n,t)}}};ve.log.prepareStandard=function(t){"standard"in t||(t.standard=Ra[t.level].name+" ["+t.category+"] "+t.message)};ve.log.prepareFull=function(t){if(!("full"in t)){var e=[t.message];e=e.concat([]),t.full=ve.util.format.apply(this,e)}};ve.log.prepareStandardFull=function(t){"standardFull"in t||(ve.log.prepareStandard(t),t.standardFull=t.standard)};for(var eu=["error","warning","info","debug","verbose"],Rr=0;Rr<eu.length;++Rr)(function(e){ve.log[e]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:e,category:r,message:n,arguments:i};ve.log.logMessage(a)}})(eu[Rr]);ve.log.makeLogger=function(t){var e={flags:0,f:t};return ve.log.setLevel(e,"none"),e};ve.log.setLevel=function(t,e){var r=!1;if(t&&!(t.flags&ve.log.LEVEL_LOCKED))for(var n=0;n<ve.log.levels.length;++n){var i=ve.log.levels[n];if(e==i){t.level=e,r=!0;break}}return r};ve.log.lock=function(t,e){typeof e>"u"||e?t.flags|=ve.log.LEVEL_LOCKED:t.flags&=~ve.log.LEVEL_LOCKED};ve.log.addLogger=function(t){Do.push(t)};if(typeof console<"u"&&"log"in console){var $n;if(console.error&&console.warn&&console.info&&console.debug){var Bx={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},xl=function(t,e){ve.log.prepareStandard(e);var r=Bx[e.level],n=[e.standard];n=n.concat(e.arguments.slice()),r.apply(console,n)};$n=ve.log.makeLogger(xl)}else{var xl=function(e,r){ve.log.prepareStandardFull(r),console.log(r.standardFull)};$n=ve.log.makeLogger(xl)}ve.log.setLevel($n,"debug"),ve.log.addLogger($n),fi=$n}else console={log:function(){}};if(fi!==null&&typeof window<"u"&&window.location){var Qi=new URL(window.location.href).searchParams;if(Qi.has("console.level")&&ve.log.setLevel(fi,Qi.get("console.level").slice(-1)[0]),Qi.has("console.lock")){var Rx=Qi.get("console.lock").slice(-1)[0];Rx=="true"&&ve.log.lock(fi)}}ve.log.consoleLogger=fi;var z=de,A=z.asn1,bt=z.pkcs7=z.pkcs7||{};bt.messageFromPem=function(t){var e=z.pem.decode(t)[0];if(e.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=A.fromDer(e.body);return bt.messageFromAsn1(n)};bt.messageToPem=function(t,e){var r={type:"PKCS7",body:A.toDer(t.toAsn1()).getBytes()};return z.pem.encode(r,{maxline:e})};bt.messageFromAsn1=function(t){var e={},r=[];if(!A.validate(t,bt.asn1.contentInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=A.derToOid(e.contentType),a;switch(i){case z.pki.oids.envelopedData:a=bt.createEnvelopedData();break;case z.pki.oids.encryptedData:a=bt.createEncryptedData();break;case z.pki.oids.signedData:a=bt.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return a.fromAsn1(e.content.value[0]),a};bt.createSignedData=function(){var t=null;return t={type:z.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(bl(t,n,bt.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[],t.rawCapture.certificates)for(var i=t.rawCapture.certificates.value,a=0;a<i.length;++a)t.certificates.push(z.pki.certificateFromAsn1(i[a]))},toAsn1:function(){t.contentInfo||t.sign();for(var n=[],i=0;i<t.certificates.length;++i)n.push(z.pki.certificateToAsn1(t.certificates[i]));var a=[],s=A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(t.version).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return n.length>0&&s.value[0].value.push(A.create(A.Class.CONTEXT_SPECIFIC,0,!0,n)),a.length>0&&s.value[0].value.push(A.create(A.Class.CONTEXT_SPECIFIC,1,!0,a)),s.value[0].value.push(A.create(A.Class.UNIVERSAL,A.Type.SET,!0,t.signerInfos)),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(t.type).getBytes()),s])},addSigner:function(n){var i=n.issuer,a=n.serialNumber;if(n.certificate){var s=n.certificate;typeof s=="string"&&(s=z.pki.certificateFromPem(s)),i=s.issuer.attributes,a=s.serialNumber}var o=n.key;if(!o)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof o=="string"&&(o=z.pki.privateKeyFromPem(o));var l=n.digestAlgorithm||z.pki.oids.sha1;switch(l){case z.pki.oids.sha1:case z.pki.oids.sha256:case z.pki.oids.sha384:case z.pki.oids.sha512:case z.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+l)}var c=n.authenticatedAttributes||[];if(c.length>0){for(var u=!1,f=!1,d=0;d<c.length;++d){var p=c[d];if(!u&&p.type===z.pki.oids.contentType){if(u=!0,f)break;continue}if(!f&&p.type===z.pki.oids.messageDigest){if(f=!0,u)break;continue}}if(!u||!f)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}t.signers.push({key:o,version:1,issuer:i,serialNumber:a,digestAlgorithm:l,signatureAlgorithm:z.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof t.content!="object"||t.contentInfo===null)&&(t.contentInfo=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(z.pki.oids.data).getBytes())]),"content"in t)){var i;t.content instanceof z.util.ByteBuffer?i=t.content.bytes():typeof t.content=="string"&&(i=z.util.encodeUtf8(t.content)),n.detached?t.detachedContent=A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,i):t.contentInfo.value.push(A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,i)]))}if(t.signers.length!==0){var a=e();r(a)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=z.pki.certificateFromPem(n)),t.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},t;function e(){for(var n={},i=0;i<t.signers.length;++i){var a=t.signers[i],s=a.digestAlgorithm;s in n||(n[s]=z.md[z.pki.oids[s]].create()),a.authenticatedAttributes.length===0?a.md=n[s]:a.md=z.md[z.pki.oids[s]].create()}t.digestAlgorithmIdentifiers=[];for(var s in n)t.digestAlgorithmIdentifiers.push(A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(s).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")]));return n}function r(n){var i;if(t.detachedContent?i=t.detachedContent:(i=t.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var a=A.derToOid(t.contentInfo.value[0].value),s=A.toDer(i);s.getByte(),A.getBerValueLength(s),s=s.getBytes();for(var o in n)n[o].start().update(s);for(var l=new Date,c=0;c<t.signers.length;++c){var u=t.signers[c];if(u.authenticatedAttributes.length===0){if(a!==z.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{u.authenticatedAttributesAsn1=A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var f=A.create(A.Class.UNIVERSAL,A.Type.SET,!0,[]),d=0;d<u.authenticatedAttributes.length;++d){var p=u.authenticatedAttributes[d];p.type===z.pki.oids.messageDigest?p.value=n[u.digestAlgorithm].digest():p.type===z.pki.oids.signingTime&&(p.value||(p.value=l)),f.value.push(Po(p)),u.authenticatedAttributesAsn1.value.push(Po(p))}s=A.toDer(f).getBytes(),u.md.start().update(s)}u.signature=u.key.sign(u.md,"RSASSA-PKCS1-V1_5")}t.signerInfos=Ox(t.signers)}};bt.createEncryptedData=function(){var t=null;return t={type:z.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:z.pki.oids["aes256-CBC"]},fromAsn1:function(e){bl(t,e,bt.asn1.encryptedDataValidator)},decrypt:function(e){e!==void 0&&(t.encryptedContent.key=e),Ud(t)}},t};bt.createEnvelopedData=function(){var t=null;return t={type:z.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:z.pki.oids["aes256-CBC"]},fromAsn1:function(e){var r=bl(t,e,bt.asn1.envelopedDataValidator);t.recipients=Lx(r.recipientInfos.value)},toAsn1:function(){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(t.type).getBytes()),A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(t.version).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SET,!0,Dx(t.recipients)),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,Mx(t.encryptedContent))])])])},findRecipient:function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var i=t.recipients[n],a=i.issuer;if(i.serialNumber===e.serialNumber&&a.length===r.length){for(var s=!0,o=0;o<r.length;++o)if(a[o].type!==r[o].type||a[o].value!==r[o].value){s=!1;break}if(s)return i}}return null},decrypt:function(e,r){if(t.encryptedContent.key===void 0&&e!==void 0&&r!==void 0)switch(e.encryptedContent.algorithm){case z.pki.oids.rsaEncryption:case z.pki.oids.desCBC:var n=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=z.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}Ud(t)},addRecipient:function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:z.pki.oids.rsaEncryption,key:e.publicKey}})},encrypt:function(e,r){if(t.encryptedContent.content===void 0){r=r||t.encryptedContent.algorithm,e=e||t.encryptedContent.key;var n,i,a;switch(r){case z.pki.oids["aes128-CBC"]:n=16,i=16,a=z.aes.createEncryptionCipher;break;case z.pki.oids["aes192-CBC"]:n=24,i=16,a=z.aes.createEncryptionCipher;break;case z.pki.oids["aes256-CBC"]:n=32,i=16,a=z.aes.createEncryptionCipher;break;case z.pki.oids["des-EDE3-CBC"]:n=24,i=8,a=z.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(e===void 0)e=z.util.createBuffer(z.random.getBytes(n));else if(e.length()!=n)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+n+".");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=z.util.createBuffer(z.random.getBytes(i));var s=a(e);if(s.start(t.encryptedContent.parameter.copy()),s.update(t.content),!s.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=s.output}for(var o=0;o<t.recipients.length;++o){var l=t.recipients[o];if(l.encryptedContent.content===void 0)switch(l.encryptedContent.algorithm){case z.pki.oids.rsaEncryption:l.encryptedContent.content=l.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+l.encryptedContent.algorithm)}}}},t};function kx(t){var e={},r=[];if(!A.validate(t,bt.asn1.recipientInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:e.version.charCodeAt(0),issuer:z.pki.RDNAttributesAsArray(e.issuer),serialNumber:z.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:A.derToOid(e.encAlgorithm),parameter:e.encParameter?e.encParameter.value:void 0,content:e.encKey}}}function Nx(t){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(t.version).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[z.pki.distinguishedNameToAsn1({attributes:t.issuer}),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,z.util.hexToBytes(t.serialNumber))]),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(t.encryptedContent.algorithm).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")]),A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,t.encryptedContent.content)])}function Lx(t){for(var e=[],r=0;r<t.length;++r)e.push(kx(t[r]));return e}function Dx(t){for(var e=[],r=0;r<t.length;++r)e.push(Nx(t[r]));return e}function Px(t){var e=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(t.version).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[z.pki.distinguishedNameToAsn1({attributes:t.issuer}),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,z.util.hexToBytes(t.serialNumber))]),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(t.digestAlgorithm).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&e.value.push(t.authenticatedAttributesAsn1),e.value.push(A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(t.signatureAlgorithm).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")])),e.value.push(A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var r=A.create(A.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<t.unauthenticatedAttributes.length;++n){var i=t.unauthenticatedAttributes[n];r.values.push(Po(i))}e.value.push(r)}return e}function Ox(t){for(var e=[],r=0;r<t.length;++r)e.push(Px(t[r]));return e}function Po(t){var e;if(t.type===z.pki.oids.contentType)e=A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(t.value).getBytes());else if(t.type===z.pki.oids.messageDigest)e=A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===z.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=t.value;if(typeof i=="string"){var a=Date.parse(i);isNaN(a)?i.length===13?i=A.utcTimeToDate(i):i=A.generalizedTimeToDate(i):i=new Date(a)}i>=r&&i<n?e=A.create(A.Class.UNIVERSAL,A.Type.UTCTIME,!1,A.dateToUtcTime(i)):e=A.create(A.Class.UNIVERSAL,A.Type.GENERALIZEDTIME,!1,A.dateToGeneralizedTime(i))}return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(t.type).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SET,!0,[e])])}function Mx(t){return[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(z.pki.oids.data).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(t.algorithm).getBytes()),t.parameter?A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,t.parameter.getBytes()):void 0]),A.create(A.Class.CONTEXT_SPECIFIC,0,!0,[A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,t.content.getBytes())])]}function bl(t,e,r){var n={},i=[];if(!A.validate(e,r,n,i)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}var s=A.derToOid(n.contentType);if(s!==z.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var o="";if(z.util.isArray(n.encryptedContent))for(var l=0;l<n.encryptedContent.length;++l){if(n.encryptedContent[l].type!==A.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");o+=n.encryptedContent[l].value}else o=n.encryptedContent;t.encryptedContent={algorithm:A.derToOid(n.encAlgorithm),parameter:z.util.createBuffer(n.encParameter.value),content:z.util.createBuffer(o)}}if(n.content){var o="";if(z.util.isArray(n.content))for(var l=0;l<n.content.length;++l){if(n.content[l].type!==A.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");o+=n.content[l].value}else o=n.content;t.content=z.util.createBuffer(o)}return t.version=n.version.charCodeAt(0),t.rawCapture=n,n}function Ud(t){if(t.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(t.content===void 0){var e;switch(t.encryptedContent.algorithm){case z.pki.oids["aes128-CBC"]:case z.pki.oids["aes192-CBC"]:case z.pki.oids["aes256-CBC"]:e=z.aes.createDecryptionCipher(t.encryptedContent.key);break;case z.pki.oids.desCBC:case z.pki.oids["des-EDE3-CBC"]:e=z.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");t.content=e.output}}var Qe=de,is=Qe.ssh=Qe.ssh||{};is.privateKeyToPutty=function(t,e,r){r=r||"",e=e||"";var n="ssh-rsa",i=e===""?"none":"aes256-cbc",a="PuTTY-User-Key-File-2: "+n+`\r
`;a+="Encryption: "+i+`\r
`,a+="Comment: "+r+`\r
`;var s=Qe.util.createBuffer();Cn(s,n),er(s,t.e),er(s,t.n);var o=Qe.util.encode64(s.bytes(),64),l=Math.floor(o.length/66)+1;a+="Public-Lines: "+l+`\r
`,a+=o;var c=Qe.util.createBuffer();er(c,t.d),er(c,t.p),er(c,t.q),er(c,t.qInv);var u;if(!e)u=Qe.util.encode64(c.bytes(),64);else{var f=c.length()+16-1;f-=f%16;var d=Xi(c.bytes());d.truncate(d.length()-f+c.length()),c.putBuffer(d);var p=Qe.util.createBuffer();p.putBuffer(Xi("\0\0\0\0",e)),p.putBuffer(Xi("\0\0\0",e));var h=Qe.aes.createEncryptionCipher(p.truncate(8),"CBC");h.start(Qe.util.createBuffer().fillWithByte(0,16)),h.update(c.copy()),h.finish();var g=h.output;g.truncate(16),u=Qe.util.encode64(g.bytes(),64)}l=Math.floor(u.length/66)+1,a+=`\r
Private-Lines: `+l+`\r
`,a+=u;var y=Xi("putty-private-key-file-mac-key",e),b=Qe.util.createBuffer();Cn(b,n),Cn(b,i),Cn(b,r),b.putInt32(s.length()),b.putBuffer(s),b.putInt32(c.length()),b.putBuffer(c);var S=Qe.hmac.create();return S.start("sha1",y),S.update(b.bytes()),a+=`\r
Private-MAC: `+S.digest().toHex()+`\r
`,a};is.publicKeyToOpenSSH=function(t,e){var r="ssh-rsa";e=e||"";var n=Qe.util.createBuffer();return Cn(n,r),er(n,t.e),er(n,t.n),r+" "+Qe.util.encode64(n.bytes())+" "+e};is.privateKeyToOpenSSH=function(t,e){return e?Qe.pki.encryptRsaPrivateKey(t,e,{legacy:!0,algorithm:"aes128"}):Qe.pki.privateKeyToPem(t)};is.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||Qe.md.md5.create(),n="ssh-rsa",i=Qe.util.createBuffer();Cn(i,n),er(i,t.e),er(i,t.n),r.start(),r.update(i.getBytes());var a=r.digest();if(e.encoding==="hex"){var s=a.toHex();return e.delimiter?s.match(/.{2}/g).join(e.delimiter):s}else{if(e.encoding==="binary")return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return a};function er(t,e){var r=e.toString(16);r[0]>="8"&&(r="00"+r);var n=Qe.util.hexToBytes(r);t.putInt32(n.length),t.putBytes(n)}function Cn(t,e){t.putInt32(e.length),t.putString(e)}function Xi(){for(var t=Qe.md.sha1.create(),e=arguments.length,r=0;r<e;++r)t.update(arguments[r]);return t.digest()}var Ux=de;const z2=Ei(Ux);function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tu.apply(null,arguments)}function H2(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Oo(t,e){return Oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Oo(t,e)}function W2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Oo(t,e)}function Fx(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function $2(t,e){t.classList?t.classList.add(e):Fx(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function ru(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function G2(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=ru(t.className,e):t.setAttribute("class",ru(t.className&&t.className.baseVal||"",e))}function j2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Fd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var a="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(a=i(a,n(o)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return r.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var o in a)e.call(a,o)&&a[o]&&(s=i(s,o));return s}function i(a,s){return s?a?a+" "+s:a+s:a}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(Fd);var Vx=Fd.exports;const q2=Ei(Vx);var Kx=typeof global=="object"&&global&&global.Object===Object&&global,zx=typeof self=="object"&&self&&self.Object===Object&&self,Vd=Kx||zx||Function("return this")(),ka=Vd.Symbol,Kd=Object.prototype,Hx=Kd.hasOwnProperty,Wx=Kd.toString,Gn=ka?ka.toStringTag:void 0;function $x(t){var e=Hx.call(t,Gn),r=t[Gn];try{t[Gn]=void 0;var n=!0}catch{}var i=Wx.call(t);return n&&(e?t[Gn]=r:delete t[Gn]),i}var Gx=Object.prototype,jx=Gx.toString;function qx(t){return jx.call(t)}var Yx="[object Null]",Qx="[object Undefined]",nu=ka?ka.toStringTag:void 0;function Xx(t){return t==null?t===void 0?Qx:Yx:nu&&nu in Object(t)?$x(t):qx(t)}function Zx(t){return t!=null&&typeof t=="object"}var Jx="[object Symbol]";function eb(t){return typeof t=="symbol"||Zx(t)&&Xx(t)==Jx}var tb=/\s/;function rb(t){for(var e=t.length;e--&&tb.test(t.charAt(e)););return e}var nb=/^\s+/;function ib(t){return t&&t.slice(0,rb(t)+1).replace(nb,"")}function Mo(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var iu=NaN,ab=/^[-+]0x[0-9a-f]+$/i,sb=/^0b[01]+$/i,ob=/^0o[0-7]+$/i,lb=parseInt;function au(t){if(typeof t=="number")return t;if(eb(t))return iu;if(Mo(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Mo(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ib(t);var r=sb.test(t);return r||ob.test(t)?lb(t.slice(2),r?2:8):ab.test(t)?iu:+t}var Js=function(){return Vd.Date.now()},cb="Expected a function",ub=Math.max,fb=Math.min;function Y2(t,e,r){var n,i,a,s,o,l,c=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(cb);e=au(e)||0,Mo(r)&&(u=!!r.leading,f="maxWait"in r,a=f?ub(au(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(T){var N=n,D=i;return n=i=void 0,c=T,s=t.apply(D,N),s}function h(T){return c=T,o=setTimeout(b,e),u?p(T):s}function g(T){var N=T-l,D=T-c,F=e-N;return f?fb(F,a-D):F}function y(T){var N=T-l,D=T-c;return l===void 0||N>=e||N<0||f&&D>=a}function b(){var T=Js();if(y(T))return S(T);o=setTimeout(b,g(T))}function S(T){return o=void 0,d&&n?p(T):(n=i=void 0,s)}function E(){o!==void 0&&clearTimeout(o),c=0,n=l=i=o=void 0}function B(){return o===void 0?s:S(Js())}function I(){var T=Js(),N=y(T);if(n=arguments,i=this,l=T,N){if(o===void 0)return h(l);if(f)return clearTimeout(o),o=setTimeout(b,e),p(l)}return o===void 0&&(o=setTimeout(b,e)),s}return I.cancel=E,I.flush=B,I}/*!
 * Chart.js v3.3.2
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */const zd=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Hd(t,e,r){const n=r||(s=>Array.prototype.slice.call(s));let i=!1,a=[];return function(...s){a=n(s),i||(i=!0,zd.call(window,()=>{i=!1,t.apply(e,a)}))}}function db(t,e){let r;return function(){return e?(clearTimeout(r),r=setTimeout(t,e)):t(),e}}const Cl=t=>t==="start"?"left":t==="end"?"right":"center",yt=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,hb=(t,e,r)=>t==="right"?r:t==="center"?(e+r)/2:e;function cr(){}const pb=function(){let t=0;return function(){return t++}}();function Se(t){return t===null||typeof t>"u"}function Fe(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.substr(0,7)==="[object"&&e.substr(-6)==="Array]"}function Ae(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const qe=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function Nt(t,e){return qe(t)?t:e}function me(t,e){return typeof t>"u"?e:t}const gb=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,Uo=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Le(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function we(t,e,r,n){let i,a,s;if(Fe(t))for(a=t.length,i=0;i<a;i++)e.call(r,t[i],i);else if(Ae(t))for(s=Object.keys(t),a=s.length,i=0;i<a;i++)e.call(r,t[s[i]],s[i])}function Na(t,e){let r,n,i,a;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],a=e[r],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function La(t){if(Fe(t))return t.map(La);if(Ae(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let i=0;for(;i<n;++i)e[r[i]]=La(t[r[i]]);return e}return t}function Wd(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function yb(t,e,r,n){if(!Wd(t))return;const i=e[t],a=r[t];Ae(i)&&Ae(a)?bi(i,a,n):e[t]=La(a)}function bi(t,e,r){const n=Fe(e)?e:[e],i=n.length;if(!Ae(t))return t;r=r||{};const a=r.merger||yb;for(let s=0;s<i;++s){if(e=n[s],!Ae(e))continue;const o=Object.keys(e);for(let l=0,c=o.length;l<c;++l)a(o[l],t,e,r)}return t}function di(t,e){return bi(t,e,{merger:mb})}function mb(t,e,r){if(!Wd(t))return;const n=e[t],i=r[t];Ae(n)&&Ae(i)?di(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=La(i))}const vb="",xb=".";function su(t,e){const r=t.indexOf(xb,e);return r===-1?t.length:r}function Pr(t,e){if(e===vb)return t;let r=0,n=su(e,r);for(;t&&n>r;)t=t[e.substr(r,n-r)],r=n+1,n=su(e,r);return t}function Sl(t){return t.charAt(0).toUpperCase()+t.slice(1)}const $t=t=>typeof t<"u",Bn=t=>typeof t=="function",bb=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0},Ge=Math.PI,ke=2*Ge,Cb=ke+Ge,Da=Number.POSITIVE_INFINITY,Sb=Ge/180,je=Ge/2,jn=Ge/4,ou=Ge*2/3,Dt=Math.log10,Or=Math.sign;function lu(t){const e=Math.pow(10,Math.floor(Dt(t))),r=t/e;return(r<=1?1:r<=2?2:r<=5?5:10)*e}function Eb(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((i,a)=>i-a).pop(),e}function Rn(t){return!isNaN(parseFloat(t))&&isFinite(t)}function pa(t,e,r){return Math.abs(t-e)<r}function _b(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function $d(t,e,r){let n,i,a;for(n=0,i=t.length;n<i;n++)a=t[n][r],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function Wt(t){return t*(Ge/180)}function Fo(t){return t*(180/Ge)}function cu(t){if(!qe(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function Tb(t,e){const r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);let a=Math.atan2(n,r);return a<-.5*Ge&&(a+=ke),{angle:a,distance:i}}function Vo(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ab(t,e){return(t-e+Cb)%ke-Ge}function zt(t){return(t%ke+ke)%ke}function Pa(t,e,r,n){const i=zt(t),a=zt(e),s=zt(r),o=zt(a-i),l=zt(s-i),c=zt(i-a),u=zt(i-s);return i===a||i===s||n&&a===s||o>l&&c<u}function _t(t,e,r){return Math.max(e,Math.min(r,t))}function Ib(t){return _t(t,-32768,32767)}const Zi=t=>t===0||t===1,uu=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ke/r)),fu=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*ke/r)+1,hi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*je)+1,easeOutSine:t=>Math.sin(t*je),easeInOutSine:t=>-.5*(Math.cos(Ge*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Zi(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Zi(t)?t:uu(t,.075,.3),easeOutElastic:t=>Zi(t)?t:fu(t,.075,.3),easeInOutElastic(t){return Zi(t)?t:t<.5?.5*uu(t*2,.1125,.45):.5+.5*fu(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-hi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?hi.easeInBounce(t*2)*.5:hi.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */const kt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ko="0123456789ABCDEF",wb=t=>Ko[t&15],Bb=t=>Ko[(t&240)>>4]+Ko[t&15],Ji=t=>(t&240)>>4===(t&15);function Rb(t){return Ji(t.r)&&Ji(t.g)&&Ji(t.b)&&Ji(t.a)}function kb(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&kt[t[1]]*17,g:255&kt[t[2]]*17,b:255&kt[t[3]]*17,a:e===5?kt[t[4]]*17:255}:(e===7||e===9)&&(r={r:kt[t[1]]<<4|kt[t[2]],g:kt[t[3]]<<4|kt[t[4]],b:kt[t[5]]<<4|kt[t[6]],a:e===9?kt[t[7]]<<4|kt[t[8]]:255})),r}function Nb(t){var e=Rb(t)?wb:Bb;return t&&"#"+e(t.r)+e(t.g)+e(t.b)+(t.a<255?e(t.a):"")}function Ri(t){return t+.5|0}const as=(t,e,r)=>Math.max(Math.min(t,r),e);function ti(t){return as(Ri(t*2.55),0,255)}function Ci(t){return as(Ri(t*255),0,255)}function El(t){return as(Ri(t/2.55)/100,0,1)}function du(t){return as(Ri(t*100),0,100)}const Lb=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Db(t){const e=Lb.exec(t);let r=255,n,i,a;if(e){if(e[7]!==n){const s=+e[7];r=255&(e[8]?ti(s):s*255)}return n=+e[1],i=+e[3],a=+e[5],n=255&(e[2]?ti(n):n),i=255&(e[4]?ti(i):i),a=255&(e[6]?ti(a):a),{r:n,g:i,b:a,a:r}}}function Pb(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${El(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ob=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Gd(t,e,r){const n=e*Math.min(r,1-r),i=(a,s=(a+t/30)%12)=>r-n*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function Mb(t,e,r){const n=(i,a=(i+t/60)%6)=>r-r*e*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function Ub(t,e,r){const n=Gd(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function _l(t){const r=t.r/255,n=t.g/255,i=t.b/255,a=Math.max(r,n,i),s=Math.min(r,n,i),o=(a+s)/2;let l,c,u;return a!==s&&(u=a-s,c=o>.5?u/(2-a-s):u/(a+s),l=a===r?(n-i)/u+(n<i?6:0):a===n?(i-r)/u+2:(r-n)/u+4,l=l*60+.5),[l|0,c||0,o]}function Tl(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Ci)}function Al(t,e,r){return Tl(Gd,t,e,r)}function Fb(t,e,r){return Tl(Ub,t,e,r)}function Vb(t,e,r){return Tl(Mb,t,e,r)}function jd(t){return(t%360+360)%360}function Kb(t){const e=Ob.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?ti(+e[5]):Ci(+e[5]));const i=jd(+e[2]),a=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?n=Fb(i,a,s):e[1]==="hsv"?n=Vb(i,a,s):n=Al(i,a,s),{r:n[0],g:n[1],b:n[2],a:r}}function zb(t,e){var r=_l(t);r[0]=jd(r[0]+e),r=Al(r),t.r=r[0],t.g=r[1],t.b=r[2]}function Hb(t){if(!t)return;const e=_l(t),r=e[0],n=du(e[1]),i=du(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${El(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const hu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pu={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Wb(){const t={},e=Object.keys(pu),r=Object.keys(hu);let n,i,a,s,o;for(n=0;n<e.length;n++){for(s=o=e[n],i=0;i<r.length;i++)a=r[i],o=o.replace(a,hu[a]);a=parseInt(pu[s],16),t[o]=[a>>16&255,a>>8&255,a&255]}return t}let ea;function $b(t){ea||(ea=Wb(),ea.transparent=[0,0,0,0]);const e=ea[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}function ta(t,e,r){if(t){let n=_l(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=Al(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function qd(t,e){return t&&Object.assign(e||{},t)}function gu(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ci(t[3]))):(e=qd(t,{r:0,g:0,b:0,a:1}),e.a=Ci(e.a)),e}function Gb(t){return t.charAt(0)==="r"?Db(t):Kb(t)}class Oa{constructor(e){if(e instanceof Oa)return e;const r=typeof e;let n;r==="object"?n=gu(e):r==="string"&&(n=kb(e)||$b(e)||Gb(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=qd(this._rgb);return e&&(e.a=El(e.a)),e}set rgb(e){this._rgb=gu(e)}rgbString(){return this._valid?Pb(this._rgb):this._rgb}hexString(){return this._valid?Nb(this._rgb):this._rgb}hslString(){return this._valid?Hb(this._rgb):this._rgb}mix(e,r){const n=this;if(e){const i=n.rgb,a=e.rgb;let s;const o=r===s?.5:r,l=2*o-1,c=i.a-a.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-u,i.r=255&u*i.r+s*a.r+.5,i.g=255&u*i.g+s*a.g+.5,i.b=255&u*i.b+s*a.b+.5,i.a=o*i.a+(1-o)*a.a,n.rgb=i}return n}clone(){return new Oa(this.rgb)}alpha(e){return this._rgb.a=Ci(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Ri(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ta(this._rgb,2,e),this}darken(e){return ta(this._rgb,2,-e),this}saturate(e){return ta(this._rgb,1,e),this}desaturate(e){return ta(this._rgb,1,-e),this}rotate(e){return zb(this._rgb,e),this}}function Yd(t){return new Oa(t)}const Qd=t=>t instanceof CanvasGradient||t instanceof CanvasPattern;function yu(t){return Qd(t)?t:Yd(t)}function eo(t){return Qd(t)?t:Yd(t).saturate(.5).darken(.1).hexString()}const an=Object.create(null),zo=Object.create(null);function pi(t,e){if(!e)return t;const r=e.split(".");for(let n=0,i=r.length;n<i;++n){const a=r[n];t=t[a]||(t[a]=Object.create(null))}return t}function to(t,e,r){return typeof e=="string"?bi(pi(t,e),r):bi(pi(t,""),e)}class jb{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,n)=>eo(n.backgroundColor),this.hoverBorderColor=(r,n)=>eo(n.borderColor),this.hoverColor=(r,n)=>eo(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(e)}set(e,r){return to(this,e,r)}get(e){return pi(this,e)}describe(e,r){return to(zo,e,r)}override(e,r){return to(an,e,r)}route(e,r,n,i){const a=pi(this,e),s=pi(this,n),o="_"+r;Object.defineProperties(a,{[o]:{value:a[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[o],c=s[i];return Ae(l)?Object.assign({},c,l):me(l,c)},set(l){this[o]=l}}})}}var be=new jb({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function qb(t){return!t||Se(t.size)||Se(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ma(t,e,r,n,i){let a=e[i];return a||(a=e[i]=t.measureText(i).width,r.push(i)),a>n&&(n=a),n}function Yb(t,e,r,n){n=n||{};let i=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},a=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let s=0;const o=r.length;let l,c,u,f,d;for(l=0;l<o;l++)if(f=r[l],f!=null&&Fe(f)!==!0)s=Ma(t,i,a,s,f);else if(Fe(f))for(c=0,u=f.length;c<u;c++)d=f[c],d!=null&&!Fe(d)&&(s=Ma(t,i,a,s,d));t.restore();const p=a.length/2;if(p>r.length){for(l=0;l<p;l++)delete i[a[l]];a.splice(0,p)}return s}function $r(t,e,r){const n=t.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function mu(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Ua(t,e,r,n){let i,a,s,o,l;const c=e.pointStyle,u=e.rotation,f=e.radius;let d=(u||0)*Sb;if(c&&typeof c=="object"&&(i=c.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(d),t.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),t.restore();return}if(!(isNaN(f)||f<=0)){switch(t.beginPath(),c){default:t.arc(r,n,f,0,ke),t.closePath();break;case"triangle":t.moveTo(r+Math.sin(d)*f,n-Math.cos(d)*f),d+=ou,t.lineTo(r+Math.sin(d)*f,n-Math.cos(d)*f),d+=ou,t.lineTo(r+Math.sin(d)*f,n-Math.cos(d)*f),t.closePath();break;case"rectRounded":l=f*.516,o=f-l,a=Math.cos(d+jn)*o,s=Math.sin(d+jn)*o,t.arc(r-a,n-s,l,d-Ge,d-je),t.arc(r+s,n-a,l,d-je,d),t.arc(r+a,n+s,l,d,d+je),t.arc(r-s,n+a,l,d+je,d+Ge),t.closePath();break;case"rect":if(!u){o=Math.SQRT1_2*f,t.rect(r-o,n-o,2*o,2*o);break}d+=jn;case"rectRot":a=Math.cos(d)*f,s=Math.sin(d)*f,t.moveTo(r-a,n-s),t.lineTo(r+s,n-a),t.lineTo(r+a,n+s),t.lineTo(r-s,n+a),t.closePath();break;case"crossRot":d+=jn;case"cross":a=Math.cos(d)*f,s=Math.sin(d)*f,t.moveTo(r-a,n-s),t.lineTo(r+a,n+s),t.moveTo(r+s,n-a),t.lineTo(r-s,n+a);break;case"star":a=Math.cos(d)*f,s=Math.sin(d)*f,t.moveTo(r-a,n-s),t.lineTo(r+a,n+s),t.moveTo(r+s,n-a),t.lineTo(r-s,n+a),d+=jn,a=Math.cos(d)*f,s=Math.sin(d)*f,t.moveTo(r-a,n-s),t.lineTo(r+a,n+s),t.moveTo(r+s,n-a),t.lineTo(r-s,n+a);break;case"line":a=Math.cos(d)*f,s=Math.sin(d)*f,t.moveTo(r-a,n-s),t.lineTo(r+a,n+s);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(d)*f,n+Math.sin(d)*f);break}t.fill(),e.borderWidth>0&&t.stroke()}}function kn(t,e,r){return r=r||.5,t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function ki(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ni(t){t.restore()}function Qb(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if(i==="middle"){const a=(e.x+r.x)/2;t.lineTo(a,e.y),t.lineTo(a,r.y)}else i==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function Xb(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function sn(t,e,r,n,i,a={}){const s=Fe(e)?e:[e],o=a.strokeWidth>0&&a.strokeColor!=="";let l,c;for(t.save(),a.translation&&t.translate(a.translation[0],a.translation[1]),Se(a.rotation)||t.rotate(a.rotation),t.font=i.string,a.color&&(t.fillStyle=a.color),a.textAlign&&(t.textAlign=a.textAlign),a.textBaseline&&(t.textBaseline=a.textBaseline),l=0;l<s.length;++l){if(c=s[l],o&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),Se(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(c,r,n,a.maxWidth)),t.fillText(c,r,n,a.maxWidth),a.strikethrough||a.underline){const u=t.measureText(c),f=r-u.actualBoundingBoxLeft,d=r+u.actualBoundingBoxRight,p=n-u.actualBoundingBoxAscent,h=n+u.actualBoundingBoxDescent,g=a.strikethrough?(p+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(f,g),t.lineTo(d,g),t.stroke()}n+=i.lineHeight}t.restore()}function Fa(t,e){const{x:r,y:n,w:i,h:a,radius:s}=e;t.arc(r+s.topLeft,n+s.topLeft,s.topLeft,-je,Ge,!0),t.lineTo(r,n+a-s.bottomLeft),t.arc(r+s.bottomLeft,n+a-s.bottomLeft,s.bottomLeft,Ge,je,!0),t.lineTo(r+i-s.bottomRight,n+a),t.arc(r+i-s.bottomRight,n+a-s.bottomRight,s.bottomRight,je,0,!0),t.lineTo(r+i,n+s.topRight),t.arc(r+i-s.topRight,n+s.topRight,s.topRight,0,-je,!0),t.lineTo(r+s.topLeft,n)}const Zb=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Jb=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function eC(t,e){const r=(""+t).match(Zb);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const tC=t=>+t||0;function Il(t,e){const r={},n=Ae(e),i=n?Object.keys(e):e,a=Ae(t)?n?s=>me(t[s],t[e[s]]):s=>t[s]:()=>t;for(const s of i)r[s]=tC(a(s));return r}function Xd(t){return Il(t,{top:"y",right:"x",bottom:"y",left:"x"})}function wl(t){return Il(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ct(t){const e=Xd(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function nt(t,e){t=t||{},e=e||be.font;let r=me(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=me(t.style,e.style);n&&!(""+n).match(Jb)&&(console.warn('Invalid font style specified: "'+n+'"'),n="");const i={family:me(t.family,e.family),lineHeight:eC(me(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:me(t.weight,e.weight),string:""};return i.string=qb(i),i}function ri(t,e,r,n){let i,a,s;for(i=0,a=t.length;i<a;++i)if(s=t[i],s!==void 0&&s!==void 0)return s}function rC(t,e){const{min:r,max:n}=t;return{min:r-Math.abs(Uo(e,r)),max:n+Uo(e,n)}}function ss(t,e,r){r=r||(s=>t[s]<e);let n=t.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,r(a)?i=a:n=a;return{lo:i,hi:n}}const Jr=(t,e,r)=>ss(t,r,n=>t[n][e]<r),nC=(t,e,r)=>ss(t,r,n=>t[n][e]>=r);function iC(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}const Zd=["push","pop","shift","splice","unshift"];function aC(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Zd.forEach(r=>{const n="_onData"+Sl(r),i=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...a){const s=i.apply(this,a);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...a)}),s}})})}function vu(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(Zd.forEach(a=>{delete t[a]}),delete t._chartjs)}function Jd(t){const e=new Set;let r,n;for(r=0,n=t.length;r<n;++r)e.add(t[r]);if(e.size===n)return t;const i=[];return e.forEach(a=>{i.push(a)}),i}function Bl(t,e=[""],r=t,n,i=()=>t[0]){$t(n)||(n=ih("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:i,override:s=>Bl([s,...t],e,r,n)};return new Proxy(a,{deleteProperty(s,o){return delete s[o],delete s._keys,delete t[0][o],!0},get(s,o){return rh(s,o,()=>hC(o,e,t,s))},getOwnPropertyDescriptor(s,o){return Reflect.getOwnPropertyDescriptor(s._scopes[0],o)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(s,o){return bu(s).includes(o)},ownKeys(s){return bu(s)},set(s,o,l){const c=s._storage||(s._storage=i());return c[o]=l,delete s[o],delete s._keys,!0}})}function Nn(t,e,r,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:eh(t,n),setContext:a=>Nn(t,a,r,n),override:a=>Nn(t.override(a),e,r,n)};return new Proxy(i,{deleteProperty(a,s){return delete a[s],delete t[s],!0},get(a,s,o){return rh(a,s,()=>oC(a,s,o))},getOwnPropertyDescriptor(a,s){return a._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(a,s,o){return t[s]=o,delete a[s],!0}})}function eh(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:Bn(r)?r:()=>r,isIndexable:Bn(n)?n:()=>n}}const sC=(t,e)=>t?t+Sl(e):e,th=(t,e)=>Ae(e)&&t!=="adapters";function rh(t,e,r){let n=t[e];return $t(n)||(n=r(),$t(n)&&(t[e]=n)),n}function oC(t,e,r){const{_proxy:n,_context:i,_subProxy:a,_descriptors:s}=t;let o=n[e];return Bn(o)&&s.isScriptable(e)&&(o=lC(e,o,t,r)),Fe(o)&&o.length&&(o=cC(e,o,t,s.isIndexable)),th(e,o)&&(o=Nn(o,i,a&&a[e],s)),o}function lC(t,e,r,n){const{_proxy:i,_context:a,_subProxy:s,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+[...o].join("->")+"->"+t);return o.add(t),e=e(a,s||n),o.delete(t),Ae(e)&&(e=Rl(i._scopes,i,t,e)),e}function cC(t,e,r,n){const{_proxy:i,_context:a,_subProxy:s,_descriptors:o}=r;if($t(a.index)&&n(t))e=e[a.index%e.length];else if(Ae(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const f=Rl(c,i,t,u);e.push(Nn(f,a,s&&s[t],o))}}return e}function nh(t,e,r){return Bn(t)?t(e,r):t}const uC=(t,e)=>t===!0?e:typeof t=="string"?Pr(e,t):void 0;function fC(t,e,r,n){for(const i of e){const a=uC(r,i);if(a){t.add(a);const s=nh(a._fallback,r,a);if($t(s)&&s!==r&&s!==n)return s}else if(a===!1&&$t(n)&&r!==n)return null}return!1}function Rl(t,e,r,n){const i=e._rootScopes,a=nh(e._fallback,r,n),s=[...t,...i],o=new Set;o.add(n);let l=xu(o,s,r,a||r);return l===null||$t(a)&&a!==r&&(l=xu(o,s,a,l),l===null)?!1:Bl([...o],[""],i,a,()=>dC(e,r,n))}function xu(t,e,r,n){for(;r;)r=fC(t,e,r,n);return r}function dC(t,e,r){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return Fe(i)&&Ae(r)?r:i}function hC(t,e,r,n){let i;for(const a of e)if(i=ih(sC(a,t),r),$t(i))return th(t,i)?Rl(r,n,t,i):i}function ih(t,e){for(const r of e){if(!r)continue;const n=r[t];if($t(n))return n}}function bu(t){let e=t._keys;return e||(e=t._keys=pC(t._scopes)),e}function pC(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))e.add(n);return[...e]}const gC=Number.EPSILON||1e-14,Ln=(t,e)=>e<t.length&&!t[e].skip&&t[e],ah=t=>t==="x"?"y":"x";function yC(t,e,r,n){const i=t.skip?e:t,a=e,s=r.skip?e:r,o=Vo(a,i),l=Vo(s,a);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const f=n*c,d=n*u;return{previous:{x:a.x-f*(s.x-i.x),y:a.y-f*(s.y-i.y)},next:{x:a.x+d*(s.x-i.x),y:a.y+d*(s.y-i.y)}}}function mC(t,e,r){const n=t.length;let i,a,s,o,l,c=Ln(t,0);for(let u=0;u<n-1;++u)if(l=c,c=Ln(t,u+1),!(!l||!c)){if(pa(e[u],0,gC)){r[u]=r[u+1]=0;continue}i=r[u]/e[u],a=r[u+1]/e[u],o=Math.pow(i,2)+Math.pow(a,2),!(o<=9)&&(s=3/Math.sqrt(o),r[u]=i*s*e[u],r[u+1]=a*s*e[u])}}function vC(t,e,r="x"){const n=ah(r),i=t.length;let a,s,o,l=Ln(t,0);for(let c=0;c<i;++c){if(s=o,o=l,l=Ln(t,c+1),!o)continue;const u=o[r],f=o[n];s&&(a=(u-s[r])/3,o[`cp1${r}`]=u-a,o[`cp1${n}`]=f-a*e[c]),l&&(a=(l[r]-u)/3,o[`cp2${r}`]=u+a,o[`cp2${n}`]=f+a*e[c])}}function xC(t,e="x"){const r=ah(e),n=t.length,i=Array(n).fill(0),a=Array(n);let s,o,l,c=Ln(t,0);for(s=0;s<n;++s)if(o=l,l=c,c=Ln(t,s+1),!!l){if(c){const u=c[e]-l[e];i[s]=u!==0?(c[r]-l[r])/u:0}a[s]=o?c?Or(i[s-1])!==Or(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}mC(t,i,a),vC(t,a,e)}function ra(t,e,r){return Math.max(Math.min(t,r),e)}function bC(t,e){let r,n,i,a,s,o=kn(t[0],e);for(r=0,n=t.length;r<n;++r)s=a,a=o,o=r<n-1&&kn(t[r+1],e),a&&(i=t[r],s&&(i.cp1x=ra(i.cp1x,e.left,e.right),i.cp1y=ra(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=ra(i.cp2x,e.left,e.right),i.cp2y=ra(i.cp2y,e.top,e.bottom)))}function CC(t,e,r,n,i){let a,s,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")xC(t,i);else{let c=n?t[t.length-1]:t[0];for(a=0,s=t.length;a<s;++a)o=t[a],l=yC(c,o,t[Math.min(a+1,s-(n?0:1))%s],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&bC(t,r)}function on(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Va(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const os=t=>window.getComputedStyle(t,null);function SC(t,e){return os(t).getPropertyValue(e)}const EC=["top","right","bottom","left"];function rn(t,e,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const a=EC[i];n[a]=parseFloat(t[e+"-"+a+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const _C=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function TC(t,e){const r=t.native||t,n=r.touches,i=n&&n.length?n[0]:r,{offsetX:a,offsetY:s}=i;let o=!1,l,c;if(_C(a,s,r.target))l=a,c=s;else{const u=e.getBoundingClientRect();l=i.clientX-u.left,c=i.clientY-u.top,o=!0}return{x:l,y:c,box:o}}function sh(t,e){const{canvas:r,currentDevicePixelRatio:n}=e,i=os(r),a=i.boxSizing==="border-box",s=rn(i,"padding"),o=rn(i,"border","width"),{x:l,y:c,box:u}=TC(t,r),f=s.left+(u&&o.left),d=s.top+(u&&o.top);let{width:p,height:h}=e;return a&&(p-=s.width+o.width,h-=s.height+o.height),{x:Math.round((l-f)/p*r.width/n),y:Math.round((c-d)/h*r.height/n)}}function AC(t,e,r){let n,i;if(e===void 0||r===void 0){const a=on(t);if(!a)e=t.clientWidth,r=t.clientHeight;else{const s=a.getBoundingClientRect(),o=os(a),l=rn(o,"border","width"),c=rn(o,"padding");e=s.width-c.width-l.width,r=s.height-c.height-l.height,n=Va(o.maxWidth,a,"clientWidth"),i=Va(o.maxHeight,a,"clientHeight")}}return{width:e,height:r,maxWidth:n||Da,maxHeight:i||Da}}const ro=t=>Math.round(t*10)/10;function IC(t,e,r,n){const i=os(t),a=rn(i,"margin"),s=Va(i.maxWidth,t,"clientWidth")||Da,o=Va(i.maxHeight,t,"clientHeight")||Da,l=AC(t,e,r);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=rn(i,"border","width"),d=rn(i,"padding");c-=d.width+f.width,u-=d.height+f.height}return c=Math.max(0,c-a.width),u=Math.max(0,n?Math.floor(c/n):u-a.height),c=ro(Math.min(c,s,l.maxWidth)),u=ro(Math.min(u,o,l.maxHeight)),c&&!u&&(u=ro(c/2)),{width:c,height:u}}function Cu(t,e,r){const n=e||1,i=Math.floor(t.height*n),a=Math.floor(t.width*n);t.height=i/n,t.width=a/n;const s=t.canvas;return s.style&&(r||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||s.height!==i||s.width!==a?(t.currentDevicePixelRatio=n,s.height=i,s.width=a,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const wC=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function Su(t,e){const r=SC(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function jr(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function BC(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function RC(t,e,r,n){const i={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},s=jr(t,i,r),o=jr(i,a,r),l=jr(a,e,r),c=jr(s,o,r),u=jr(o,l,r);return jr(c,u,r)}const Eu=new Map;function kC(t,e){e=e||{};const r=t+JSON.stringify(e);let n=Eu.get(r);return n||(n=new Intl.NumberFormat(t,e),Eu.set(r,n)),n}function Li(t,e,r){return kC(e,r).format(t)}const NC=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},LC=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function gi(t,e,r){return t?NC(e,r):LC()}function oh(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function lh(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function ch(t){return t==="angle"?{between:Pa,compare:Ab,normalize:zt}:{between:(e,r,n)=>e>=Math.min(r,n)&&e<=Math.max(n,r),compare:(e,r)=>e-r,normalize:e=>e}}function _u({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:i}}function DC(t,e,r){const{property:n,start:i,end:a}=r,{between:s,normalize:o}=ch(n),l=e.length;let{start:c,end:u,loop:f}=t,d,p;if(f){for(c+=l,u+=l,d=0,p=l;d<p&&s(o(e[c%l][n]),i,a);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:f,style:t.style}}function uh(t,e,r){if(!r)return[t];const{property:n,start:i,end:a}=r,s=e.length,{compare:o,between:l,normalize:c}=ch(n),{start:u,end:f,loop:d,style:p}=DC(t,e,r),h=[];let g=!1,y=null,b,S,E;const B=()=>l(i,E,b)&&o(i,E)!==0,I=()=>o(a,b)===0||l(a,E,b),T=()=>g||B(),N=()=>!g||I();for(let D=u,F=u;D<=f;++D)S=e[D%s],!S.skip&&(b=c(S[n]),b!==E&&(g=l(b,i,a),y===null&&T()&&(y=o(b,i)===0?D:F),y!==null&&N()&&(h.push(_u({start:y,end:D,loop:d,count:s,style:p})),y=null),F=D,E=b));return y!==null&&h.push(_u({start:y,end:f,loop:d,count:s,style:p})),h}function fh(t,e){const r=[],n=t.segments;for(let i=0;i<n.length;i++){const a=uh(n[i],t.points,e);a.length&&r.push(...a)}return r}function PC(t,e,r,n){let i=0,a=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(a+=i);a>i&&t[a%e].skip;)a--;return a%=e,{start:i,end:a}}function OC(t,e,r,n){const i=t.length,a=[];let s=e,o=t[e],l;for(l=e+1;l<=r;++l){const c=t[l%i];c.skip||c.stop?o.skip||(n=!1,a.push({start:e%i,end:(l-1)%i,loop:n}),e=s=c.stop?l:null):(s=l,o.skip&&(e=l)),o=c}return s!==null&&a.push({start:e%i,end:s%i,loop:n}),a}function MC(t,e){const r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];const a=!!t._loop,{start:s,end:o}=PC(r,i,a,n);if(n===!0)return Tu([{start:s,end:o,loop:a}],r,e);const l=o<s?o+i:o,c=!!t._fullLoop&&s===0&&o===i-1;return Tu(OC(r,s,l,c),r,e)}function Tu(t,e,r){return!r||!r.setContext||!e?t:UC(t,e,r)}function UC(t,e,r){const n=e.length,i=[];let a=t[0].start,s=a;for(const o of t){let l,c,u=e[a%n];for(s=a+1;s<=o.end;s++){const f=e[s%n];c=FC(r.setContext({type:"segment",p0:u,p1:f})),VC(c,l)&&(i.push({start:a,end:s-1,loop:o.loop,style:l}),l=c,a=s-1),u=f,l=c}a<s-1&&(i.push({start:a,end:s-1,loop:o.loop,style:c}),a=s-1)}return i}function FC(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function VC(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.3.2
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */class KC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,i){const a=r.listeners[i],s=r.duration;a.forEach(o=>o({chart:e,initial:r.initial,numSteps:s,currentStep:Math.min(n-r.start,s)}))}_refresh(){const e=this;e._request||(e._running=!0,e._request=zd.call(window,()=>{e._update(),e._request=null,e._running&&e._refresh()}))}_update(e=Date.now()){const r=this;let n=0;r._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,l=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),l=!0):(s[o]=s[s.length-1],s.pop());l&&(a.draw(),r._notify(a,i,e,"progress")),s.length||(i.running=!1,r._notify(a,i,e,"complete"),i.initial=!1),n+=s.length}),r._lastDate=e,n===0&&(r._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var fr=new KC;const Au="transparent",zC={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=yu(t||Au),i=n.valid&&yu(e||Au);return i&&i.valid?i.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class HC{constructor(e,r,n,i){const a=r[n];i=ri([e.to,i,a,e.from]);const s=ri([e.from,a,i]);this._active=!0,this._fn=e.fn||zC[e.type||typeof s],this._easing=hi[e.easing]||hi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,r,n){const i=this;if(i._active){i._notify(!1);const a=i._target[i._prop],s=n-i._start,o=i._duration-s;i._start=n,i._duration=Math.floor(Math.max(o,e.duration)),i._total+=s,i._loop=!!e.loop,i._to=ri([e.to,r,a,e.from]),i._from=ri([e.from,a,r])}}cancel(){const e=this;e._active&&(e.tick(Date.now()),e._active=!1,e._notify(!1))}tick(e){const r=this,n=e-r._start,i=r._duration,a=r._prop,s=r._from,o=r._loop,l=r._to;let c;if(r._active=s!==l&&(o||n<i),!r._active){r._target[a]=l,r._notify(!0);return}if(n<0){r._target[a]=s;return}c=n/i%2,c=o&&c>1?2-c:c,c=r._easing(Math.min(1,Math.max(0,c))),r._target[a]=r._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}}const WC=["x","y","borderWidth","radius","tension"],$C=["color","borderColor","backgroundColor"];be.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const GC=Object.keys(be.animation);be.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});be.set("animations",{colors:{type:"color",properties:$C},numbers:{type:"number",properties:WC}});be.describe("animations",{_fallback:"animation"});be.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class dh{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Ae(e))return;const r=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const i=e[n];if(!Ae(i))return;const a={};for(const s of GC)a[s]=i[s];(Fe(i.properties)&&i.properties||[n]).forEach(s=>{(s===n||!r.has(s))&&r.set(s,a)})})}_animateOptions(e,r){const n=r.options,i=qC(e,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&jC(e.options.$animations,n).then(()=>{e.options=n},()=>{}),a}_createAnimations(e,r){const n=this._properties,i=[],a=e.$animations||(e.$animations={}),s=Object.keys(r),o=Date.now();let l;for(l=s.length-1;l>=0;--l){const c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,r));continue}const u=r[c];let f=a[c];const d=n.get(c);if(f)if(d&&f.active()){f.update(d,u,o);continue}else f.cancel();if(!d||!d.duration){e[c]=u;continue}a[c]=f=new HC(d,e,c,u),i.push(f)}return i}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return fr.add(this._chart,n),!0}}function jC(t,e){const r=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const a=t[n[i]];a&&a.active()&&r.push(a.wait())}return Promise.all(r)}function qC(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function Iu(t,e){const r=t&&t.options||{},n=r.reverse,i=r.min===void 0?e:0,a=r.max===void 0?e:0;return{start:n?a:i,end:n?i:a}}function YC(t,e,r){if(r===!1)return!1;const n=Iu(t,r),i=Iu(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function QC(t){let e,r,n,i;return Ae(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i}}function wu(t,e){const r=[],n=t._getSortedDatasetMetas(e);let i,a;for(i=0,a=n.length;i<a;++i)r.push(n[i].index);return r}function Bu(t,e,r,n){const i=t.keys,a=n.mode==="single";let s,o,l,c;if(e!==null){for(s=0,o=i.length;s<o;++s){if(l=+i[s],l===r){if(n.all)continue;break}c=t.values[l],qe(c)&&(a||e===0||Or(e)===Or(c))&&(e+=c)}return e}}function XC(t){const e=Object.keys(t),r=new Array(e.length);let n,i,a;for(n=0,i=e.length;n<i;++n)a=e[n],r[n]={x:a,y:t[a]};return r}function Ru(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function ZC(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function JC(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function eS(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function ku(t,e,r){for(const n of e.getMatchingVisibleMetas("bar").reverse()){const i=t[n.index];if(r&&i>0||!r&&i<0)return n.index}return null}function Nu(t,e){const{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:a,vScale:s,index:o}=n,l=a.axis,c=s.axis,u=ZC(a,s,n),f=e.length;let d;for(let p=0;p<f;++p){const h=e[p],{[l]:g,[c]:y}=h,b=h._stacks||(h._stacks={});d=b[c]=eS(i,u,g),d[o]=y,d._top=ku(d,s,!0),d._bottom=ku(d,s,!1)}}function no(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function tS(t,e){return Object.assign(Object.create(t),{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function rS(t,e,r){return Object.assign(Object.create(t),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function qn(t,e){const r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const n of e){const i=n._stacks;if(!i||i[r]===void 0||i[r][t.index]===void 0)return;delete i[r][t.index]}}}const io=t=>t==="reset"||t==="none",Lu=(t,e)=>e?t:Object.assign({},t);class sr{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this,r=e._cachedMeta;e.configure(),e.linkScales(),r._stacked=Ru(r.vScale,r),e.addElements()}updateIndex(e){this.index!==e&&qn(this._cachedMeta),this.index=e}linkScales(){const e=this,r=e.chart,n=e._cachedMeta,i=e.getDataset(),a=(d,p,h,g)=>d==="x"?p:d==="r"?g:h,s=n.xAxisID=me(i.xAxisID,no(r,"x")),o=n.yAxisID=me(i.yAxisID,no(r,"y")),l=n.rAxisID=me(i.rAxisID,no(r,"r")),c=n.indexAxis,u=n.iAxisID=a(c,s,o,l),f=n.vAxisID=a(c,o,s,l);n.xScale=e.getScaleForId(s),n.yScale=e.getScaleForId(o),n.rScale=e.getScaleForId(l),n.iScale=e.getScaleForId(u),n.vScale=e.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&vu(this._data,this),e._stacked&&qn(e)}_dataCheck(){const e=this,r=e.getDataset(),n=r.data||(r.data=[]),i=e._data;if(Ae(n))e._data=XC(n);else if(i!==n){if(i){vu(i,e);const a=e._cachedMeta;qn(a),a._parsed=[]}n&&Object.isExtensible(n)&&aC(n,e),e._syncList=[],e._data=n}}addElements(){const e=this,r=e._cachedMeta;e._dataCheck(),e.datasetElementType&&(r.dataset=new e.datasetElementType)}buildOrUpdateElements(e){const r=this,n=r._cachedMeta,i=r.getDataset();let a=!1;r._dataCheck();const s=n._stacked;n._stacked=Ru(n.vScale,n),n.stack!==i.stack&&(a=!0,qn(n),n.stack=i.stack),r._resyncElements(e),(a||s!==n._stacked)&&Nu(r,n._parsed)}configure(){const e=this,r=e.chart.config,n=r.datasetScopeKeys(e._type),i=r.getOptionScopes(e.getDataset(),n,!0);e.options=r.createResolver(i,e.getContext()),e._parsing=e.options.parsing}parse(e,r){const n=this,{_cachedMeta:i,_data:a}=n,{iScale:s,_stacked:o}=i,l=s.axis;let c=e===0&&r===a.length?!0:i._sorted,u=e>0&&i._parsed[e-1],f,d,p;if(n._parsing===!1)i._parsed=a,i._sorted=!0,p=a;else{Fe(a[e])?p=n.parseArrayData(i,a,e,r):Ae(a[e])?p=n.parseObjectData(i,a,e,r):p=n.parsePrimitiveData(i,a,e,r);const h=()=>d[l]===null||u&&d[l]<u[l];for(f=0;f<r;++f)i._parsed[f+e]=d=p[f],c&&(h()&&(c=!1),u=d);i._sorted=c}o&&Nu(n,p)}parsePrimitiveData(e,r,n,i){const{iScale:a,vScale:s}=e,o=a.axis,l=s.axis,c=a.getLabels(),u=a===s,f=new Array(i);let d,p,h;for(d=0,p=i;d<p;++d)h=d+n,f[d]={[o]:u||a.parse(c[h],h),[l]:s.parse(r[h],h)};return f}parseArrayData(e,r,n,i){const{xScale:a,yScale:s}=e,o=new Array(i);let l,c,u,f;for(l=0,c=i;l<c;++l)u=l+n,f=r[u],o[l]={x:a.parse(f[0],u),y:s.parse(f[1],u)};return o}parseObjectData(e,r,n,i){const{xScale:a,yScale:s}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,f,d,p;for(u=0,f=i;u<f;++u)d=u+n,p=r[d],c[u]={x:a.parse(Pr(p,o),d),y:s.parse(Pr(p,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const i=this.chart,a=this._cachedMeta,s=r[e.axis],o={keys:wu(i,!0),values:r._stacks[e.axis]};return Bu(o,s,a.index,{mode:n})}updateRangeFromParsed(e,r,n,i){const a=n[r.axis];let s=a===null?NaN:a;const o=i&&n._stacks[r.axis];i&&o&&(i.values=o,e.min=Math.min(e.min,s),e.max=Math.max(e.max,s),s=Bu(i,a,this._cachedMeta.index,{all:!0})),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,r){const n=this,i=n._cachedMeta,a=i._parsed,s=i._sorted&&e===i.iScale,o=a.length,l=n._getOtherScale(e),c=r&&i._stacked&&{keys:wu(n.chart,!0),values:null},u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:d}=JC(l);let p,h,g,y;function b(){return g=a[p],h=g[e.axis],y=g[l.axis],!qe(h)||f>y||d<y}for(p=0;p<o&&!(!b()&&(n.updateRangeFromParsed(u,e,g,c),s));++p);if(s){for(p=o-1;p>=0;--p)if(!b()){n.updateRangeFromParsed(u,e,g,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let i,a,s;for(i=0,a=r.length;i<a;++i)s=r[i][e.axis],qe(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this,n=r._cachedMeta,i=n.iScale,a=n.vScale,s=r.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const r=this,n=r._cachedMeta;r.configure(),r._cachedDataOpts={},r.update(e||"default"),n._clip=QC(me(r.options.clip,YC(n.xScale,n.yScale,r.getMaxOverflow())))}update(e){}draw(){const e=this,r=e._ctx,n=e.chart,i=e._cachedMeta,a=i.data||[],s=n.chartArea,o=[],l=e._drawStart||0,c=e._drawCount||a.length-l;let u;for(i.dataset&&i.dataset.draw(r,s,l,c),u=l;u<l+c;++u){const f=a[u];f.active?o.push(f):f.draw(r,s)}for(u=0;u<o.length;++u)o[u].draw(r,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const i=this,a=i.getDataset();let s;if(e>=0&&e<i._cachedMeta.data.length){const o=i._cachedMeta.data[e];s=o.$context||(o.$context=rS(i.getContext(),e,o)),s.parsed=i.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=i.$context||(i.$context=tS(i.chart.getContext(),i.index)),s.dataset=a,s.index=s.datasetIndex=i.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const i=this,a=r==="active",s=i._cachedDataOpts,o=e+"-"+r,l=s[o],c=i.enableOptionSharing&&$t(n);if(l)return Lu(l,c);const u=i.chart.config,f=u.datasetElementScopeKeys(i._type,e),d=a?[`${e}Hover`,"hover",e,""]:[e,""],p=u.getOptionScopes(i.getDataset(),f),h=Object.keys(be.elements[e]),g=()=>i.getContext(n,a),y=u.resolveNamedOptions(p,h,g,d);return y.$shared&&(y.$shared=c,s[o]=Object.freeze(Lu(y,c))),y}_resolveAnimations(e,r,n){const i=this,a=i.chart,s=i._cachedDataOpts,o=`animation-${r}`,l=s[o];if(l)return l;let c;if(a.options.animation!==!1){const f=i.chart.config,d=f.datasetAnimationScopeKeys(i._type,r),p=f.getOptionScopes(i.getDataset(),d);c=f.createResolver(p,i.getContext(e,n,r))}const u=new dh(a,c&&c.animations);return c&&c._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||io(e)||this.chart._animationsDisabled}updateElement(e,r,n,i){io(i)?Object.assign(e,n):this._resolveAnimations(r,i).update(e,n)}updateSharedOptions(e,r,n){e&&!io(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,i){e.active=i;const a=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this,n=r._data,i=r._cachedMeta.data;for(const[l,c,u]of r._syncList)r[l](c,u);r._syncList=[];const a=i.length,s=n.length,o=Math.min(s,a);o&&r.parse(0,o),s>a?r._insertElements(a,s-a,e):s<a&&r._removeElements(s,a-s)}_insertElements(e,r,n=!0){const i=this,a=i._cachedMeta,s=a.data,o=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=o;l--)u[l]=u[l-r]};for(c(s),l=e;l<o;++l)s[l]=new i.dataElementType;i._parsing&&c(a._parsed),i.parse(e,r),n&&i.updateElements(s,e,r,"reset")}updateElements(e,r,n,i){}_removeElements(e,r){const n=this,i=n._cachedMeta;if(n._parsing){const a=i._parsed.splice(e,r);i._stacked&&qn(i,a)}i.data.splice(e,r)}_onDataPush(){const e=arguments.length;this._syncList.push(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._syncList.push(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._syncList.push(["_removeElements",0,1])}_onDataSplice(e,r){this._syncList.push(["_removeElements",e,r]),this._syncList.push(["_insertElements",e,arguments.length-2])}_onDataUnshift(){this._syncList.push(["_insertElements",0,arguments.length])}}sr.defaults={};sr.prototype.datasetElementType=null;sr.prototype.dataElementType=null;function nS(t){if(!t._cache.$bar){const e=t.getMatchingVisibleMetas("bar");let r=[];for(let n=0,i=e.length;n<i;n++)r=r.concat(e[n].controller.getAllParsedValues(t));t._cache.$bar=Jd(r.sort((n,i)=>n-i))}return t._cache.$bar}function iS(t){const e=nS(t);let r=t._length,n,i,a,s;const o=()=>{a===32767||a===-32768||($t(s)&&(r=Math.min(r,Math.abs(a-s)||r)),s=a)};for(n=0,i=e.length;n<i;++n)a=t.getPixelForValue(e[n]),o();for(s=void 0,n=0,i=t.ticks.length;n<i;++n)a=t.getPixelForTick(n),o();return r}function aS(t,e,r,n){const i=r.barThickness;let a,s;return Se(i)?(a=e.min*r.categoryPercentage,s=r.barPercentage):(a=i*n,s=1),{chunk:a/n,ratio:s,start:e.pixels[t]-a/2}}function sS(t,e,r,n){const i=e.pixels,a=i[t];let s=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const l=r.categoryPercentage;s===null&&(s=a-(o===null?e.end-e.start:o-a)),o===null&&(o=a+a-s);const c=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/n,ratio:r.barPercentage,start:c}}function oS(t,e,r,n){const i=r.parse(t[0],n),a=r.parse(t[1],n),s=Math.min(i,a),o=Math.max(i,a);let l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),e[r.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:a,min:s,max:o}}function hh(t,e,r,n){return Fe(t)?oS(t,e,r,n):e[r.axis]=r.parse(t,n),e}function Du(t,e,r,n){const i=t.iScale,a=t.vScale,s=i.getLabels(),o=i===a,l=[];let c,u,f,d;for(c=r,u=r+n;c<u;++c)d=e[c],f={},f[i.axis]=o||i.parse(s[c],c),l.push(hh(d,f,a,c));return l}function ao(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}class ls extends sr{parsePrimitiveData(e,r,n,i){return Du(e,r,n,i)}parseArrayData(e,r,n,i){return Du(e,r,n,i)}parseObjectData(e,r,n,i){const{iScale:a,vScale:s}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=a.axis==="x"?o:l,u=s.axis==="x"?o:l,f=[];let d,p,h,g;for(d=n,p=n+i;d<p;++d)g=r[d],h={},h[a.axis]=a.parse(Pr(g,c),d),f.push(hh(Pr(g,u),h,s,d));return f}updateRangeFromParsed(e,r,n,i){super.updateRangeFromParsed(e,r,n,i);const a=n._custom;a&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getLabelAndValue(e){const r=this,n=r._cachedMeta,{iScale:i,vScale:a}=n,s=r.getParsed(e),o=s._custom,l=ao(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){const e=this;e.enableOptionSharing=!0,super.initialize();const r=e._cachedMeta;r.stack=e.getDataset().stack}update(e){const r=this,n=r._cachedMeta;r.updateElements(n.data,0,n.data.length,e)}updateElements(e,r,n,i){const a=this,s=i==="reset",o=a._cachedMeta.vScale,l=o.getBasePixel(),c=o.isHorizontal(),u=a._getRuler(),f=a.resolveDataElementOptions(r,i),d=a.getSharedOptions(f),p=a.includeOptions(i,d);a.updateSharedOptions(d,i,f);for(let h=r;h<r+n;h++){const g=a.getParsed(h),y=s||Se(g[o.axis])?{base:l,head:l}:a._calculateBarValuePixels(h),b=a._calculateBarIndexPixels(h,u),S=(g._stacks||{})[o.axis],E={horizontal:c,base:y.base,enableBorderRadius:!S||ao(g._custom)||a.index===S._top||a.index===S._bottom,x:c?y.head:b.center,y:c?b.center:y.head,height:c?b.size:void 0,width:c?void 0:b.size};p&&(E.options=d||a.resolveDataElementOptions(h,i)),a.updateElement(e[h],h,E,i)}}_getStacks(e,r){const n=this,a=n._cachedMeta.iScale,s=a.getMatchingVisibleMetas(n._type),o=a.options.stacked,l=s.length,c=[];let u,f;for(u=0;u<l;++u){if(f=s[u],typeof r<"u"){const d=f.controller.getParsed(r)[f.controller._cachedMeta.vScale.axis];if(Se(d)||isNaN(d))continue}if((o===!1||c.indexOf(f.stack)===-1||o===void 0&&f.stack===void 0)&&c.push(f.stack),f.index===e)break}return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){const i=this._getStacks(e,n),a=r!==void 0?i.indexOf(r):-1;return a===-1?i.length-1:a}_getRuler(){const e=this,r=e.options,n=e._cachedMeta,i=n.iScale,a=[];let s,o;for(s=0,o=n.data.length;s<o;++s)a.push(i.getPixelForValue(e.getParsed(s)[i.axis],s));const l=r.barThickness;return{min:l||iS(i),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:e._getStackCount(),scale:i,grouped:r.grouped,ratio:l?1:r.categoryPercentage*r.barPercentage}}_calculateBarValuePixels(e){const r=this,{vScale:n,_stacked:i}=r._cachedMeta,{base:a,minBarLength:s}=r.options,o=r.getParsed(e),l=o._custom,c=ao(l);let u=o[n.axis],f=0,d=i?r.applyStack(n,o,i):u,p,h;d!==u&&(f=d-u,d=u),c&&(u=l.barStart,d=l.barEnd-l.barStart,u!==0&&Or(u)!==Or(l.barEnd)&&(f=0),f+=u);const g=!Se(a)&&!c?a:f;let y=n.getPixelForValue(g);this.chart.getDataVisibility(e)?p=n.getPixelForValue(f+d):p=y,h=p-y,s!==void 0&&Math.abs(h)<s&&(h=h<0?-s:s,u===0&&(y-=h/2),p=y+h);const b=a||0;if(y===n.getPixelForValue(b)){const S=n.getLineWidthForValue(b)/2;h>0?(y+=S,h-=S):h<0&&(y-=S,h+=S)}return{size:h,base:y,head:p,center:p+h/2}}_calculateBarIndexPixels(e,r){const n=this,i=r.scale,a=n.options,s=a.skipNull,o=me(a.maxBarThickness,1/0);let l,c;if(r.grouped){const u=s?n._getStackCount(e):r.stackCount,f=a.barThickness==="flex"?sS(e,r,a,u):aS(e,r,a,u),d=n._getStackIndex(n.index,n._cachedMeta.stack,s?e:void 0);l=f.start+f.chunk*d+f.chunk/2,c=Math.min(o,f.chunk*f.ratio)}else l=i.getPixelForValue(n.getParsed(e)[i.axis],e),c=Math.min(o,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this,r=e.chart,n=e._cachedMeta,i=n.vScale,a=n.data,s=a.length;let o=0;for(ki(r.ctx,r.chartArea);o<s;++o)e.getParsed(o)[i.axis]!==null&&a[o].draw(e._ctx);Ni(r.ctx)}}ls.id="bar";ls.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};ls.overrides={interaction:{mode:"index"},scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class cs extends sr{initialize(){this.enableOptionSharing=!0,super.initialize()}parseObjectData(e,r,n,i){const{xScale:a,yScale:s}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=[];let u,f,d;for(u=n,f=n+i;u<f;++u)d=r[u],c.push({x:a.parse(Pr(d,o),u),y:s.parse(Pr(d,l),u),_custom:d&&d.r&&+d.r});return c}getMaxOverflow(){const{data:e,_parsed:r}=this._cachedMeta;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size()/2,r[i]._custom);return n>0&&n}getLabelAndValue(e){const r=this,n=r._cachedMeta,{xScale:i,yScale:a}=n,s=r.getParsed(e),o=i.getLabelForValue(s.x),l=a.getLabelForValue(s.y),c=s._custom;return{label:n.label,value:"("+o+", "+l+(c?", "+c:"")+")"}}update(e){const r=this,n=r._cachedMeta.data;r.updateElements(n,0,n.length,e)}updateElements(e,r,n,i){const a=this,s=i==="reset",{iScale:o,vScale:l}=a._cachedMeta,c=a.resolveDataElementOptions(r,i),u=a.getSharedOptions(c),f=a.includeOptions(i,u),d=o.axis,p=l.axis;for(let h=r;h<r+n;h++){const g=e[h],y=!s&&a.getParsed(h),b={},S=b[d]=s?o.getPixelForDecimal(.5):o.getPixelForValue(y[d]),E=b[p]=s?l.getBasePixel():l.getPixelForValue(y[p]);b.skip=isNaN(S)||isNaN(E),f&&(b.options=a.resolveDataElementOptions(h,i),s&&(b.options.radius=0)),a.updateElement(g,h,b,i)}a.updateSharedOptions(u,i,c)}resolveDataElementOptions(e,r){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,r);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const a=i.radius;return r!=="active"&&(i.radius=0),i.radius+=me(n&&n._custom,a),i}}cs.id="bubble";cs.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};cs.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function lS(t,e,r){let n=1,i=1,a=0,s=0;if(e<ke){const o=t,l=o+e,c=Math.cos(o),u=Math.sin(o),f=Math.cos(l),d=Math.sin(l),p=(E,B,I)=>Pa(E,o,l,!0)?1:Math.max(B,B*r,I,I*r),h=(E,B,I)=>Pa(E,o,l,!0)?-1:Math.min(B,B*r,I,I*r),g=p(0,c,f),y=p(je,u,d),b=h(Ge,c,f),S=h(Ge+je,u,d);n=(g-b)/2,i=(y-S)/2,a=-(g+b)/2,s=-(y+S)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:s}}class Di extends sr{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,i=this._cachedMeta;let a,s;for(a=e,s=e+r;a<s;++a)i._parsed[a]=+n[a]}_getRotation(){return Wt(this.options.rotation-90)}_getCircumference(){return Wt(this.options.circumference)}_getRotationExtents(){let e=ke,r=-ke;const n=this;for(let i=0;i<n.chart.data.datasets.length;++i)if(n.chart.isDatasetVisible(i)){const a=n.chart.getDatasetMeta(i).controller,s=a._getRotation(),o=a._getCircumference();e=Math.min(e,s),r=Math.max(r,s+o)}return{rotation:e,circumference:r-e}}update(e){const r=this,n=r.chart,{chartArea:i}=n,a=r._cachedMeta,s=a.data,o=r.getMaxBorderWidth()+r.getMaxOffset(s),l=Math.max((Math.min(i.width,i.height)-o)/2,0),c=Math.min(gb(r.options.cutout,l),1),u=r._getRingWeight(r.index),{circumference:f,rotation:d}=r._getRotationExtents(),{ratioX:p,ratioY:h,offsetX:g,offsetY:y}=lS(d,f,c),b=(i.width-o)/p,S=(i.height-o)/h,E=Math.max(Math.min(b,S)/2,0),B=Uo(r.options.radius,E),I=Math.max(B*c,0),T=(B-I)/r._getVisibleDatasetWeightTotal();r.offsetX=g*B,r.offsetY=y*B,a.total=r.calculateTotal(),r.outerRadius=B-T*r._getRingWeightOffset(r.index),r.innerRadius=Math.max(r.outerRadius-T*u,0),r.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this,i=n.options,a=n._cachedMeta,s=n._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null?0:n.calculateCircumference(a._parsed[e]*s/ke)}updateElements(e,r,n,i){const a=this,s=i==="reset",o=a.chart,l=o.chartArea,u=o.options.animation,f=(l.left+l.right)/2,d=(l.top+l.bottom)/2,p=s&&u.animateScale,h=p?0:a.innerRadius,g=p?0:a.outerRadius,y=a.resolveDataElementOptions(r,i),b=a.getSharedOptions(y),S=a.includeOptions(i,b);let E=a._getRotation(),B;for(B=0;B<r;++B)E+=a._circumference(B,s);for(B=r;B<r+n;++B){const I=a._circumference(B,s),T=e[B],N={x:f+a.offsetX,y:d+a.offsetY,startAngle:E,endAngle:E+I,circumference:I,outerRadius:g,innerRadius:h};S&&(N.options=b||a.resolveDataElementOptions(B,i)),E+=I,a.updateElement(T,B,N,i)}a.updateSharedOptions(b,i,y)}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,i;for(i=0;i<r.length;i++){const a=e._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&(n+=Math.abs(a))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?ke*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this,n=r._cachedMeta,i=r.chart,a=i.data.labels||[],s=Li(n._parsed[e],i.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){const r=this;let n=0;const i=r.chart;let a,s,o,l,c;if(!e){for(a=0,s=i.data.datasets.length;a<s;++a)if(i.isDatasetVisible(a)){o=i.getDatasetMeta(a),e=o.data,l=o.controller,l!==r&&l.configure();break}}if(!e)return 0;for(a=0,s=e.length;a<s;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let r=0;for(let n=0,i=e.length;n<i;++n){const a=this.resolveDataElementOptions(n);r=Math.max(r,a.offset||0,a.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(me(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Di.id="doughnut";Di.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",indexAxis:"r"};Di.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((r,n)=>{const a=t.getDatasetMeta(0).controller.getStyle(n);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:!t.getDataVisibility(n),index:n}}):[]}},onClick(t,e,r){r.chart.toggleDataVisibility(e.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const r=": "+t.formattedValue;return Fe(e)?(e=e.slice(),e[0]+=r):e+=r,e}}}}};class Pi extends sr{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const r=this,n=r._cachedMeta,{dataset:i,data:a=[],_dataset:s}=n,o=r.chart._animationsDisabled;let{start:l,count:c}=cS(n,a,o);r._drawStart=l,r._drawCount=c,uS(n)&&(l=0,c=a.length),i._decimated=!!s._decimated,i.points=a;const u=r.resolveDatasetElementOptions(e);r.options.showLine||(u.borderWidth=0),u.segment=r.options.segment,r.updateElement(i,void 0,{animated:!o,options:u},e),r.updateElements(a,l,c,e)}updateElements(e,r,n,i){const a=this,s=i==="reset",{iScale:o,vScale:l,_stacked:c}=a._cachedMeta,u=a.resolveDataElementOptions(r,i),f=a.getSharedOptions(u),d=a.includeOptions(i,f),p=o.axis,h=l.axis,g=a.options.spanGaps,y=Rn(g)?g:Number.POSITIVE_INFINITY,b=a.chart._animationsDisabled||s||i==="none";let S=r>0&&a.getParsed(r-1);for(let E=r;E<r+n;++E){const B=e[E],I=a.getParsed(E),T=b?B:{},N=Se(I[h]),D=T[p]=o.getPixelForValue(I[p],E),F=T[h]=s||N?l.getBasePixel():l.getPixelForValue(c?a.applyStack(l,I,c):I[h],E);T.skip=isNaN(D)||isNaN(F)||N,T.stop=E>0&&I[p]-S[p]>y,T.parsed=I,d&&(T.options=f||a.resolveDataElementOptions(E,i)),b||a.updateElement(B,E,T,i),S=I}a.updateSharedOptions(f,i,u)}getMaxOverflow(){const e=this,r=e._cachedMeta,n=r.dataset,i=n.options&&n.options.borderWidth||0,a=r.data||[];if(!a.length)return i;const s=a[0].size(e.resolveDataElementOptions(0)),o=a[a.length-1].size(e.resolveDataElementOptions(a.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Pi.id="line";Pi.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};Pi.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function cS(t,e,r){const n=e.length;let i=0,a=n;if(t._sorted){const{iScale:s,_parsed:o}=t,l=s.axis,{min:c,max:u,minDefined:f,maxDefined:d}=s.getUserBounds();f&&(i=_t(Math.min(Jr(o,s.axis,c).lo,r?n:Jr(e,l,s.getPixelForValue(c)).lo),0,n-1)),d?a=_t(Math.max(Jr(o,s.axis,u).hi+1,r?0:Jr(e,l,s.getPixelForValue(u)).hi+1),i,n)-i:a=n-i}return{start:i,count:a}}function uS(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;const a=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),a}class us extends sr{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this,n=r._cachedMeta,i=r.chart,a=i.data.labels||[],s=Li(n._parsed[e].r,i.options.locale);return{label:a[e]||"",value:s}}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}_updateRadius(){const e=this,r=e.chart,n=r.chartArea,i=r.options,a=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(a/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),l=(s-o)/r.getVisibleDatasetCount();e.outerRadius=s-l*e.index,e.innerRadius=e.outerRadius-l}updateElements(e,r,n,i){const a=this,s=i==="reset",o=a.chart,l=a.getDataset(),u=o.options.animation,f=a._cachedMeta.rScale,d=f.xCenter,p=f.yCenter,h=f.getIndexAngle(0)-.5*Ge;let g=h,y;const b=360/a.countVisibleElements();for(y=0;y<r;++y)g+=a._computeAngle(y,i,b);for(y=r;y<r+n;y++){const S=e[y];let E=g,B=g+a._computeAngle(y,i,b),I=o.getDataVisibility(y)?f.getDistanceFromCenterForValue(l.data[y]):0;g=B,s&&(u.animateScale&&(I=0),u.animateRotate&&(E=B=h));const T={x:d,y:p,innerRadius:0,outerRadius:I,startAngle:E,endAngle:B,options:a.resolveDataElementOptions(y,i)};a.updateElement(S,y,T,i)}}countVisibleElements(){const e=this.getDataset(),r=this._cachedMeta;let n=0;return r.data.forEach((i,a)=>{!isNaN(e.data[a])&&this.chart.getDataVisibility(a)&&n++}),n}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?Wt(this.resolveDataElementOptions(e,r).angle||n):0}}us.id="polarArea";us.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};us.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((r,n)=>{const a=t.getDatasetMeta(0).controller.getStyle(n);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:!t.getDataVisibility(n),index:n}}):[]}},onClick(t,e,r){r.chart.toggleDataVisibility(e.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class kl extends Di{}kl.id="pie";kl.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class fs extends sr{getLabelAndValue(e){const r=this,n=r._cachedMeta.vScale,i=r.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}update(e){const r=this,n=r._cachedMeta,i=n.dataset,a=n.data||[],s=n.iScale.getLabels();if(i.points=a,e!=="resize"){const o=r.resolveDatasetElementOptions(e);r.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===a.length,options:o};r.updateElement(i,void 0,l,e)}r.updateElements(a,0,a.length,e)}updateElements(e,r,n,i){const a=this,s=a.getDataset(),o=a._cachedMeta.rScale,l=i==="reset";for(let c=r;c<r+n;c++){const u=e[c],f=a.resolveDataElementOptions(c,i),d=o.getPointPositionForValue(c,s.data[c]),p=l?o.xCenter:d.x,h=l?o.yCenter:d.y,g={x:p,y:h,angle:d.angle,skip:isNaN(p)||isNaN(h),options:f};a.updateElement(u,c,g,i)}}}fs.id="radar";fs.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};fs.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class ds extends Pi{}ds.id="scatter";ds.defaults={showLine:!1,fill:!1};ds.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var fS=Object.freeze({__proto__:null,BarController:ls,BubbleController:cs,DoughnutController:Di,LineController:Pi,PolarAreaController:us,PieController:kl,RadarController:fs,ScatterController:ds});function Gr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ho{constructor(e){this.options=e||{}}formats(){return Gr()}parse(e,r){return Gr()}format(e,r){return Gr()}add(e,r,n){return Gr()}diff(e,r,n){return Gr()}startOf(e,r,n){return Gr()}endOf(e,r){return Gr()}}Ho.override=function(t){Object.assign(Ho.prototype,t)};var dS={_date:Ho};function ni(t,e){return"native"in t?{x:t.x,y:t.y}:sh(t,e)}function hS(t,e){const r=t.getSortedVisibleDatasetMetas();let n,i,a;for(let s=0,o=r.length;s<o;++s){({index:n,data:i}=r[s]);for(let l=0,c=i.length;l<c;++l)a=i[l],a.skip||e(a,n,l)}}function pS(t,e,r,n){const{controller:i,data:a,_sorted:s}=t,o=i._cachedMeta.iScale;if(o&&e===o.axis&&s&&a.length){const l=o._reversePixels?nC:Jr;if(n){if(i._sharedOptions){const c=a[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const f=l(a,e,r-u),d=l(a,e,r+u);return{lo:f.lo,hi:d.hi}}}}else return l(a,e,r)}return{lo:0,hi:a.length-1}}function ph(t,e,r,n,i){const a=t.getSortedVisibleDatasetMetas(),s=r[e];for(let o=0,l=a.length;o<l;++o){const{index:c,data:u}=a[o],{lo:f,hi:d}=pS(a[o],e,s,i);for(let p=f;p<=d;++p){const h=u[p];h.skip||n(h,c,p)}}}function gS(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,i){const a=e?Math.abs(n.x-i.x):0,s=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}function so(t,e,r,n){const i=[];return kn(e,t.chartArea,t._minPadding)&&ph(t,r,e,function(s,o,l){s.inRange(e.x,e.y,n)&&i.push({element:s,datasetIndex:o,index:l})},!0),i}function oo(t,e,r,n,i){const a=gS(r);let s=Number.POSITIVE_INFINITY,o=[];return kn(e,t.chartArea,t._minPadding)&&ph(t,r,e,function(c,u,f){if(n&&!c.inRange(e.x,e.y,i))return;const d=c.getCenterPoint(i);if(!kn(d,t.chartArea,t._minPadding))return;const p=a(e,d);p<s?(o=[{element:c,datasetIndex:u,index:f}],s=p):p===s&&o.push({element:c,datasetIndex:u,index:f})}),o}function Pu(t,e,r,n){const i=ni(e,t),a=[],s=r.axis,o=s==="x"?"inXRange":"inYRange";let l=!1;return hS(t,(c,u,f)=>{c[o](i[s],n)&&a.push({element:c,datasetIndex:u,index:f}),c.inRange(i.x,i.y,n)&&(l=!0)}),r.intersect&&!l?[]:a}var yS={modes:{index(t,e,r,n){const i=ni(e,t),a=r.axis||"x",s=r.intersect?so(t,i,a,n):oo(t,i,a,!1,n),o=[];return s.length?(t.getSortedVisibleDatasetMetas().forEach(l=>{const c=s[0].index,u=l.data[c];u&&!u.skip&&o.push({element:u,datasetIndex:l.index,index:c})}),o):[]},dataset(t,e,r,n){const i=ni(e,t),a=r.axis||"xy";let s=r.intersect?so(t,i,a,n):oo(t,i,a,!1,n);if(s.length>0){const o=s[0].datasetIndex,l=t.getDatasetMeta(o).data;s=[];for(let c=0;c<l.length;++c)s.push({element:l[c],datasetIndex:o,index:c})}return s},point(t,e,r,n){const i=ni(e,t),a=r.axis||"xy";return so(t,i,a,n)},nearest(t,e,r,n){const i=ni(e,t),a=r.axis||"xy";return oo(t,i,a,r.intersect,n)},x(t,e,r,n){return r.axis="x",Pu(t,e,r,n)},y(t,e,r,n){return r.axis="y",Pu(t,e,r,n)}}};const mS=["left","top","right","bottom"];function Yn(t,e){return t.filter(r=>r.pos===e)}function Ou(t,e){return t.filter(r=>mS.indexOf(r.pos)===-1&&r.box.axis===e)}function Qn(t,e){return t.sort((r,n)=>{const i=e?n:r,a=e?r:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function vS(t){const e=[];let r,n,i;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],e.push({index:r,box:i,pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return e}function xS(t,e){let r,n,i;for(r=0,n=t.length;r<n;++r)i=t[r],i.horizontal?(i.width=i.box.fullSize&&e.availableWidth,i.height=e.hBoxMaxHeight):(i.width=e.vBoxMaxWidth,i.height=i.box.fullSize&&e.availableHeight)}function bS(t){const e=vS(t),r=Qn(e.filter(c=>c.box.fullSize),!0),n=Qn(Yn(e,"left"),!0),i=Qn(Yn(e,"right")),a=Qn(Yn(e,"top"),!0),s=Qn(Yn(e,"bottom")),o=Ou(e,"x"),l=Ou(e,"y");return{fullSize:r,leftAndTop:n.concat(a),rightAndBottom:i.concat(l).concat(s).concat(o),chartArea:Yn(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:a.concat(s).concat(o)}}function Mu(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function gh(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function CS(t,e,r){const n=r.box,i=t.maxPadding;Ae(r.pos)||(r.size&&(t[r.pos]-=r.size),r.size=r.horizontal?n.height:n.width,t[r.pos]+=r.size),n.getPadding&&gh(i,n.getPadding());const a=Math.max(0,e.outerWidth-Mu(i,t,"left","right")),s=Math.max(0,e.outerHeight-Mu(i,t,"top","bottom")),o=a!==t.w,l=s!==t.h;return t.w=a,t.h=s,r.horizontal?{same:o,other:l}:{same:l,other:o}}function SS(t){const e=t.maxPadding;function r(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function ES(t,e){const r=e.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{a[s]=Math.max(e[s],r[s])}),a}return n(t?["left","right"]:["top","bottom"])}function ii(t,e,r){const n=[];let i,a,s,o,l,c;for(i=0,a=t.length,l=0;i<a;++i){s=t[i],o=s.box,o.update(s.width||e.w,s.height||e.h,ES(s.horizontal,e));const{same:u,other:f}=CS(e,r,s);l|=u&&n.length,c=c||f,o.fullSize||n.push(s)}return l&&ii(n,e,r)||c}function Uu(t,e,r){const n=r.padding;let i=e.x,a=e.y,s,o,l,c;for(s=0,o=t.length;s<o;++s)l=t[s],c=l.box,l.horizontal?(c.left=c.fullSize?n.left:e.left,c.right=c.fullSize?r.outerWidth-n.right:e.left+e.w,c.top=a,c.bottom=a+c.height,c.width=c.right-c.left,a=c.bottom):(c.left=i,c.right=i+c.width,c.top=c.fullSize?n.top:e.top,c.bottom=c.fullSize?r.outerHeight-n.right:e.top+e.h,c.height=c.bottom-c.top,i=c.right);e.x=i,e.y=a}be.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var Ft={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const i=Ct(t.options.layout.padding),a=Math.max(e-i.width,0),s=Math.max(r-i.height,0),o=bS(t.boxes),l=o.vertical,c=o.horizontal;we(t.boxes,h=>{typeof h.beforeLayout=="function"&&h.beforeLayout()});const u=l.reduce((h,g)=>g.box.options&&g.box.options.display===!1?h:h+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/u,hBoxMaxHeight:s/2}),d=Object.assign({},i);gh(d,Ct(n));const p=Object.assign({maxPadding:d,w:a,h:s,x:i.left,y:i.top},i);xS(l.concat(c),f),ii(o.fullSize,p,f),ii(l,p,f),ii(c,p,f)&&ii(l,p,f),SS(p),Uu(o.leftAndTop,p,f),p.x+=p.w,p.y+=p.h,Uu(o.rightAndBottom,p,f),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},we(o.chartArea,h=>{const g=h.box;Object.assign(g,t.chartArea),g.update(p.w,p.h)})}};class yh{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,i){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(e){return!0}}class _S extends yh{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}}const ga="$chartjs",TS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Fu=t=>t===null||t==="";function AS(t,e){const r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[ga]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Fu(i)){const a=Su(t,"width");a!==void 0&&(t.width=a)}if(Fu(n))if(t.style.height==="")t.height=t.width/(e||2);else{const a=Su(t,"height");a!==void 0&&(t.height=a)}return t}const mh=wC?{passive:!0}:!1;function IS(t,e,r){t.addEventListener(e,r,mh)}function wS(t,e,r){t.canvas.removeEventListener(e,r,mh)}function BS(t,e){const r=TS[t.type]||t.type,{x:n,y:i}=sh(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function RS(t,e,r){const n=t.canvas,a=n&&on(n)||n,s=new MutationObserver(o=>{const l=on(a);o.forEach(c=>{for(let u=0;u<c.addedNodes.length;u++){const f=c.addedNodes[u];(f===a||f===l)&&r(c.target)}})});return s.observe(document,{childList:!0,subtree:!0}),s}function kS(t,e,r){const n=t.canvas,i=n&&on(n);if(!i)return;const a=new MutationObserver(s=>{s.forEach(o=>{for(let l=0;l<o.removedNodes.length;l++)if(o.removedNodes[l]===n){r();break}})});return a.observe(i,{childList:!0}),a}const Si=new Map;let Vu=0;function vh(){const t=window.devicePixelRatio;t!==Vu&&(Vu=t,Si.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function NS(t,e){Si.size||window.addEventListener("resize",vh),Si.set(t,e)}function LS(t){Si.delete(t),Si.size||window.removeEventListener("resize",vh)}function DS(t,e,r){const n=t.canvas,i=n&&on(n);if(!i)return;const a=Hd((o,l)=>{const c=i.clientWidth;r(o,l),c<i.clientWidth&&r()},window),s=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||a(c,u)});return s.observe(i),NS(t,a),s}function lo(t,e,r){r&&r.disconnect(),e==="resize"&&LS(t)}function PS(t,e,r){const n=t.canvas,i=Hd(a=>{t.ctx!==null&&r(BS(a,t))},t,a=>{const s=a[0];return[s,s.offsetX,s.offsetY]});return IS(n,e,i),i}class OS extends yh{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(AS(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[ga])return!1;const n=r[ga].initial;["height","width"].forEach(a=>{const s=n[a];Se(s)?r.removeAttribute(a):r.setAttribute(a,s)});const i=n.style||{};return Object.keys(i).forEach(a=>{r.style[a]=i[a]}),r.width=r.width,delete r[ga],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const i=e.$proxies||(e.$proxies={}),s={attach:RS,detach:kS,resize:DS}[r]||PS;i[r]=s(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),i=n[r];if(!i)return;({attach:lo,detach:lo,resize:lo}[r]||wS)(e,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,i){return IC(e,r,n,i)}isAttached(e){const r=on(e);return!!(r&&on(r))}}let Gt=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Rn(this.x)&&Rn(this.y)}getProps(e,r){const n=this,i=this.$animations;if(!r||!i)return n;const a={};return e.forEach(s=>{a[s]=i[s]&&i[s].active()?i[s]._to:n[s]}),a}};Gt.defaults={};Gt.defaultRoutes=void 0;const xh={values(t){return Fe(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let i,a=t;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),a=MS(t,r)}const s=Dt(Math.abs(a)),o=Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Li(t,n,l)},logarithmic(t,e,r){if(t===0)return"0";const n=t/Math.pow(10,Math.floor(Dt(t)));return n===1||n===2||n===5?xh.numeric.call(this,t,e,r):""}};function MS(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var hs={formatters:xh};be.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hs.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});be.route("scale.ticks","color","","color");be.route("scale.grid","color","","borderColor");be.route("scale.grid","borderColor","","borderColor");be.route("scale.title","color","","color");be.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});be.describe("scales",{_fallback:"scale"});function US(t,e){const r=t.options.ticks,n=r.maxTicksLimit||FS(t),i=r.major.enabled?KS(e):[],a=i.length,s=i[0],o=i[a-1],l=[];if(a>n)return zS(e,l,i,a/n),l;const c=VS(i,e,n);if(a>0){let u,f;const d=a>1?Math.round((o-s)/(a-1)):null;for(na(e,l,c,Se(d)?0:s-d,s),u=0,f=a-1;u<f;u++)na(e,l,c,i[u],i[u+1]);return na(e,l,c,o,Se(d)?e.length:o+d),l}return na(e,l,c),l}function FS(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}function VS(t,e,r){const n=HS(t),i=e.length/r;if(!n)return Math.max(i,1);const a=Eb(n);for(let s=0,o=a.length-1;s<o;s++){const l=a[s];if(l>i)return l}return Math.max(i,1)}function KS(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function zS(t,e,r,n){let i=0,a=r[0],s;for(n=Math.ceil(n),s=0;s<t.length;s++)s===a&&(e.push(t[s]),i++,a=r[i*n])}function na(t,e,r,n,i){const a=me(n,0),s=Math.min(me(i,t.length),t.length);let o=0,l,c,u;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),u=a;u<0;)o++,u=Math.round(a+o*r);for(c=Math.max(a,0);c<s;c++)c===u&&(e.push(t[c]),o++,u=Math.round(a+o*r))}function HS(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const WS=t=>t==="left"?"right":t==="right"?"left":t,Ku=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r;function zu(t,e){const r=[],n=t.length/e,i=t.length;let a=0;for(;a<i;a+=n)r.push(t[Math.floor(a)]);return r}function $S(t,e,r){const n=t.ticks.length,i=Math.min(e,n-1),a=t._startPixel,s=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),c;if(!(r&&(n===1?c=Math.max(l-a,s-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<a-o||l>s+o)))return l}function GS(t,e){we(t,r=>{const n=r.gc,i=n.length/2;let a;if(i>e){for(a=0;a<i;++a)delete r.data[n[a]];n.splice(0,i)}})}function Xn(t){return t.drawTicks?t.tickLength:0}function Hu(t,e){if(!t.display)return 0;const r=nt(t.font,e),n=Ct(t.padding);return(Fe(t.text)?t.text.length:1)*r.lineHeight+n.height}function jS(t,e){return Object.assign(Object.create(t),{scale:e,type:"scale"})}function qS(t,e,r){return Object.assign(Object.create(t),{tick:r,index:e,type:"tick"})}function YS(t,e,r){let n=Cl(t);return(r&&e!=="right"||!r&&e==="right")&&(n=WS(n)),n}function QS(t,e,r,n){const{top:i,left:a,bottom:s,right:o}=t;let l=0,c,u,f;return t.isHorizontal()?(u=yt(n,a,o),f=Ku(t,r,e),c=o-a):(u=Ku(t,r,e),f=yt(n,s,i),l=r==="left"?-je:je),{titleX:u,titleY:f,maxWidth:c,rotation:l}}class fn extends Gt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){const r=this;r.options=e.setContext(r.getContext()),r.axis=e.axis,r._userMin=r.parse(e.min),r._userMax=r.parse(e.max),r._suggestedMin=r.parse(e.suggestedMin),r._suggestedMax=r.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return e=Nt(e,Number.POSITIVE_INFINITY),r=Nt(r,Number.NEGATIVE_INFINITY),n=Nt(n,Number.POSITIVE_INFINITY),i=Nt(i,Number.NEGATIVE_INFINITY),{min:Nt(e,n),max:Nt(r,i),minDefined:qe(e),maxDefined:qe(r)}}getMinMax(e){const r=this;let{min:n,max:i,minDefined:a,maxDefined:s}=r.getUserBounds(),o;if(a&&s)return{min:n,max:i};const l=r.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)o=l[c].controller.getMinMax(r,e),a||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return{min:Nt(n,Nt(i,n)),max:Nt(i,Nt(n,i))}}getPadding(){const e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Le(this.options.beforeUpdate,[this])}update(e,r,n){const i=this,a=i.options.ticks,s=a.sampleSize;i.beforeUpdate(),i.maxWidth=e,i.maxHeight=r,i._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),i.ticks=null,i._labelSizes=null,i._gridLineItems=null,i._labelItems=null,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i._maxLength=i.isHorizontal()?i.width+n.left+n.right:i.height+n.top+n.bottom,i._dataLimitsCached||(i.beforeDataLimits(),i.determineDataLimits(),i.afterDataLimits(),i._range=rC(i,i.options.grace),i._dataLimitsCached=!0),i.beforeBuildTicks(),i.ticks=i.buildTicks()||[],i.afterBuildTicks();const o=s<i.ticks.length;i._convertTicksToLabels(o?zu(i.ticks,s):i.ticks),i.configure(),i.beforeCalculateLabelRotation(),i.calculateLabelRotation(),i.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(i.ticks=US(i,i.ticks),i._labelSizes=null),o&&i._convertTicksToLabels(i.ticks),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate()}configure(){const e=this;let r=e.options.reverse,n,i;e.isHorizontal()?(n=e.left,i=e.right):(n=e.top,i=e.bottom,r=!r),e._startPixel=n,e._endPixel=i,e._reversePixels=r,e._length=i-n,e._alignToPixels=e.options.alignToPixels}afterUpdate(){Le(this.options.afterUpdate,[this])}beforeSetDimensions(){Le(this.options.beforeSetDimensions,[this])}setDimensions(){const e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0}afterSetDimensions(){Le(this.options.afterSetDimensions,[this])}_callHooks(e){const r=this;r.chart.notifyPlugins(e,r.getContext()),Le(r.options[e],[r])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this,n=r.options.ticks;let i,a,s;for(i=0,a=e.length;i<a;i++)s=e[i],s.label=Le(n.callback,[s.value,i,e],r);for(i=0;i<a;i++)Se(e[i].label)&&(e.splice(i,1),a--,i--)}afterTickToLabelConversion(){Le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this,r=e.options,n=r.ticks,i=e.ticks.length,a=n.minRotation||0,s=n.maxRotation;let o=a,l,c,u;if(!e._isVisible()||!n.display||a>=s||i<=1||!e.isHorizontal()){e.labelRotation=a;return}const f=e._getLabelSizes(),d=f.widest.width,p=f.highest.height,h=_t(e.chart.width-d,0,e.maxWidth);l=r.offset?e.maxWidth/i:h/(i-1),d+6>l&&(l=h/(i-(r.offset?.5:1)),c=e.maxHeight-Xn(r.grid)-n.padding-Hu(r.title,e.chart.options.font),u=Math.sqrt(d*d+p*p),o=Fo(Math.min(Math.asin(Math.min((f.highest.height+6)/l,1)),Math.asin(Math.min(c/u,1))-Math.asin(p/u))),o=Math.max(a,Math.min(s,o))),e.labelRotation=o}afterCalculateLabelRotation(){Le(this.options.afterCalculateLabelRotation,[this])}beforeFit(){Le(this.options.beforeFit,[this])}fit(){const e=this,r={width:0,height:0},{chart:n,options:{ticks:i,title:a,grid:s}}=e,o=e._isVisible(),l=e.isHorizontal();if(o){const c=Hu(a,n.options.font);if(l?(r.width=e.maxWidth,r.height=Xn(s)+c):(r.height=e.maxHeight,r.width=Xn(s)+c),i.display&&e.ticks.length){const{first:u,last:f,widest:d,highest:p}=e._getLabelSizes(),h=i.padding*2,g=Wt(e.labelRotation),y=Math.cos(g),b=Math.sin(g);if(l){const S=i.mirror?0:b*d.width+y*p.height;r.height=Math.min(e.maxHeight,r.height+S+h)}else{const S=i.mirror?0:y*d.width+b*p.height;r.width=Math.min(e.maxWidth,r.width+S+h)}e._calculatePadding(u,f,b,y)}}e._handleMargins(),l?(e.width=e._length=n.width-e._margins.left-e._margins.right,e.height=r.height):(e.width=r.width,e.height=e._length=n.height-e._margins.top-e._margins.bottom)}_calculatePadding(e,r,n,i){const a=this,{ticks:{align:s,padding:o},position:l}=a.options,c=a.labelRotation!==0,u=l!=="top"&&a.axis==="x";if(a.isHorizontal()){const f=a.getPixelForTick(0)-a.left,d=a.right-a.getPixelForTick(a.ticks.length-1);let p=0,h=0;c?u?(p=i*e.width,h=n*r.height):(p=n*e.height,h=i*r.width):s==="start"?h=r.width:s==="end"?p=e.width:(p=e.width/2,h=r.width/2),a.paddingLeft=Math.max((p-f+o)*a.width/(a.width-f),0),a.paddingRight=Math.max((h-d+o)*a.width/(a.width-d),0)}else{let f=r.height/2,d=e.height/2;s==="start"?(f=0,d=e.height):s==="end"&&(f=r.height,d=0),a.paddingTop=f+o,a.paddingBottom=d+o}}_handleMargins(){const e=this;e._margins&&(e._margins.left=Math.max(e.paddingLeft,e._margins.left),e._margins.top=Math.max(e.paddingTop,e._margins.top),e._margins.right=Math.max(e.paddingRight,e._margins.right),e._margins.bottom=Math.max(e.paddingBottom,e._margins.bottom))}afterFit(){Le(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){const r=this;r.beforeTickToLabelConversion(),r.generateTickLabels(e),r.afterTickToLabelConversion()}_getLabelSizes(){const e=this;let r=e._labelSizes;if(!r){const n=e.options.ticks.sampleSize;let i=e.ticks;n<i.length&&(i=zu(i,n)),e._labelSizes=r=e._computeLabelSizes(i,i.length)}return r}_computeLabelSizes(e,r){const{ctx:n,_longestTextCache:i}=this,a=[],s=[];let o=0,l=0,c,u,f,d,p,h,g,y,b,S,E;for(c=0;c<r;++c){if(d=e[c].label,p=this._resolveTickFontOptions(c),n.font=h=p.string,g=i[h]=i[h]||{data:{},gc:[]},y=p.lineHeight,b=S=0,!Se(d)&&!Fe(d))b=Ma(n,g.data,g.gc,b,d),S=y;else if(Fe(d))for(u=0,f=d.length;u<f;++u)E=d[u],!Se(E)&&!Fe(E)&&(b=Ma(n,g.data,g.gc,b,E),S+=y);a.push(b),s.push(S),o=Math.max(b,o),l=Math.max(S,l)}GS(i,r);const B=a.indexOf(o),I=s.indexOf(l),T=N=>({width:a[N]||0,height:s[N]||0});return{first:T(0),last:T(r-1),widest:T(B),highest:T(I),widths:a,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){const r=this;r._reversePixels&&(e=1-e);const n=r._startPixel+e*r._length;return Ib(r._alignToPixels?$r(r.chart,n,0):n)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this,n=r.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=qS(r.getContext(),e,i))}return r.$context||(r.$context=jS(r.chart.getContext(),r))}_tickSize(){const e=this,r=e.options.ticks,n=Wt(e.labelRotation),i=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),s=e._getLabelSizes(),o=r.autoSkipPadding||0,l=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return e.isHorizontal()?c*i>l*a?l/i:c/a:c*a<l*i?c/i:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this,n=r.axis,i=r.chart,a=r.options,{grid:s,position:o}=a,l=s.offset,c=r.isHorizontal(),f=r.ticks.length+(l?1:0),d=Xn(s),p=[],h=s.setContext(r.getContext()),g=h.drawBorder?h.borderWidth:0,y=g/2,b=function(q){return $r(i,q,g)};let S,E,B,I,T,N,D,F,H,j,J,X;if(o==="top")S=b(r.bottom),N=r.bottom-d,F=S-y,j=b(e.top)+y,X=e.bottom;else if(o==="bottom")S=b(r.top),j=e.top,X=b(e.bottom)-y,N=S+y,F=r.top+d;else if(o==="left")S=b(r.right),T=r.right-d,D=S-y,H=b(e.left)+y,J=e.right;else if(o==="right")S=b(r.left),H=e.left,J=b(e.right)-y,T=S+y,D=r.left+d;else if(n==="x"){if(o==="center")S=b((e.top+e.bottom)/2+.5);else if(Ae(o)){const q=Object.keys(o)[0],ee=o[q];S=b(r.chart.scales[q].getPixelForValue(ee))}j=e.top,X=e.bottom,N=S+y,F=N+d}else if(n==="y"){if(o==="center")S=b((e.left+e.right)/2);else if(Ae(o)){const q=Object.keys(o)[0],ee=o[q];S=b(r.chart.scales[q].getPixelForValue(ee))}T=S-y,D=T-d,H=e.left,J=e.right}for(E=0;E<f;++E){const q=s.setContext(r.getContext(E)),ee=q.lineWidth,ie=q.color,W=s.borderDash||[],K=q.borderDashOffset,te=q.tickWidth,Q=q.tickColor,oe=q.tickBorderDash||[],le=q.tickBorderDashOffset;B=$S(r,E,l),B!==void 0&&(I=$r(i,B,ee),c?T=D=H=J=I:N=F=j=X=I,p.push({tx1:T,ty1:N,tx2:D,ty2:F,x1:H,y1:j,x2:J,y2:X,width:ee,color:ie,borderDash:W,borderDashOffset:K,tickWidth:te,tickColor:Q,tickBorderDash:oe,tickBorderDashOffset:le}))}return r._ticksLength=f,r._borderValue=S,p}_computeLabelItems(e){const r=this,n=r.axis,i=r.options,{position:a,ticks:s}=i,o=r.isHorizontal(),l=r.ticks,{align:c,crossAlign:u,padding:f,mirror:d}=s,p=Xn(i.grid),h=p+f,g=d?-f:h,y=-Wt(r.labelRotation),b=[];let S,E,B,I,T,N,D,F,H,j,J,X,q="middle";if(a==="top")N=r.bottom-g,D=r._getXAxisLabelAlignment();else if(a==="bottom")N=r.top+g,D=r._getXAxisLabelAlignment();else if(a==="left"){const ie=r._getYAxisLabelAlignment(p);D=ie.textAlign,T=ie.x}else if(a==="right"){const ie=r._getYAxisLabelAlignment(p);D=ie.textAlign,T=ie.x}else if(n==="x"){if(a==="center")N=(e.top+e.bottom)/2+h;else if(Ae(a)){const ie=Object.keys(a)[0],W=a[ie];N=r.chart.scales[ie].getPixelForValue(W)+h}D=r._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")T=(e.left+e.right)/2-h;else if(Ae(a)){const ie=Object.keys(a)[0],W=a[ie];T=r.chart.scales[ie].getPixelForValue(W)}D=r._getYAxisLabelAlignment(p).textAlign}n==="y"&&(c==="start"?q="top":c==="end"&&(q="bottom"));const ee=r._getLabelSizes();for(S=0,E=l.length;S<E;++S){B=l[S],I=B.label;const ie=s.setContext(r.getContext(S));F=r.getPixelForTick(S)+s.labelOffset,H=r._resolveTickFontOptions(S),j=H.lineHeight,J=Fe(I)?I.length:1;const W=J/2,K=ie.color,te=ie.textStrokeColor,Q=ie.textStrokeWidth;o?(T=F,a==="top"?u==="near"||y!==0?X=-J*j+j/2:u==="center"?X=-ee.highest.height/2-W*j+j:X=-ee.highest.height+j/2:u==="near"||y!==0?X=j/2:u==="center"?X=ee.highest.height/2-W*j:X=ee.highest.height-J*j,d&&(X*=-1)):(N=F,X=(1-J)*j/2);let oe;if(ie.showLabelBackdrop){const le=Ct(ie.backdropPadding),Be=ee.heights[S],Te=ee.widths[S];let ae=N+X-le.top,_e=T-le.left;switch(q){case"middle":ae-=Be/2;break;case"bottom":ae-=Be;break}switch(D){case"center":_e-=Te/2;break;case"right":_e-=Te;break}oe={left:_e,top:ae,width:Te+le.width,height:Be+le.height,color:ie.backdropColor}}b.push({rotation:y,label:I,font:H,color:K,strokeColor:te,strokeWidth:Q,textOffset:X,textAlign:D,textBaseline:q,translation:[T,N],backdrop:oe})}return b}_getXAxisLabelAlignment(){const e=this,{position:r,ticks:n}=e.options;if(-Wt(e.labelRotation))return r==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"&&(a="right"),a}_getYAxisLabelAlignment(e){const r=this,{position:n,ticks:{crossAlign:i,mirror:a,padding:s}}=r.options,o=r._getLabelSizes(),l=e+s,c=o.widest.width;let u,f;return n==="left"?a?(u="left",f=r.right+s):(f=r.right-l,i==="near"?u="right":i==="center"?(u="center",f-=c/2):(u="left",f=r.left)):n==="right"?a?(u="right",f=r.left+s):(f=r.left+l,i==="near"?u="left":i==="center"?(u="center",f+=c/2):(u="right",f=r.right)):u="right",{textAlign:u,x:f}}_computeLabelArea(){const e=this;if(e.options.ticks.mirror)return;const r=e.chart,n=e.options.position;if(n==="left"||n==="right")return{top:0,left:e.left,bottom:r.height,right:e.right};if(n==="top"||n==="bottom")return{top:e.top,left:0,bottom:e.bottom,right:r.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:i,width:a,height:s}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,i,a,s),e.restore())}getLineWidthForValue(e){const r=this,n=r.options.grid;if(!r._isVisible()||!n.display)return 0;const a=r.ticks.findIndex(s=>s.value===e);return a>=0?n.setContext(r.getContext(a)).lineWidth:0}drawGrid(e){const r=this,n=r.options.grid,i=r.ctx,a=r._gridLineItems||(r._gridLineItems=r._computeGridLineItems(e));let s,o;const l=(c,u,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=a.length;s<o;++s){const c=a[s];n.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const e=this,{chart:r,ctx:n,options:{grid:i}}=e,a=i.setContext(e.getContext()),s=i.drawBorder?a.borderWidth:0;if(!s)return;const o=i.setContext(e.getContext(0)).lineWidth,l=e._borderValue;let c,u,f,d;e.isHorizontal()?(c=$r(r,e.left,s)-s/2,u=$r(r,e.right,o)+o/2,f=d=l):(f=$r(r,e.top,s)-s/2,d=$r(r,e.bottom,o)+o/2,c=u=l),n.save(),n.lineWidth=a.borderWidth,n.strokeStyle=a.borderColor,n.beginPath(),n.moveTo(c,f),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(e){const r=this;if(!r.options.ticks.display)return;const i=r.ctx,a=r._computeLabelArea();a&&ki(i,a);const s=r._labelItems||(r._labelItems=r._computeLabelItems(e));let o,l;for(o=0,l=s.length;o<l;++o){const c=s[o],u=c.font,f=c.label;c.backdrop&&(i.fillStyle=c.backdrop.color,i.fillRect(c.backdrop.left,c.backdrop.top,c.backdrop.width,c.backdrop.height));let d=c.textOffset;sn(i,f,0,d,u,c)}a&&Ni(i)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const a=nt(n.font),s=Ct(n.padding),o=n.align;let l=a.lineHeight/2;r==="bottom"?(l+=s.bottom,Fe(n.text)&&(l+=a.lineHeight*(n.text.length-1))):l+=s.top;const{titleX:c,titleY:u,maxWidth:f,rotation:d}=QS(this,l,r,o);sn(e,n.text,0,0,a,{color:n.color,maxWidth:f,rotation:d,textAlign:YS(o,r,i),textBaseline:"middle",translation:[c,u]})}draw(e){const r=this;r._isVisible()&&(r.drawBackground(),r.drawGrid(e),r.drawBorder(),r.drawTitle(),r.drawLabels(e))}_layers(){const e=this,r=e.options,n=r.ticks&&r.ticks.z||0,i=r.grid&&r.grid.z||0;return!e._isVisible()||e.draw!==fn.prototype.draw?[{z:n,draw(a){e.draw(a)}}]:[{z:i,draw(a){e.drawBackground(),e.drawGrid(a),e.drawTitle()}},{z:i+1,draw(){e.drawBorder()}},{z:n,draw(a){e.drawLabels(a)}}]}getMatchingVisibleMetas(e){const r=this,n=r.chart.getSortedVisibleDatasetMetas(),i=r.axis+"AxisID",a=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];l[i]===r.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return nt(r.font)}_maxDigits(){const e=this,r=e._resolveTickFontOptions(0).lineHeight;return(e.isHorizontal()?e.width:e.height)/r}}class ia{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=this,n=Object.getPrototypeOf(e);let i;JS(n)&&(i=r.register(n));const a=r.items,s=e.id,o=r.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,XS(e,o,i),r.override&&be.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,i=this.scope;n in r&&delete r[n],i&&n in be[i]&&(delete be[i][n],this.override&&delete an[n])}}function XS(t,e,r){const n=bi(Object.create(null),[r?be.get(r):{},be.get(e),t.defaults]);be.set(e,n),t.defaultRoutes&&ZS(e,t.defaultRoutes),t.descriptors&&be.describe(e,t.descriptors)}function ZS(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),i=n.pop(),a=[t].concat(n).join("."),s=e[r].split("."),o=s.pop(),l=s.join(".");be.route(a,i,l,o)})}function JS(t){return"id"in t&&"defaults"in t}class eE{constructor(){this.controllers=new ia(sr,"datasets",!0),this.elements=new ia(Gt,"elements"),this.plugins=new ia(Object,"plugins"),this.scales=new ia(fn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){const i=this;[...r].forEach(a=>{const s=n||i._getRegistryForType(a);n||s.isForType(a)||s===i.plugins&&a.id?i._exec(e,s,a):we(a,o=>{const l=n||i._getRegistryForType(o);i._exec(e,l,o)})})}_exec(e,r,n){const i=Sl(e);Le(n["before"+i],[],n),r[e](n),Le(n["after"+i],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const i=r.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var yr=new eE;class tE{constructor(){this._init=[]}notify(e,r,n,i){const a=this;r==="beforeInit"&&(a._init=a._createDescriptors(e,!0),a._notify(a._init,e,"install"));const s=i?a._descriptors(e).filter(i):a._descriptors(e),o=a._notify(s,e,r,n);return r==="destroy"&&(a._notify(s,e,"stop"),a._notify(a._init,e,"uninstall")),o}_notify(e,r,n,i){i=i||{};for(const a of e){const s=a.plugin,o=s[n],l=[r,i,a.options];if(Le(o,l,s)===!1&&i.cancelable)return!1}return!0}invalidate(){Se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,i=me(n.options&&n.options.plugins,{}),a=rE(n);return i===!1&&!r?[]:iE(e,a,i,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,i=(a,s)=>a.filter(o=>!s.some(l=>o.plugin.id===l.plugin.id));this._notify(i(r,n),e,"stop"),this._notify(i(n,r),e,"start")}}function rE(t){const e=[],r=Object.keys(yr.plugins.items);for(let i=0;i<r.length;i++)e.push(yr.getPlugin(r[i]));const n=t.plugins||[];for(let i=0;i<n.length;i++){const a=n[i];e.indexOf(a)===-1&&e.push(a)}return e}function nE(t,e){return!e&&t===!1?null:t===!0?{}:t}function iE(t,e,r,n){const i=[],a=t.getContext();for(let s=0;s<e.length;s++){const o=e[s],l=o.id,c=nE(r[l],n);c!==null&&i.push({plugin:o,options:aE(t.config,o,c,a)})}return i}function aE(t,e,r,n){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return t.createResolver(a,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wo(t,e){const r=be.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function sE(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function oE(t,e){return t===e?"_index_":"_value_"}function lE(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function $o(t,e){return t==="x"||t==="y"?t:e.axis||lE(e.position)||t.charAt(0).toLowerCase()}function cE(t,e){const r=an[t.type]||{scales:{}},n=e.scales||{},i=Wo(t.type,e),a=Object.create(null),s=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o],c=$o(o,l),u=oE(c,i),f=r.scales||{};a[c]=a[c]||o,s[o]=di(Object.create(null),[{axis:c},l,f[c],f[u]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||Wo(l,e),f=(an[l]||{}).scales||{};Object.keys(f).forEach(d=>{const p=sE(d,c),h=o[p+"AxisID"]||a[p]||p;s[h]=s[h]||Object.create(null),di(s[h],[{axis:p},n[h],f[d]])})}),Object.keys(s).forEach(o=>{const l=s[o];di(l,[be.scales[l.type],be.scale])}),s}function bh(t){const e=t.options||(t.options={});e.plugins=me(e.plugins,{}),e.scales=cE(t,e)}function Ch(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function uE(t){return t=t||{},t.data=Ch(t.data),bh(t),t}const Wu=new Map,Sh=new Set;function aa(t,e){let r=Wu.get(t);return r||(r=e(),Wu.set(t,r),Sh.add(r)),r}const Zn=(t,e,r)=>{const n=Pr(e,r);n!==void 0&&t.add(n)};class fE{constructor(e){this._config=uE(e),this._scopeCache=new Map,this._resolverCache=new Map}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Ch(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),bh(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return aa(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return aa(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return aa(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return aa(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let i=n.get(e);return(!i||r)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,r,n){const{options:i,type:a}=this,s=this._cachedScopes(e,n),o=s.get(r);if(o)return o;const l=new Set;r.forEach(u=>{e&&(l.add(e),u.forEach(f=>Zn(l,e,f))),u.forEach(f=>Zn(l,i,f)),u.forEach(f=>Zn(l,an[a]||{},f)),u.forEach(f=>Zn(l,be,f)),u.forEach(f=>Zn(l,zo,f))});const c=[...l];return Sh.has(r)&&s.set(r,c),c}chartOptionScopes(){const{options:e,type:r}=this;return[e,an[r]||{},be.datasets[r]||{},{type:r},be,zo]}resolveNamedOptions(e,r,n,i=[""]){const a={$shared:!0},{resolver:s,subPrefixes:o}=$u(this._resolverCache,e,i);let l=s;if(dE(s,r)){a.$shared=!1,n=Bn(n)?n():n;const c=this.createResolver(e,n,o);l=Nn(s,n,c)}for(const c of r)a[c]=l[c];return a}createResolver(e,r,n=[""],i){const{resolver:a}=$u(this._resolverCache,e,n);return Ae(r)?Nn(a,r,void 0,i):a}}function $u(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=r.join();let a=n.get(i);return a||(a={resolver:Bl(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,a)),a}function dE(t,e){const{isScriptable:r,isIndexable:n}=eh(t);for(const i of e)if(r(i)&&Bn(t[i])||n(i)&&Fe(t[i]))return!0;return!1}var hE="3.3.2";const pE=["top","bottom","left","right","chartArea"];function Gu(t,e){return t==="top"||t==="bottom"||pE.indexOf(t)===-1&&e==="x"}function ju(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function qu(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Le(r&&r.onComplete,[t],e)}function gE(t){const e=t.chart,r=e.options.animation;Le(r&&r.onProgress,[t],e)}function Eh(){return typeof window<"u"&&typeof document<"u"}function _h(t){return Eh()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ka={},Th=t=>{const e=_h(t);return Object.values(Ka).filter(r=>r.canvas===e).pop()};class ps{constructor(e,r){const n=this;this.config=r=new fE(r);const i=_h(e),a=Th(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas can be reused.");const s=r.createResolver(r.chartOptionScopes(),n.getContext());this.platform=n._initializePlatform(i,r);const o=n.platform.acquireContext(i,s.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=pb(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this.scale=void 0,this._plugins=new tE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=db(()=>this.update("resize"),s.resizeDelay||0),Ka[n.id]=n,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}fr.listen(n,"complete",qu),fr.listen(n,"progress",gE),n._initialize(),n.attached&&n.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:i,_aspectRatio:a}=this;return Se(e)?r&&a?a:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){const e=this;return e.notifyPlugins("beforeInit"),e.options.responsive?e.resize():Cu(e,e.options.devicePixelRatio),e.bindEvents(),e.notifyPlugins("afterInit"),e}_initializePlatform(e,r){return r.platform?new r.platform:!Eh()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?new _S:new OS}clear(){return mu(this.canvas,this.ctx),this}stop(){return fr.stop(this),this}resize(e,r){fr.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this,i=n.options,a=n.canvas,s=i.maintainAspectRatio&&n.aspectRatio,o=n.platform.getMaximumSize(a,e,r,s),l=i.devicePixelRatio||n.platform.getDevicePixelRatio();n.width=o.width,n.height=o.height,n._aspectRatio=n.aspectRatio,Cu(n,l,!0)&&(n.notifyPlugins("resize",{size:o}),Le(i.onResize,[n,o],n),n.attached&&n._doResize()&&n.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};we(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this,r=e.options,n=r.scales,i=e.scales,a=Object.keys(i).reduce((o,l)=>(o[l]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const l=n[o],c=$o(o,l),u=c==="r",f=c==="x";return{options:l,dposition:u?"chartArea":f?"bottom":"left",dtype:u?"radialLinear":f?"category":"linear"}}))),we(s,o=>{const l=o.options,c=l.id,u=$o(c,l),f=me(l.type,o.dtype);(l.position===void 0||Gu(l.position,u)!==Gu(o.dposition))&&(l.position=o.dposition),a[c]=!0;let d=null;if(c in i&&i[c].type===f)d=i[c];else{const p=yr.getScale(f);d=new p({id:c,type:f,ctx:e.ctx,chart:e}),i[d.id]=d}d.init(l,r)}),we(a,(o,l)=>{o||delete i[l]}),we(i,o=>{Ft.configure(e,o,o.options),Ft.addBox(e,o)})}_updateMetasets(){const e=this,r=e._metasets,n=e.data.datasets.length,i=r.length;if(r.sort((a,s)=>a.index-s.index),i>n){for(let a=n;a<i;++a)e._destroyDatasetMeta(a);r.splice(n,i-n)}e._sortedMetasets=r.slice(0).sort(ju("order","index"))}_removeUnreferencedMetasets(){const e=this,{_metasets:r,data:{datasets:n}}=e;r.length>n.length&&delete e._stacks,r.forEach((i,a)=>{n.filter(s=>s===i._dataset).length===0&&e._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=this,r=[],n=e.data.datasets;let i,a;for(e._removeUnreferencedMetasets(),i=0,a=n.length;i<a;i++){const s=n[i];let o=e.getDatasetMeta(i);const l=s.type||e.config.type;if(o.type&&o.type!==l&&(e._destroyDatasetMeta(i),o=e.getDatasetMeta(i)),o.type=l,o.indexAxis=s.indexAxis||Wo(l,e.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=e.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const c=yr.getController(l),{datasetElementType:u,dataElementType:f}=be.datasets[l];Object.assign(c.prototype,{dataElementType:yr.getElement(f),datasetElementType:u&&yr.getElement(u)}),o.controller=new c(e,i),r.push(o.controller)}}return e._updateMetasets(),r}_resetElements(){const e=this;we(e.data.datasets,(r,n)=>{e.getDatasetMeta(n).controller.reset()},e)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this,n=r.config;n.update(),r._options=n.createResolver(n.chartOptionScopes(),r.getContext()),we(r.scales,c=>{Ft.removeBox(r,c)});const i=r._animationsDisabled=!r.options.animation;r.ensureScalesHaveIDs(),r.buildOrUpdateScales();const a=new Set(Object.keys(r._listeners)),s=new Set(r.options.events);if((!bb(a,s)||!!this._responsiveListeners!==r.options.responsive)&&(r.unbindEvents(),r.bindEvents()),r._plugins.invalidate(),r.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=r.buildOrUpdateControllers();r.notifyPlugins("beforeElementsUpdate");let l=0;for(let c=0,u=r.data.datasets.length;c<u;c++){const{controller:f}=r.getDatasetMeta(c),d=!i&&o.indexOf(f)===-1;f.buildOrUpdateElements(d),l=Math.max(+f.getMaxOverflow(),l)}r._minPadding=l,r._updateLayout(l),i||we(o,c=>{c.reset()}),r._updateDatasets(e),r.notifyPlugins("afterUpdate",{mode:e}),r._layers.sort(ju("z","_idx")),r._lastEvent&&r._eventHandler(r._lastEvent,!0),r.render()}_updateLayout(e){const r=this;if(r.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ft.update(r,r.width,r.height,e);const n=r.chartArea,i=n.width<=0||n.height<=0;r._layers=[],we(r.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),r._layers.push(...a._layers()))},r),r._layers.forEach((a,s)=>{a._idx=s}),r.notifyPlugins("afterLayout")}_updateDatasets(e){const r=this,n=typeof e=="function";if(r.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,a=r.data.datasets.length;i<a;++i)r._updateDataset(i,n?e({datasetIndex:i}):e);r.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this,i=n.getDatasetMeta(e),a={meta:i,index:e,mode:r,cancelable:!0};n.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(r),a.cancelable=!1,n.notifyPlugins("afterDatasetUpdate",a))}render(){const e=this;e.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(fr.has(e)?e.attached&&!fr.running(e)&&fr.start(e):(e.draw(),qu({chart:e})))}draw(){const e=this;let r;if(e._resizeBeforeDraw){const{width:i,height:a}=e._resizeBeforeDraw;e._resize(i,a),e._resizeBeforeDraw=null}if(e.clear(),e.width<=0||e.height<=0||e.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=e._layers;for(r=0;r<n.length&&n[r].z<=0;++r)n[r].draw(e.chartArea);for(e._drawDatasets();r<n.length;++r)n[r].draw(e.chartArea);e.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let a,s;for(a=0,s=n.length;a<s;++a){const o=n[a];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){const e=this;if(e.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const r=e.getSortedVisibleDatasetMetas();for(let n=r.length-1;n>=0;--n)e._drawDataset(r[n]);e.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this,n=r.ctx,i=e._clip,a=r.chartArea,s={meta:e,index:e.index,cancelable:!0};r.notifyPlugins("beforeDatasetDraw",s)!==!1&&(ki(n,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?r.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?r.height:a.bottom+i.bottom}),e.controller.draw(),Ni(n),s.cancelable=!1,r.notifyPlugins("afterDatasetDraw",s))}getElementsAtEventForMode(e,r,n,i){const a=yS.modes[r];return typeof a=="function"?a(this,e,n,i):[]}getDatasetMeta(e){const r=this,n=r.data.datasets[e],i=r._metasets;let a=i.filter(s=>s&&s._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context={chart:this,type:"chart"})}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateDatasetVisibility(e,r){const n=this,i=r?"show":"hide",a=n.getDatasetMeta(e),s=a.controller._resolveAnimations(void 0,i);n.setDatasetVisibility(e,r),s.update(a,{visible:r}),n.update(o=>o.datasetIndex===e?i:void 0)}hide(e){this._updateDatasetVisibility(e,!1)}show(e){this._updateDatasetVisibility(e,!0)}_destroyDatasetMeta(e){const r=this,n=r._metasets&&r._metasets[e];n&&n.controller&&(n.controller._destroy(),delete r._metasets[e])}destroy(){const e=this,{canvas:r,ctx:n}=e;let i,a;for(e.stop(),fr.remove(e),i=0,a=e.data.datasets.length;i<a;++i)e._destroyDatasetMeta(i);e.config.clearCache(),r&&(e.unbindEvents(),mu(r,n),e.platform.releaseContext(n),e.canvas=null,e.ctx=null),e.notifyPlugins("destroy"),delete Ka[e.id]}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this,r=e._listeners,n=e.platform,i=(s,o)=>{n.addEventListener(e,s,o),r[s]=o},a=function(s,o,l){s.offsetX=o,s.offsetY=l,e._eventHandler(s)};we(e.options.events,s=>i(s,a))}bindResponsiveEvents(){const e=this;e._responsiveListeners||(e._responsiveListeners={});const r=e._responsiveListeners,n=e.platform,i=(c,u)=>{n.addEventListener(e,c,u),r[c]=u},a=(c,u)=>{r[c]&&(n.removeEventListener(e,c,u),delete r[c])},s=(c,u)=>{e.canvas&&e.resize(c,u)};let o;const l=()=>{a("attach",l),e.attached=!0,e.resize(),i("resize",s),i("detach",o)};o=()=>{e.attached=!1,a("resize",s),i("attach",l)},n.isAttached(e.canvas)?l():o()}unbindEvents(){const e=this;we(e._listeners,(r,n)=>{e.platform.removeEventListener(e,n,r)}),e._listeners={},we(e._responsiveListeners,(r,n)=>{e.platform.removeEventListener(e,n,r)}),e._responsiveListeners=void 0}updateHoverStyle(e,r,n){const i=n?"set":"remove";let a,s,o,l;for(r==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){s=e[o];const c=s&&this.getDatasetMeta(s.datasetIndex).controller;c&&c[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this,n=r._active||[],i=e.map(({datasetIndex:s,index:o})=>{const l=r.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[o],index:o}});!Na(i,n)&&(r._active=i,r._updateHoverStyles(i,n))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}_updateHoverStyles(e,r,n){const i=this,a=i.options.hover,s=(c,u)=>c.filter(f=>!u.some(d=>f.datasetIndex===d.datasetIndex&&f.index===d.index)),o=s(r,e),l=n?e:s(e,r);o.length&&i.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&i.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n=this,i={event:e,replay:r,cancelable:!0},a=o=>(o.options.events||this.options.events).includes(e.type);if(n.notifyPlugins("beforeEvent",i,a)===!1)return;const s=n._handleEvent(e,r);return i.cancelable=!1,n.notifyPlugins("afterEvent",i,a),(s||i.changed)&&n.render(),n}_handleEvent(e,r){const n=this,{_active:i=[],options:a}=n,s=a.hover,o=r;let l=[],c=!1,u=null;return e.type!=="mouseout"&&(l=n.getElementsAtEventForMode(e,s.mode,s,o),u=e.type==="click"?n._lastEvent:e),n._lastEvent=null,kn(e,n.chartArea,n._minPadding)&&(Le(a.onHover,[e,l,n],n),(e.type==="mouseup"||e.type==="click"||e.type==="contextmenu")&&Le(a.onClick,[e,l,n],n)),c=!Na(l,i),(c||r)&&(n._active=l,n._updateHoverStyles(l,i,r)),n._lastEvent=u,c}}const Yu=()=>we(ps.instances,t=>t._plugins.invalidate()),Er=!0;Object.defineProperties(ps,{defaults:{enumerable:Er,value:be},instances:{enumerable:Er,value:Ka},overrides:{enumerable:Er,value:an},registry:{enumerable:Er,value:yr},version:{enumerable:Er,value:hE},getChart:{enumerable:Er,value:Th},register:{enumerable:Er,value:(...t)=>{yr.add(...t),Yu()}},unregister:{enumerable:Er,value:(...t)=>{yr.remove(...t),Yu()}}});function Ah(t,e,r){const{startAngle:n,pixelMargin:i,x:a,y:s,outerRadius:o,innerRadius:l}=e;let c=i/o;t.beginPath(),t.arc(a,s,o,n-c,r+c),l>i?(c=i/l,t.arc(a,s,l,r+c,n-c,!0)):t.arc(a,s,i,r+je,n-je),t.closePath(),t.clip()}function yE(t){return Il(t,["outerStart","outerEnd","innerStart","innerEnd"])}function mE(t,e,r,n){const i=yE(t.options.borderRadius),a=(r-e)/2,s=Math.min(a,n*e/2),o=l=>{const c=(r-Math.min(a,l))*n/2;return _t(l,0,Math.min(a,c))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:_t(i.innerStart,0,s),innerEnd:_t(i.innerEnd,0,s)}}function yn(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function Go(t,e,r,n){const{x:i,y:a,startAngle:s,pixelMargin:o,innerRadius:l}=e,c=Math.max(e.outerRadius+r-o,0),u=l>0?l+r+o:0,f=n-s,d=Math.max(.001,f*c-r/Ge)/c,p=(f-d)/2,h=s+p,g=n-p,{outerStart:y,outerEnd:b,innerStart:S,innerEnd:E}=mE(e,u,c,g-h),B=c-y,I=c-b,T=h+y/B,N=g-b/I,D=u+S,F=u+E,H=h+S/D,j=g-E/F;if(t.beginPath(),t.arc(i,a,c,T,N),b>0){const q=yn(I,N,i,a);t.arc(q.x,q.y,b,N,g+je)}const J=yn(F,g,i,a);if(t.lineTo(J.x,J.y),E>0){const q=yn(F,j,i,a);t.arc(q.x,q.y,E,g+je,j+Math.PI)}if(t.arc(i,a,u,g-E/u,h+S/u,!0),S>0){const q=yn(D,H,i,a);t.arc(q.x,q.y,S,H+Math.PI,h-je)}const X=yn(B,h,i,a);if(t.lineTo(X.x,X.y),y>0){const q=yn(B,T,i,a);t.arc(q.x,q.y,y,h-je,T)}t.closePath()}function vE(t,e,r){const{fullCircles:n,startAngle:i,circumference:a}=e;let s=e.endAngle;if(n){Go(t,e,r,i+ke);for(let o=0;o<n;++o)t.fill();isNaN(a)||(s=i+a%ke,a%ke===0&&(s+=ke))}return Go(t,e,r,s),t.fill(),s}function xE(t,e,r){const{x:n,y:i,startAngle:a,pixelMargin:s,fullCircles:o}=e,l=Math.max(e.outerRadius-s,0),c=e.innerRadius+s;let u;for(r&&Ah(t,e,a+ke),t.beginPath(),t.arc(n,i,c,a+ke,a,!0),u=0;u<o;++u)t.stroke();for(t.beginPath(),t.arc(n,i,l,a,a+ke),u=0;u<o;++u)t.stroke()}function bE(t,e,r,n){const{options:i}=e,a=i.borderAlign==="inner";i.borderWidth&&(a?(t.lineWidth=i.borderWidth*2,t.lineJoin="round"):(t.lineWidth=i.borderWidth,t.lineJoin="bevel"),e.fullCircles&&xE(t,e,a),a&&Ah(t,e,n),Go(t,e,r,n),t.stroke())}class gs extends Gt{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,r,n){const i=this.getProps(["x","y"],n),{angle:a,distance:s}=Tb(i,{x:e,y:r}),{startAngle:o,endAngle:l,innerRadius:c,outerRadius:u,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=f>=ke||Pa(a,o,l),p=s>=c&&s<=u;return d&&p}getCenterPoint(e){const{x:r,y:n,startAngle:i,endAngle:a,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),l=(i+a)/2,c=(s+o)/2;return{x:r+Math.cos(l)*c,y:n+Math.sin(l)*c}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const r=this,{options:n,circumference:i}=r,a=(n.offset||0)/2;if(r.pixelMargin=n.borderAlign==="inner"?.33:0,r.fullCircles=i>ke?Math.floor(i/ke):0,i===0||r.innerRadius<0||r.outerRadius<0)return;e.save();let s=0;if(a){s=a/2;const l=(r.startAngle+r.endAngle)/2;e.translate(Math.cos(l)*s,Math.sin(l)*s),r.circumference>=Ge&&(s=a)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor;const o=vE(e,r,s);bE(e,r,s,o),e.restore()}}gs.id="arc";gs.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,angle:void 0};gs.defaultRoutes={backgroundColor:"backgroundColor"};function Ih(t,e,r=e){t.lineCap=me(r.borderCapStyle,e.borderCapStyle),t.setLineDash(me(r.borderDash,e.borderDash)),t.lineDashOffset=me(r.borderDashOffset,e.borderDashOffset),t.lineJoin=me(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=me(r.borderWidth,e.borderWidth),t.strokeStyle=me(r.borderColor,e.borderColor)}function CE(t,e,r){t.lineTo(r.x,r.y)}function SE(t){return t.stepped?Qb:t.tension||t.cubicInterpolationMode==="monotone"?Xb:CE}function wh(t,e,r={}){const n=t.length,{start:i=0,end:a=n-1}=r,{start:s,end:o}=e,l=Math.max(i,s),c=Math.min(a,o),u=i<s&&a<s||i>o&&a>o;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function EE(t,e,r,n){const{points:i,options:a}=e,{count:s,start:o,loop:l,ilen:c}=wh(i,r,n),u=SE(a);let{move:f=!0,reverse:d}=n||{},p,h,g;for(p=0;p<=c;++p)h=i[(o+(d?c-p:p))%s],!h.skip&&(f?(t.moveTo(h.x,h.y),f=!1):u(t,g,h,d,a.stepped),g=h);return l&&(h=i[(o+(d?c:0))%s],u(t,g,h,d,a.stepped)),!!l}function _E(t,e,r,n){const i=e.points,{count:a,start:s,ilen:o}=wh(i,r,n),{move:l=!0,reverse:c}=n||{};let u=0,f=0,d,p,h,g,y,b;const S=B=>(s+(c?o-B:B))%a,E=()=>{g!==y&&(t.lineTo(u,y),t.lineTo(u,g),t.lineTo(u,b))};for(l&&(p=i[S(0)],t.moveTo(p.x,p.y)),d=0;d<=o;++d){if(p=i[S(d)],p.skip)continue;const B=p.x,I=p.y,T=B|0;T===h?(I<g?g=I:I>y&&(y=I),u=(f*u+B)/++f):(E(),t.lineTo(B,I),h=T,f=0,g=y=I),b=I}E()}function jo(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?_E:EE}function TE(t){return t.stepped?BC:t.tension||t.cubicInterpolationMode==="monotone"?RC:jr}function AE(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),Ih(t,e.options),t.stroke(i)}function IE(t,e,r,n){const{segments:i,options:a}=e,s=jo(e);for(const o of i)Ih(t,a,o.style),t.beginPath(),s(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const wE=typeof Path2D=="function";function BE(t,e,r,n){wE&&e.segments.length===1?AE(t,e,r,n):IE(t,e,r,n)}class Ur extends Gt{constructor(e){super(),this.animated=!0,this.options=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this,i=n.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!n._pointsUpdated){const a=i.spanGaps?n._loop:n._fullLoop;CC(n._points,i,e,a,r),n._pointsUpdated=!0}}set points(e){const r=this;r._points=e,delete r._segments,delete r._path,r._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=MC(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this,i=n.options,a=e[r],s=n.points,o=fh(n,{property:r,start:a,end:a});if(!o.length)return;const l=[],c=TE(i);let u,f;for(u=0,f=o.length;u<f;++u){const{start:d,end:p}=o[u],h=s[d],g=s[p];if(h===g){l.push(h);continue}const y=Math.abs((a-h[r])/(g[r]-h[r])),b=c(h,g,y,i.stepped);b[r]=e[r],l.push(b)}return l.length===1?l[0]:l}pathSegment(e,r,n){return jo(this)(e,this,r,n)}path(e,r,n){const i=this,a=i.segments,s=jo(i);let o=i._loop;r=r||0,n=n||i.points.length-r;for(const l of a)o&=s(e,i,l,{start:r,end:r+n-1});return!!o}draw(e,r,n,i){const a=this,s=a.options||{};!(a.points||[]).length||!s.borderWidth||(e.save(),BE(e,a,n,i),e.restore(),a.animated&&(a._pointsUpdated=!1,a._path=void 0))}}Ur.id="line";Ur.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Ur.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Ur.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function Qu(t,e,r,n){const i=t.options,{[r]:a}=t.getProps([r],n);return Math.abs(e-a)<i.radius+i.hitRadius}class ys extends Gt{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,n){const i=this.options,{x:a,y:s}=this.getProps(["x","y"],n);return Math.pow(e-a,2)+Math.pow(r-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,r){return Qu(this,e,"x",r)}inYRange(e,r){return Qu(this,e,"y",r)}getCenterPoint(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}size(e){e=e||this.options||{};let r=e.radius||0;r=Math.max(r,r&&e.hoverRadius||0);const n=r&&e.borderWidth||0;return(r+n)*2}draw(e){const r=this,n=r.options;r.skip||n.radius<.1||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Ua(e,n,r.x,r.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}ys.id="point";ys.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};ys.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function Bh(t,e){const{x:r,y:n,base:i,width:a,height:s}=t.getProps(["x","y","base","width","height"],e);let o,l,c,u,f;return t.horizontal?(f=s/2,o=Math.min(r,i),l=Math.max(r,i),c=n-f,u=n+f):(f=a/2,o=r-f,l=r+f,c=Math.min(n,i),u=Math.max(n,i)),{left:o,top:c,right:l,bottom:u}}function Rh(t){let e=t.options.borderSkipped;const r={};return e&&(e=t.horizontal?Xu(e,"left","right",t.base>t.x):Xu(e,"bottom","top",t.base<t.y),r[e]=!0),r}function Xu(t,e,r,n){return n?(t=RE(t,e,r),t=Zu(t,r,e)):t=Zu(t,e,r),t}function RE(t,e,r){return t===e?r:t===r?e:t}function Zu(t,e,r){return t==="start"?e:t==="end"?r:t}function kr(t,e,r,n){return t?0:Math.max(Math.min(e,n),r)}function kE(t,e,r){const n=t.options.borderWidth,i=Rh(t),a=Xd(n);return{t:kr(i.top,a.top,0,r),r:kr(i.right,a.right,0,e),b:kr(i.bottom,a.bottom,0,r),l:kr(i.left,a.left,0,e)}}function NE(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,a=wl(i),s=Math.min(e,r),o=Rh(t),l=n||Ae(i);return{topLeft:kr(!l||o.top||o.left,a.topLeft,0,s),topRight:kr(!l||o.top||o.right,a.topRight,0,s),bottomLeft:kr(!l||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:kr(!l||o.bottom||o.right,a.bottomRight,0,s)}}function LE(t){const e=Bh(t),r=e.right-e.left,n=e.bottom-e.top,i=kE(t,r/2,n/2),a=NE(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:a},inner:{x:e.left+i.l,y:e.top+i.t,w:r-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function co(t,e,r,n){const i=e===null,a=r===null,o=t&&!(i&&a)&&Bh(t,n);return o&&(i||e>=o.left&&e<=o.right)&&(a||r>=o.top&&r<=o.bottom)}function DE(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function PE(t,e){t.rect(e.x,e.y,e.w,e.h)}class ms extends Gt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,e&&Object.assign(this,e)}draw(e){const r=this.options,{inner:n,outer:i}=LE(this),a=DE(i.radius)?Fa:PE;e.save(),(i.w!==n.w||i.h!==n.h)&&(e.beginPath(),a(e,i),e.clip(),a(e,n),e.fillStyle=r.borderColor,e.fill("evenodd")),e.beginPath(),a(e,n),e.fillStyle=r.backgroundColor,e.fill(),e.restore()}inRange(e,r,n){return co(this,e,r,n)}inXRange(e,r){return co(this,e,null,r)}inYRange(e,r){return co(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(r+i)/2:r,y:a?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ms.id="bar";ms.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,enableBorderRadius:!0,pointStyle:void 0};ms.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var OE=Object.freeze({__proto__:null,ArcElement:gs,LineElement:Ur,PointElement:ys,BarElement:ms});function ME(t,e,r,n,i){const a=i.samples||n;if(a>=r)return t.slice(e,e+r);const s=[],o=(r-2)/(a-2);let l=0;const c=e+r-1;let u=e,f,d,p,h,g;for(s[l++]=t[u],f=0;f<a-2;f++){let y=0,b=0,S;const E=Math.floor((f+1)*o)+1+e,B=Math.min(Math.floor((f+2)*o)+1,r)+e,I=B-E;for(S=E;S<B;S++)y+=t[S].x,b+=t[S].y;y/=I,b/=I;const T=Math.floor(f*o)+1+e,N=Math.floor((f+1)*o)+1+e,{x:D,y:F}=t[u];for(p=h=-1,S=T;S<N;S++)h=.5*Math.abs((D-y)*(t[S].y-F)-(D-t[S].x)*(b-F)),h>p&&(p=h,d=t[S],g=S);s[l++]=d,u=g}return s[l++]=t[c],s}function UE(t,e,r,n){let i=0,a=0,s,o,l,c,u,f,d,p,h,g;const y=[],b=e+r-1,S=t[e].x,B=t[b].x-S;for(s=e;s<e+r;++s){o=t[s],l=(o.x-S)/B*n,c=o.y;const I=l|0;if(I===u)c<h?(h=c,f=s):c>g&&(g=c,d=s),i=(a*i+o.x)/++a;else{const T=s-1;if(!Se(f)&&!Se(d)){const N=Math.min(f,d),D=Math.max(f,d);N!==p&&N!==T&&y.push({...t[N],x:i}),D!==p&&D!==T&&y.push({...t[D],x:i})}s>0&&T!==p&&y.push(t[T]),y.push(o),u=I,a=0,h=g=c,f=d=p=s}}return y}function kh(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function Ju(t){t.data.datasets.forEach(e=>{kh(e)})}function FE(t,e){const r=e.length;let n=0,i;const{iScale:a}=t,{min:s,max:o,minDefined:l,maxDefined:c}=a.getUserBounds();return l&&(n=_t(Jr(e,a.axis,s).lo,0,r-1)),c?i=_t(Jr(e,a.axis,o).hi+1,n,r)-n:i=r-n,{start:n,count:i}}var VE={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){Ju(t);return}const n=t.width;t.data.datasets.forEach((i,a)=>{const{_data:s,indexAxis:o}=i,l=t.getDatasetMeta(a),c=s||i.data;if(ri([o,t.options.indexAxis])==="y"||l.type!=="line")return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:f,count:d}=FE(l,c);if(d<=4*n){kh(i);return}Se(s)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(h){this._data=h}}));let p;switch(r.algorithm){case"lttb":p=ME(c,f,d,n,r);break;case"min-max":p=UE(c,f,d,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}i._decimated=p})},destroy(t){Ju(t)}};function KE(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function zE(t){const e=t.options,r=e.fill;let n=me(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function HE(t,e,r){const n=zE(t);if(Ae(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return qe(i)&&Math.floor(i)===i?((n[0]==="-"||n[0]==="+")&&(i=e+i),i===e||i<0||i>=r?!1:i):["origin","start","end","stack"].indexOf(n)>=0&&n}function WE(t){const{scale:e={},fill:r}=t;let n=null,i;return r==="start"?n=e.bottom:r==="end"?n=e.top:Ae(r)?n=e.getPixelForValue(r.value):e.getBasePixel&&(n=e.getBasePixel()),qe(n)?(i=e.isHorizontal(),{x:i?n:null,y:i?null:n}):null}class Nh{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:i,y:a,radius:s}=this;return r=r||{start:0,end:ke},e.arc(i,a,s,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:i}=this,a=e.angle;return{x:r+Math.cos(a)*i,y:n+Math.sin(a)*i,angle:a}}}function $E(t){const{scale:e,fill:r}=t,n=e.options,i=e.getLabels().length,a=[],s=n.reverse?e.max:e.min,o=n.reverse?e.min:e.max;let l,c,u;if(r==="start"?u=s:r==="end"?u=o:Ae(r)?u=r.value:u=e.getBaseValue(),n.grid.circular)return c=e.getPointPositionForValue(0,s),new Nh({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(u)});for(l=0;l<i;++l)a.push(e.getPointPositionForValue(l,u));return a}function GE(t){return(t.scale||{}).getPointPositionForValue?$E(t):WE(t)}function jE(t,e){const{x:r=null,y:n=null}=t||{},i=e.points,a=[];return e.segments.forEach(s=>{const o=i[s.start],l=i[s.end];n!==null?(a.push({x:o.x,y:n}),a.push({x:l.x,y:n})):r!==null&&(a.push({x:r,y:o.y}),a.push({x:r,y:l.y}))}),a}function qE(t){const{chart:e,scale:r,index:n,line:i}=t,a=[],s=i.segments,o=i.points,l=QE(e,n);l.push(Lh({x:null,y:r.bottom},i));for(let c=0;c<s.length;c++){const u=s[c];for(let f=u.start;f<=u.end;f++)XE(a,o[f],l)}return new Ur({points:a,options:{}})}const YE=t=>t.type==="line"&&!t.hidden;function QE(t,e){const r=[],n=t.getSortedVisibleDatasetMetas();for(let i=0;i<n.length;i++){const a=n[i];if(a.index===e)break;YE(a)&&r.unshift(a.dataset)}return r}function XE(t,e,r){const n=[];for(let i=0;i<r.length;i++){const a=r[i],{first:s,last:o,point:l}=ZE(a,e,"x");if(!(!l||s&&o)){if(s)n.unshift(l);else if(t.push(l),!o)break}}t.push(...n)}function ZE(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const i=n[r],a=t.segments,s=t.points;let o=!1,l=!1;for(let c=0;c<a.length;c++){const u=a[c],f=s[u.start][r],d=s[u.end][r];if(i>=f&&i<=d){o=i===f,l=i===d;break}}return{first:o,last:l,point:n}}function JE(t){const{chart:e,fill:r,line:n}=t;if(qe(r))return KE(e,r);if(r==="stack")return qE(t);const i=GE(t);return i instanceof Nh?i:Lh(i,n)}function Lh(t,e){let r=[],n=!1;return Fe(t)?(n=!0,r=t):r=jE(t,e),r.length?new Ur({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function e2(t,e,r){let i=t[e].fill;const a=[e];let s;if(!r)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!qe(i))return i;if(s=t[i],!s)return!1;if(s.visible)return i;a.push(i),i=s.fill}return!1}function ef(t,e,r){t.beginPath(),e.path(t),t.lineTo(e.last().x,r),t.lineTo(e.first().x,r),t.closePath(),t.clip()}function qo(t,e,r,n){if(n)return;let i=e[t],a=r[t];return t==="angle"&&(i=zt(i),a=zt(a)),{property:t,start:i,end:a}}function tf(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function t2(t,e,r){const n=t.segments,i=t.points,a=e.points,s=[];for(const o of n){const l=qo(r,i[o.start],i[o.end],o.loop);if(!e.segments){s.push({source:o,target:l,start:i[o.start],end:i[o.end]});continue}const c=fh(e,l);for(const u of c){const f=qo(r,a[u.start],a[u.end],u.loop),d=uh(o,i,f);for(const p of d)s.push({source:p,target:u,start:{[r]:tf(l,f,"start",Math.max)},end:{[r]:tf(l,f,"end",Math.min)}})}}return s}function r2(t,e,r){const{top:n,bottom:i}=e.chart.chartArea,{property:a,start:s,end:o}=r||{};a==="x"&&(t.beginPath(),t.rect(s,n,o-s,i-n),t.clip())}function rf(t,e,r,n){const i=e.interpolate(r,n);i&&t.lineTo(i.x,i.y)}function nf(t,e){const{line:r,target:n,property:i,color:a,scale:s}=e,o=t2(r,n,i);for(const{source:l,target:c,start:u,end:f}of o){const{style:{backgroundColor:d=a}={}}=l;t.save(),t.fillStyle=d,r2(t,s,qo(i,u,f)),t.beginPath();const p=!!r.pathSegment(t,l);p?t.closePath():rf(t,n,f,i);const h=!!n.pathSegment(t,c,{move:p,reverse:!0}),g=p&&h;g||rf(t,n,u,i),t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function n2(t,e){const{line:r,target:n,above:i,below:a,area:s,scale:o}=e,l=r._loop?"angle":e.axis;t.save(),l==="x"&&a!==i&&(ef(t,n,s.top),nf(t,{line:r,target:n,color:i,scale:o,property:l}),t.restore(),t.save(),ef(t,n,s.bottom)),nf(t,{line:r,target:n,color:a,scale:o,property:l}),t.restore()}function uo(t,e,r){const n=JE(e),{line:i,scale:a,axis:s}=e,o=i.options,l=o.fill,c=o.backgroundColor,{above:u=c,below:f=c}=l||{};n&&i.points.length&&(ki(t,r),n2(t,{line:i,target:n,above:u,below:f,area:r,scale:a,axis:s}),Ni(t))}var i2={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,i=[];let a,s,o,l;for(s=0;s<n;++s)a=t.getDatasetMeta(s),o=a.dataset,l=null,o&&o.options&&o instanceof Ur&&(l={visible:t.isDatasetVisible(s),index:s,fill:HE(o,s,n),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,i.push(l);for(s=0;s<n;++s)l=i[s],!(!l||l.fill===!1)&&(l.fill=e2(i,s,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;o&&(o.line.updateControlPoints(a,o.axis),n&&uo(t.ctx,o,a))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const a=n[i].$filler;a&&uo(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!n||n.fill===!1||r.drawTime!=="beforeDatasetDraw"||uo(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const af=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},a2=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class sf extends Gt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){const i=this;i.maxWidth=e,i.maxHeight=r,i._margins=n,i.setDimensions(),i.buildLabels(),i.fit()}setDimensions(){const e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height)}buildLabels(){const e=this,r=e.options.labels||{};let n=Le(r.generateLabels,[e.chart],e)||[];r.filter&&(n=n.filter(i=>r.filter(i,e.chart.data))),r.sort&&(n=n.sort((i,a)=>r.sort(i,a,e.chart.data))),e.options.reverse&&n.reverse(),e.legendItems=n}fit(){const e=this,{options:r,ctx:n}=e;if(!r.display){e.width=e.height=0;return}const i=r.labels,a=nt(i.font),s=a.size,o=e._computeTitleHeight(),{boxWidth:l,itemHeight:c}=af(i,s);let u,f;n.font=a.string,e.isHorizontal()?(u=e.maxWidth,f=e._fitRows(o,s,l,c)+10):(f=e.maxHeight,u=e._fitCols(o,s,l,c)+10),e.width=Math.min(u,r.maxWidth||e.maxWidth),e.height=Math.min(f,r.maxHeight||e.maxHeight)}_fitRows(e,r,n,i){const a=this,{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=a,c=a.legendHitBoxes=[],u=a.lineWidths=[0],f=i+l;let d=e;s.textAlign="left",s.textBaseline="middle";let p=-1,h=-f;return a.legendItems.forEach((g,y)=>{const b=n+r/2+s.measureText(g.text).width;(y===0||u[u.length-1]+b+2*l>o)&&(d+=f,u[u.length-(y>0?0:1)]=0,h+=f,p++),c[y]={left:0,top:h,row:p,width:b,height:i},u[u.length-1]+=b+l}),d}_fitCols(e,r,n,i){const a=this,{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=a,c=a.legendHitBoxes=[],u=a.columnSizes=[],f=o-e;let d=l,p=0,h=0,g=0,y=0,b=0;return a.legendItems.forEach((S,E)=>{const B=n+r/2+s.measureText(S.text).width;E>0&&h+r+2*l>f&&(d+=p+l,u.push({width:p,height:h}),g+=p+l,b++,y=0,p=h=0),p=Math.max(p,B),h+=r+l,c[E]={left:g,top:y,col:b,width:B,height:i},y+=i+l}),d+=p,u.push({width:p,height:h}),d}adjustHitBoxes(){const e=this;if(!e.options.display)return;const r=e._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:a}}}=e;if(this.isHorizontal()){let s=0,o=yt(i,e.left+a,e.right-e.lineWidths[s]);for(const l of n)s!==l.row&&(s=l.row,o=yt(i,e.left+a,e.right-e.lineWidths[s])),l.top+=e.top+r+a,l.left=o,o+=l.width+a}else{let s=0,o=yt(i,e.top+r+a,e.bottom-e.columnSizes[s].height);for(const l of n)l.col!==s&&(s=l.col,o=yt(i,e.top+r+a,e.bottom-e.columnSizes[s].height)),l.top=o,l.left+=e.left+a,o+=l.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){const e=this;if(e.options.display){const r=e.ctx;ki(r,e),e._draw(),Ni(r)}}_draw(){const e=this,{options:r,columnSizes:n,lineWidths:i,ctx:a}=e,{align:s,labels:o}=r,l=be.color,c=gi(r.rtl,e.left,e.width),u=nt(o.font),{color:f,padding:d}=o,p=u.size,h=p/2;let g;e.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=u.string;const{boxWidth:y,boxHeight:b,itemHeight:S}=af(o,p),E=function(D,F,H){if(isNaN(y)||y<=0||isNaN(b)||b<0)return;a.save();const j=me(H.lineWidth,1);if(a.fillStyle=me(H.fillStyle,l),a.lineCap=me(H.lineCap,"butt"),a.lineDashOffset=me(H.lineDashOffset,0),a.lineJoin=me(H.lineJoin,"miter"),a.lineWidth=j,a.strokeStyle=me(H.strokeStyle,l),a.setLineDash(me(H.lineDash,[])),o.usePointStyle){const J={radius:y*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:j},X=c.xPlus(D,y/2),q=F+h;Ua(a,J,X,q)}else{const J=F+Math.max((p-b)/2,0),X=c.leftForLtr(D,y),q=wl(H.borderRadius);a.beginPath(),Object.values(q).some(ee=>ee!==0)?Fa(a,{x:X,y:J,w:y,h:b,radius:q}):a.rect(X,J,y,b),a.fill(),j!==0&&a.stroke()}a.restore()},B=function(D,F,H){sn(a,H.text,D,F+S/2,u,{strikethrough:H.hidden,textAlign:H.textAlign})},I=e.isHorizontal(),T=this._computeTitleHeight();I?g={x:yt(s,e.left+d,e.right-i[0]),y:e.top+d+T,line:0}:g={x:e.left+d,y:yt(s,e.top+T+d,e.bottom-n[0].height),line:0},oh(e.ctx,r.textDirection);const N=S+d;e.legendItems.forEach((D,F)=>{a.strokeStyle=D.fontColor||f,a.fillStyle=D.fontColor||f;const H=a.measureText(D.text).width,j=c.textAlign(D.textAlign||(D.textAlign=o.textAlign)),J=y+p/2+H;let X=g.x,q=g.y;c.setWidth(e.width),I?F>0&&X+J+d>e.right&&(q=g.y+=N,g.line++,X=g.x=yt(s,e.left+d,e.right-i[g.line])):F>0&&q+N>e.bottom&&(X=g.x=X+n[g.line].width+d,g.line++,q=g.y=yt(s,e.top+T+d,e.bottom-n[g.line].height));const ee=c.x(X);E(ee,q,D),X=hb(j,X+y+h,e.right),B(c.x(X),q,D),I?g.x+=J+d:g.y+=N}),lh(e.ctx,r.textDirection)}drawTitle(){const e=this,r=e.options,n=r.title,i=nt(n.font),a=Ct(n.padding);if(!n.display)return;const s=gi(r.rtl,e.left,e.width),o=e.ctx,l=n.position,c=i.size/2,u=a.top+c;let f,d=e.left,p=e.width;if(this.isHorizontal())p=Math.max(...e.lineWidths),f=e.top+u,d=yt(r.align,d,e.right-p);else{const g=e.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);f=u+yt(r.align,e.top,e.bottom-g-r.labels.padding-e._computeTitleHeight())}const h=yt(l,d,d+p);o.textAlign=s.textAlign(Cl(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,sn(o,n.text,h,f,i)}_computeTitleHeight(){const e=this.options.title,r=nt(e.font),n=Ct(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){const n=this;let i,a,s;if(e>=n.left&&e<=n.right&&r>=n.top&&r<=n.bottom){for(s=n.legendHitBoxes,i=0;i<s.length;++i)if(a=s[i],e>=a.left&&e<=a.left+a.width&&r>=a.top&&r<=a.top+a.height)return n.legendItems[i]}return null}handleEvent(e){const r=this,n=r.options;if(!s2(e.type,n))return;const i=r._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"){const a=r._hoveredItem,s=a2(a,i);a&&!s&&Le(n.onLeave,[e,a,r],r),r._hoveredItem=i,i&&!s&&Le(n.onHover,[e,i,r],r)}else i&&Le(n.onClick,[e,i,r],r)}}function s2(t,e){return!!(t==="mousemove"&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var o2={id:"legend",_element:sf,start(t,e,r){const n=t.legend=new sf({ctx:t.ctx,options:r,chart:t});Ft.configure(t,n,r),Ft.addBox(t,n)},stop(t){Ft.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;Ft.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:a}}=t.legend.options;return t._getSortedDatasetMetas().map(s=>{const o=s.controller.getStyle(r?0:void 0),l=Ct(o.borderWidth);return{text:e[s.index].label,fillStyle:o.backgroundColor,fontColor:a,hidden:!s.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:o.borderColor,pointStyle:n||o.pointStyle,rotation:o.rotation,textAlign:i||o.textAlign,borderRadius:0,datasetIndex:s.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Dh extends Gt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this,i=n.options;if(n.left=0,n.top=0,!i.display){n.width=n.height=n.right=n.bottom=0;return}n.width=n.right=e,n.height=n.bottom=r;const a=Fe(i.text)?i.text.length:1;n._padding=Ct(i.padding);const s=a*nt(i.font).lineHeight+n._padding.height;n.isHorizontal()?n.height=s:n.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:i,right:a,options:s}=this,o=s.align;let l=0,c,u,f;return this.isHorizontal()?(u=yt(o,n,a),f=r+e,c=a-n):(s.position==="left"?(u=n+e,f=yt(o,i,r),l=Ge*-.5):(u=a-e,f=yt(o,r,i),l=Ge*.5),c=i-r),{titleX:u,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this,r=e.ctx,n=e.options;if(!n.display)return;const i=nt(n.font),s=i.lineHeight/2+e._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:u}=e._drawArgs(s);sn(r,n.text,0,0,i,{color:n.color,maxWidth:c,rotation:u,textAlign:Cl(n.align),textBaseline:"middle",translation:[o,l]})}}function l2(t,e){const r=new Dh({ctx:t.ctx,options:e,chart:t});Ft.configure(t,r,e),Ft.addBox(t,r),t.titleBlock=r}var c2={id:"title",_element:Dh,start(t,e,r){l2(t,r)},stop(t){const e=t.titleBlock;Ft.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;Ft.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yi={average(t){if(!t.length)return!1;let e,r,n=0,i=0,a=0;for(e=0,r=t.length;e<r;++e){const s=t[e].element;if(s&&s.hasValue()){const o=s.tooltipPosition();n+=o.x,i+=o.y,++a}}return{x:n/a,y:i/a}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,i=Number.POSITIVE_INFINITY,a,s,o;for(a=0,s=t.length;a<s;++a){const l=t[a].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Vo(e,c);u<i&&(i=u,o=l)}}if(o){const l=o.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function Yt(t,e){return e&&(Fe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function dr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function u2(t,e){const{element:r,datasetIndex:n,index:i}=e,a=t.getDatasetMeta(n).controller,{label:s,value:o}=a.getLabelAndValue(i);return{chart:t,label:s,parsed:a.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:o,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function of(t,e){const r=t._chart.ctx,{body:n,footer:i,title:a}=t,{boxWidth:s,boxHeight:o}=e,l=nt(e.bodyFont),c=nt(e.titleFont),u=nt(e.footerFont),f=a.length,d=i.length,p=n.length,h=Ct(e.padding);let g=h.height,y=0,b=n.reduce((B,I)=>B+I.before.length+I.lines.length+I.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,f&&(g+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),b){const B=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;g+=p*B+(b-p)*l.lineHeight+(b-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let S=0;const E=function(B){y=Math.max(y,r.measureText(B).width+S)};return r.save(),r.font=c.string,we(t.title,E),r.font=l.string,we(t.beforeBody.concat(t.afterBody),E),S=e.displayColors?s+2:0,we(n,B=>{we(B.before,E),we(B.lines,E),we(B.after,E)}),S=0,r.font=u.string,we(t.footer,E),r.restore(),y+=h.width,{width:y,height:g}}function f2(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function d2(t,e,r,n){const{x:i,width:a}=n,s=r.caretSize+r.caretPadding;if(t==="left"&&i+a+s>e.width||t==="right"&&i-a-s<0)return!0}function h2(t,e,r,n){const{x:i,width:a}=r,{width:s,chartArea:{left:o,right:l}}=t;let c="center";return n==="center"?c=i<=(o+l)/2?"left":"right":i<=a/2?c="left":i>=s-a/2&&(c="right"),d2(c,t,e,r)&&(c="center"),c}function lf(t,e,r){const n=e.yAlign||f2(t,r);return{xAlign:e.xAlign||h2(t,e,r,n),yAlign:n}}function p2(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function g2(t,e,r){let{y:n,height:i}=t;return e==="top"?n+=r:e==="bottom"?n-=i+r:n-=i/2,n}function cf(t,e,r,n){const{caretSize:i,caretPadding:a,cornerRadius:s}=t,{xAlign:o,yAlign:l}=r,c=i+a,u=s+a;let f=p2(e,o);const d=g2(e,l,c);return l==="center"?o==="left"?f+=c:o==="right"&&(f-=c):o==="left"?f-=u:o==="right"&&(f+=u),{x:_t(f,0,n.width-e.width),y:_t(d,0,n.height-e.height)}}function sa(t,e,r){const n=Ct(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function uf(t){return Yt([],dr(t))}function y2(t,e,r){return Object.assign(Object.create(t),{tooltip:e,tooltipItems:r,type:"tooltip"})}function ff(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}class Yo extends Gt{constructor(e){super(),this.opacity=0,this._active=[],this._chart=e._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this,r=e._cachedAnimations;if(r)return r;const n=e._chart,i=e.options.setContext(e.getContext()),a=i.enabled&&n.options.animation&&i.animations,s=new dh(e._chart,a);return a._cacheable&&(e._cachedAnimations=Object.freeze(s)),s}getContext(){const e=this;return e.$context||(e.$context=y2(e._chart.getContext(),e,e._tooltipItems))}getTitle(e,r){const n=this,{callbacks:i}=r,a=i.beforeTitle.apply(n,[e]),s=i.title.apply(n,[e]),o=i.afterTitle.apply(n,[e]);let l=[];return l=Yt(l,dr(a)),l=Yt(l,dr(s)),l=Yt(l,dr(o)),l}getBeforeBody(e,r){return uf(r.callbacks.beforeBody.apply(this,[e]))}getBody(e,r){const n=this,{callbacks:i}=r,a=[];return we(e,s=>{const o={before:[],lines:[],after:[]},l=ff(i,s);Yt(o.before,dr(l.beforeLabel.call(n,s))),Yt(o.lines,l.label.call(n,s)),Yt(o.after,dr(l.afterLabel.call(n,s))),a.push(o)}),a}getAfterBody(e,r){return uf(r.callbacks.afterBody.apply(this,[e]))}getFooter(e,r){const n=this,{callbacks:i}=r,a=i.beforeFooter.apply(n,[e]),s=i.footer.apply(n,[e]),o=i.afterFooter.apply(n,[e]);let l=[];return l=Yt(l,dr(a)),l=Yt(l,dr(s)),l=Yt(l,dr(o)),l}_createItems(e){const r=this,n=r._active,i=r._chart.data,a=[],s=[],o=[];let l=[],c,u;for(c=0,u=n.length;c<u;++c)l.push(u2(r._chart,n[c]));return e.filter&&(l=l.filter((f,d,p)=>e.filter(f,d,p,i))),e.itemSort&&(l=l.sort((f,d)=>e.itemSort(f,d,i))),we(l,f=>{const d=ff(e.callbacks,f);a.push(d.labelColor.call(r,f)),s.push(d.labelPointStyle.call(r,f)),o.push(d.labelTextColor.call(r,f))}),r.labelColors=a,r.labelPointStyles=s,r.labelTextColors=o,r.dataPoints=l,l}update(e,r){const n=this,i=n.options.setContext(n.getContext()),a=n._active;let s,o=[];if(!a.length)n.opacity!==0&&(s={opacity:0});else{const l=yi[i.position].call(n,a,n._eventPosition);o=n._createItems(i),n.title=n.getTitle(o,i),n.beforeBody=n.getBeforeBody(o,i),n.body=n.getBody(o,i),n.afterBody=n.getAfterBody(o,i),n.footer=n.getFooter(o,i);const c=n._size=of(n,i),u=Object.assign({},l,c),f=lf(n._chart,i,u),d=cf(i,u,f,n._chart);n.xAlign=f.xAlign,n.yAlign=f.yAlign,s={opacity:1,x:d.x,y:d.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}n._tooltipItems=o,n.$context=void 0,s&&n._resolveAnimations().update(n,s),e&&i.external&&i.external.call(n,{chart:n._chart,tooltip:n,replay:r})}drawCaret(e,r,n,i){const a=this.getCaretPosition(e,n,i);r.lineTo(a.x1,a.y1),r.lineTo(a.x2,a.y2),r.lineTo(a.x3,a.y3)}getCaretPosition(e,r,n){const{xAlign:i,yAlign:a}=this,{cornerRadius:s,caretSize:o}=n,{x:l,y:c}=e,{width:u,height:f}=r;let d,p,h,g,y,b;return a==="center"?(y=c+f/2,i==="left"?(d=l,p=d-o,g=y+o,b=y-o):(d=l+u,p=d+o,g=y-o,b=y+o),h=d):(i==="left"?p=l+s+o:i==="right"?p=l+u-s-o:p=this.caretX,a==="top"?(g=c,y=g-o,d=p-o,h=p+o):(g=c+f,y=g+o,d=p+o,h=p-o),b=g),{x1:d,x2:p,x3:h,y1:g,y2:y,y3:b}}drawTitle(e,r,n){const i=this,a=i.title,s=a.length;let o,l,c;if(s){const u=gi(n.rtl,i.x,i.width);for(e.x=sa(i,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",o=nt(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,c=0;c<s;++c)r.fillText(a[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===s&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,i,a){const s=this,o=s.labelColors[n],l=s.labelPointStyles[n],{boxHeight:c,boxWidth:u}=a,f=nt(a.bodyFont),d=sa(s,"left",a),p=i.x(d),h=c<f.lineHeight?(f.lineHeight-c)/2:0,g=r.y+h;if(a.usePointStyle){const y={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=i.leftForLtr(p,u)+u/2,S=g+c/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Ua(e,y,b,S),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Ua(e,y,b,S)}else{e.lineWidth=o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=i.leftForLtr(p,u),b=i.leftForLtr(i.xPlus(p,1),u-2),S=wl(o.borderRadius);Object.values(S).some(E=>E!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Fa(e,{x:y,y:g,w:u,h:c,radius:S}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Fa(e,{x:b,y:g+1,w:u-2,h:c-2,radius:S}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(y,g,u,c),e.strokeRect(y,g,u,c),e.fillStyle=o.backgroundColor,e.fillRect(b,g+1,u-2,c-2))}e.fillStyle=s.labelTextColors[n]}drawBody(e,r,n){const i=this,{body:a}=i,{bodySpacing:s,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:u}=n,f=nt(n.bodyFont);let d=f.lineHeight,p=0;const h=gi(n.rtl,i.x,i.width),g=function(D){r.fillText(D,h.x(e.x+p),e.y+d/2),e.y+=d+s},y=h.textAlign(o);let b,S,E,B,I,T,N;for(r.textAlign=o,r.textBaseline="middle",r.font=f.string,e.x=sa(i,y,n),r.fillStyle=n.bodyColor,we(i.beforeBody,g),p=l&&y!=="right"?o==="center"?u/2+1:u+2:0,B=0,T=a.length;B<T;++B){for(b=a[B],S=i.labelTextColors[B],r.fillStyle=S,we(b.before,g),E=b.lines,l&&E.length&&(i._drawColorBox(r,e,B,h,n),d=Math.max(f.lineHeight,c)),I=0,N=E.length;I<N;++I)g(E[I]),d=f.lineHeight;we(b.after,g)}p=0,d=f.lineHeight,we(i.afterBody,g),e.y-=s}drawFooter(e,r,n){const i=this,a=i.footer,s=a.length;let o,l;if(s){const c=gi(n.rtl,i.x,i.width);for(e.x=sa(i,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",o=nt(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,l=0;l<s;++l)r.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,i){const{xAlign:a,yAlign:s}=this,{x:o,y:l}=e,{width:c,height:u}=n,f=i.cornerRadius;r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(o+f,l),s==="top"&&this.drawCaret(e,r,n,i),r.lineTo(o+c-f,l),r.quadraticCurveTo(o+c,l,o+c,l+f),s==="center"&&a==="right"&&this.drawCaret(e,r,n,i),r.lineTo(o+c,l+u-f),r.quadraticCurveTo(o+c,l+u,o+c-f,l+u),s==="bottom"&&this.drawCaret(e,r,n,i),r.lineTo(o+f,l+u),r.quadraticCurveTo(o,l+u,o,l+u-f),s==="center"&&a==="left"&&this.drawCaret(e,r,n,i),r.lineTo(o,l+f),r.quadraticCurveTo(o,l,o+f,l),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this,n=r._chart,i=r.$animations,a=i&&i.x,s=i&&i.y;if(a||s){const o=yi[e.position].call(r,r._active,r._eventPosition);if(!o)return;const l=r._size=of(r,e),c=Object.assign({},o,r._size),u=lf(n,e,c),f=cf(e,c,u,n);(a._to!==f.x||s._to!==f.y)&&(r.xAlign=u.xAlign,r.yAlign=u.yAlign,r.width=l.width,r.height=l.height,r.caretX=o.x,r.caretY=o.y,r._resolveAnimations().update(r,f))}}draw(e){const r=this,n=r.options.setContext(r.getContext());let i=r.opacity;if(!i)return;r._updateAnimationTarget(n);const a={width:r.width,height:r.height},s={x:r.x,y:r.y};i=Math.abs(i)<.001?0:i;const o=Ct(n.padding),l=r.title.length||r.beforeBody.length||r.body.length||r.afterBody.length||r.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,r.drawBackground(s,e,a,n),oh(e,n.textDirection),s.y+=o.top,r.drawTitle(s,e,n),r.drawBody(s,e,n),r.drawFooter(s,e,n),lh(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this,i=n._active,a=e.map(({datasetIndex:l,index:c})=>{const u=n._chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!Na(i,a),o=n._positionChanged(a,r);(s||o)&&(n._active=a,n._eventPosition=r,n.update(!0))}handleEvent(e,r){const n=this,i=n.options,a=n._active||[];let s=!1,o=[];e.type!=="mouseout"&&(o=n._chart.getElementsAtEventForMode(e,i.mode,i,r),i.reverse&&o.reverse());const l=n._positionChanged(o,e);return s=r||!Na(o,a)||l,s&&(n._active=o,(i.enabled||i.external)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0,r))),s}_positionChanged(e,r){const{caretX:n,caretY:i,options:a}=this,s=yi[a.position].call(this,e,r);return s!==!1&&(n!==s.x||i!==s.y)}}Yo.positioners=yi;var m2={id:"tooltip",_element:Yo,positioners:yi,afterInit(t,e,r){r&&(t.tooltip=new Yo({_chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip,r={tooltip:e};t.notifyPlugins("beforeTooltipDraw",r)!==!1&&(e&&e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r))},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:cr,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:cr,beforeBody:cr,beforeLabel:cr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return Se(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:cr,afterBody:cr,beforeFooter:cr,footer:cr,afterFooter:cr}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},v2=Object.freeze({__proto__:null,Decimation:VE,Filler:i2,Legend:o2,Title:c2,Tooltip:m2});const x2=(t,e,r)=>typeof e=="string"?t.push(e)-1:isNaN(e)?null:r;function b2(t,e,r){const n=t.indexOf(e);if(n===-1)return x2(t,e,r);const i=t.lastIndexOf(e);return n!==i?r:n}const C2=(t,e)=>t===null?null:_t(Math.round(t),0,e);class za extends fn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0}parse(e,r){if(Se(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:b2(n,e,me(r,e)),C2(r,n.length-1)}determineDataLimits(){const e=this,{minDefined:r,maxDefined:n}=e.getUserBounds();let{min:i,max:a}=e.getMinMax(!0);e.options.bounds==="ticks"&&(r||(i=0),n||(a=e.getLabels().length-1)),e.min=i,e.max=a}buildTicks(){const e=this,r=e.min,n=e.max,i=e.options.offset,a=[];let s=e.getLabels();s=r===0&&n===s.length-1?s:s.slice(r,n+1),e._valueRange=Math.max(s.length-(i?0:1),1),e._startValue=e.min-(i?.5:0);for(let o=r;o<=n;o++)a.push({value:o});return a}getLabelForValue(e){const n=this.getLabels();return e>=0&&e<n.length?n[e]:e}configure(){const e=this;super.configure(),e.isHorizontal()||(e._reversePixels=!e._reversePixels)}getPixelForValue(e){const r=this;return typeof e!="number"&&(e=r.parse(e)),e===null?NaN:r.getPixelForDecimal((e-r._startValue)/r._valueRange)}getPixelForTick(e){const r=this,n=r.ticks;return e<0||e>n.length-1?null:r.getPixelForValue(n[e].value)}getValueForPixel(e){const r=this;return Math.round(r._startValue+r.getDecimalForPixel(e)*r._valueRange)}getBasePixel(){return this.bottom}}za.id="category";za.defaults={ticks:{callback:za.prototype.getLabelForValue}};function S2(t,e){const r=[],{bounds:i,step:a,min:s,max:o,precision:l,count:c,maxTicks:u,maxDigits:f,includeBounds:d}=t,p=a||1,h=u-1,{min:g,max:y}=e,b=!Se(s),S=!Se(o),E=!Se(c),B=(y-g)/(f+1);let I=lu((y-g)/h/p)*p,T,N,D,F;if(I<1e-14&&!b&&!S)return[{value:g},{value:y}];F=Math.ceil(y/I)-Math.floor(g/I),F>h&&(I=lu(F*I/h/p)*p),Se(l)||(T=Math.pow(10,l),I=Math.ceil(I*T)/T),i==="ticks"?(N=Math.floor(g/I)*I,D=Math.ceil(y/I)*I):(N=g,D=y),b&&S&&a&&_b((o-s)/a,I/1e3)?(F=Math.min((o-s)/I,u),I=(o-s)/F,N=s,D=o):E?(N=b?s:N,D=S?o:D,F=c-1,I=(D-N)/F):(F=(D-N)/I,pa(F,Math.round(F),I/1e3)?F=Math.round(F):F=Math.ceil(F));const H=Math.max(cu(I),cu(N));T=Math.pow(10,Se(l)?H:l),N=Math.round(N*T)/T,D=Math.round(D*T)/T;let j=0;for(b&&(d&&N!==s?(r.push({value:s}),N<s&&j++,pa(Math.round((N+j*I)*T)/T,s,df(s,B,t))&&j++):N<s&&j++);j<F;++j)r.push({value:Math.round((N+j*I)*T)/T});return S&&d&&D!==o?pa(r[r.length-1].value,o,df(o,B,t))?r[r.length-1].value=o:r.push({value:o}):(!S||D===o)&&r.push({value:D}),r}function df(t,e,{horizontal:r,minRotation:n}){const i=Wt(n),a=(r?Math.sin(i):Math.cos(i))||.001,s=.75*e*(""+t).length;return Math.min(e/a,s)}class Ha extends fn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return Se(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const e=this,{beginAtZero:r}=e.options,{minDefined:n,maxDefined:i}=e.getUserBounds();let{min:a,max:s}=e;const o=c=>a=n?a:c,l=c=>s=i?s:c;if(r){const c=Or(a),u=Or(s);c<0&&u<0?l(0):c>0&&u>0&&o(0)}a===s&&(l(s+1),r||o(a-1)),e.min=a,e.max=s}getTickLimit(){const e=this,r=e.options.ticks;let{maxTicksLimit:n,stepSize:i}=r,a;return i?a=Math.ceil(e.max/i)-Math.floor(e.min/i)+1:(a=e.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this,r=e.options,n=r.ticks;let i=e.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:r.bounds,min:r.min,max:r.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:e._maxDigits(),horizontal:e.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=e._range||e,o=S2(a,s);return r.bounds==="ticks"&&$d(o,e,"value"),r.reverse?(o.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),o}configure(){const e=this,r=e.ticks;let n=e.min,i=e.max;if(super.configure(),e.options.offset&&r.length){const a=(i-n)/Math.max(r.length-1,1)/2;n-=a,i+=a}e._startValue=n,e._endValue=i,e._valueRange=i-n}getLabelForValue(e){return Li(e,this.chart.options.locale)}}class Nl extends Ha{determineDataLimits(){const e=this,{min:r,max:n}=e.getMinMax(!0);e.min=qe(r)?r:0,e.max=qe(n)?n:1,e.handleTickRangeOptions()}computeTickLimit(){const e=this,r=e.isHorizontal(),n=r?e.width:e.height,i=Wt(e.options.ticks.minRotation),a=(r?Math.sin(i):Math.cos(i))||.001,s=e._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Nl.id="linear";Nl.defaults={ticks:{callback:hs.formatters.numeric}};function hf(t){return t/Math.pow(10,Math.floor(Dt(t)))===1}function E2(t,e){const r=Math.floor(Dt(e.max)),n=Math.ceil(e.max/Math.pow(10,r)),i=[];let a=Nt(t.min,Math.pow(10,Math.floor(Dt(e.min)))),s=Math.floor(Dt(a)),o=Math.floor(a/Math.pow(10,s)),l=s<0?Math.pow(10,Math.abs(s)):1;do i.push({value:a,major:hf(a)}),++o,o===10&&(o=1,++s,l=s>=0?1:l),a=Math.round(o*Math.pow(10,s)*l)/l;while(s<r||s===r&&o<n);const c=Nt(t.max,a);return i.push({value:c,major:hf(a)}),i}class Ll extends fn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=Ha.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return qe(n)&&n>0?n:null}determineDataLimits(){const e=this,{min:r,max:n}=e.getMinMax(!0);e.min=qe(r)?Math.max(0,r):null,e.max=qe(n)?Math.max(0,n):null,e.options.beginAtZero&&(e._zero=!0),e.handleTickRangeOptions()}handleTickRangeOptions(){const e=this,{minDefined:r,maxDefined:n}=e.getUserBounds();let i=e.min,a=e.max;const s=c=>i=r?i:c,o=c=>a=n?a:c,l=(c,u)=>Math.pow(10,Math.floor(Dt(c))+u);i===a&&(i<=0?(s(1),o(10)):(s(l(i,-1)),o(l(a,1)))),i<=0&&s(l(a,-1)),a<=0&&o(l(i,1)),e._zero&&e.min!==e._suggestedMin&&i===l(e.min,0)&&s(l(i,-1)),e.min=i,e.max=a}buildTicks(){const e=this,r=e.options,n={min:e._userMin,max:e._userMax},i=E2(n,e);return r.bounds==="ticks"&&$d(i,e,"value"),r.reverse?(i.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),i}getLabelForValue(e){return e===void 0?"0":Li(e,this.chart.options.locale)}configure(){const e=this,r=e.min;super.configure(),e._startValue=Dt(r),e._valueRange=Dt(e.max)-Dt(r)}getPixelForValue(e){const r=this;return(e===void 0||e===0)&&(e=r.min),e===null||isNaN(e)?NaN:r.getPixelForDecimal(e===r.min?0:(Dt(e)-r._startValue)/r._valueRange)}getValueForPixel(e){const r=this,n=r.getDecimalForPixel(e);return Math.pow(10,r._startValue+n*r._valueRange)}}Ll.id="logarithmic";Ll.defaults={ticks:{callback:hs.formatters.logarithmic,major:{enabled:!0}}};function Qo(t){const e=t.ticks;if(e.display&&t.display){const r=Ct(e.backdropPadding);return me(e.font&&e.font.size,be.font.size)+r.height}return 0}function _2(t,e,r){return Fe(r)?{w:Yb(t,t.font,r),h:r.length*e}:{w:t.measureText(r).width,h:e}}function pf(t,e,r,n,i){return t===n||t===i?{start:e-r/2,end:e+r/2}:t<n||t>i?{start:e-r,end:e}:{start:e,end:e+r}}function T2(t){const e={l:0,r:t.width,t:0,b:t.height-t.paddingTop},r={};let n,i,a;const s=[],o=[],l=t.getLabels().length;for(n=0;n<l;n++){const d=t.options.pointLabels.setContext(t.getContext(n));o[n]=d.padding,a=t.getPointPosition(n,t.drawingArea+o[n]);const p=nt(d.font);t.ctx.font=p.string,i=_2(t.ctx,p.lineHeight,t._pointLabels[n]),s[n]=i;const h=t.getIndexAngle(n),g=Fo(h),y=pf(g,a.x,i.w,0,180),b=pf(g,a.y,i.h,90,270);y.start<e.l&&(e.l=y.start,r.l=h),y.end>e.r&&(e.r=y.end,r.r=h),b.start<e.t&&(e.t=b.start,r.t=h),b.end>e.b&&(e.b=b.end,r.b=h)}t._setReductions(t.drawingArea,e,r),t._pointLabelItems=[];const c=t.options,u=Qo(c),f=t.getDistanceFromCenterForValue(c.ticks.reverse?t.min:t.max);for(n=0;n<l;n++){const d=n===0?u/2:0,p=t.getPointPosition(n,f+d+o[n]),h=Fo(t.getIndexAngle(n)),g=s[n];I2(h,g,p);const y=A2(h);let b;y==="left"?b=p.x:y==="center"?b=p.x-g.w/2:b=p.x-g.w;const S=b+g.w;t._pointLabelItems[n]={x:p.x,y:p.y,textAlign:y,left:b,top:p.y,right:S,bottom:p.y+g.h}}}function A2(t){return t===0||t===180?"center":t<180?"left":"right"}function I2(t,e,r){t===90||t===270?r.y-=e.h/2:(t>270||t<90)&&(r.y-=e.h)}function w2(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let i=e-1;i>=0;i--){const a=n.setContext(t.getContext(i)),s=nt(a.font),{x:o,y:l,textAlign:c,left:u,top:f,right:d,bottom:p}=t._pointLabelItems[i],{backdropColor:h}=a;if(!Se(h)){const g=Ct(a.backdropPadding);r.fillStyle=h,r.fillRect(u-g.left,f-g.top,d-u+g.width,p-f+g.height)}sn(r,t._pointLabels[i],o,l+s.lineHeight/2,s,{color:a.color,textAlign:c,textBaseline:"middle"})}}function Ph(t,e,r,n){const{ctx:i}=t;if(r)i.arc(t.xCenter,t.yCenter,e,0,ke);else{let a=t.getPointPosition(0,e);i.moveTo(a.x,a.y);for(let s=1;s<n;s++)a=t.getPointPosition(s,e),i.lineTo(a.x,a.y)}}function B2(t,e,r,n){const i=t.ctx,a=e.circular,{color:s,lineWidth:o}=e;!a&&!n||!s||!o||r<0||(i.save(),i.strokeStyle=s,i.lineWidth=o,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),Ph(t,r,a,n),i.closePath(),i.stroke(),i.restore())}function oa(t){return Rn(t)?t:0}class Oi extends Ha{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=Qo(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2}determineDataLimits(){const e=this,{min:r,max:n}=e.getMinMax(!1);e.min=qe(r)&&!isNaN(r)?r:0,e.max=qe(n)&&!isNaN(n)?n:0,e.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Qo(this.options))}generateTickLabels(e){const r=this;Ha.prototype.generateTickLabels.call(r,e),r._pointLabels=r.getLabels().map((n,i)=>{const a=Le(r.options.pointLabels.callback,[n,i],r);return a||a===0?a:""})}fit(){const e=this,r=e.options;r.display&&r.pointLabels.display?T2(e):e.setCenterPoint(0,0,0,0)}_setReductions(e,r,n){const i=this;let a=r.l/Math.sin(n.l),s=Math.max(r.r-i.width,0)/Math.sin(n.r),o=-r.t/Math.cos(n.t),l=-Math.max(r.b-(i.height-i.paddingTop),0)/Math.cos(n.b);a=oa(a),s=oa(s),o=oa(o),l=oa(l),i.drawingArea=Math.max(e/2,Math.min(Math.floor(e-(a+s)/2),Math.floor(e-(o+l)/2))),i.setCenterPoint(a,s,o,l)}setCenterPoint(e,r,n,i){const a=this,s=a.width-r-a.drawingArea,o=e+a.drawingArea,l=n+a.drawingArea,c=a.height-a.paddingTop-i-a.drawingArea;a.xCenter=Math.floor((o+s)/2+a.left),a.yCenter=Math.floor((l+c)/2+a.top+a.paddingTop)}getIndexAngle(e){const r=ke/this.getLabels().length,n=this.options.startAngle||0;return zt(e*r+Wt(n))}getDistanceFromCenterForValue(e){const r=this;if(Se(e))return NaN;const n=r.drawingArea/(r.max-r.min);return r.options.reverse?(r.max-e)*n:(e-r.min)*n}getValueForDistanceFromCenter(e){if(Se(e))return NaN;const r=this,n=e/(r.drawingArea/(r.max-r.min));return r.options.reverse?r.max-n:r.min+n}getPointPosition(e,r){const n=this,i=n.getIndexAngle(e)-je;return{x:Math.cos(i)*r+n.xCenter,y:Math.sin(i)*r+n.yCenter,angle:i}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:i,bottom:a}=this._pointLabelItems[e];return{left:r,top:n,right:i,bottom:a}}drawBackground(){const e=this,{backgroundColor:r,grid:{circular:n}}=e.options;if(r){const i=e.ctx;i.save(),i.beginPath(),Ph(e,e.getDistanceFromCenterForValue(e._endValue),n,e.getLabels().length),i.closePath(),i.fillStyle=r,i.fill(),i.restore()}}drawGrid(){const e=this,r=e.ctx,n=e.options,{angleLines:i,grid:a}=n,s=e.getLabels().length;let o,l,c;if(n.pointLabels.display&&w2(e,s),a.display&&e.ticks.forEach((u,f)=>{if(f!==0){l=e.getDistanceFromCenterForValue(u.value);const d=a.setContext(e.getContext(f-1));B2(e,d,l,s)}}),i.display){for(r.save(),o=e.getLabels().length-1;o>=0;o--){const u=i.setContext(e.getContext(o)),{color:f,lineWidth:d}=u;!d||!f||(r.lineWidth=d,r.strokeStyle=f,r.setLineDash(u.borderDash),r.lineDashOffset=u.borderDashOffset,l=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),c=e.getPointPosition(o,l),r.beginPath(),r.moveTo(e.xCenter,e.yCenter),r.lineTo(c.x,c.y),r.stroke())}r.restore()}}drawBorder(){}drawLabels(){const e=this,r=e.ctx,n=e.options,i=n.ticks;if(!i.display)return;const a=e.getIndexAngle(0);let s,o;r.save(),r.translate(e.xCenter,e.yCenter),r.rotate(a),r.textAlign="center",r.textBaseline="middle",e.ticks.forEach((l,c)=>{if(c===0&&!n.reverse)return;const u=i.setContext(e.getContext(c)),f=nt(u.font);if(s=e.getDistanceFromCenterForValue(e.ticks[c].value),u.showLabelBackdrop){o=r.measureText(l.label).width,r.fillStyle=u.backdropColor;const d=Ct(u.backdropPadding);r.fillRect(-o/2-d.left,-s-f.size/2-d.top,o+d.width,f.size+d.height)}sn(r,l.label,0,-s,f,{color:u.color})}),r.restore()}drawTitle(){}}Oi.id="radialLinear";Oi.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:hs.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5}};Oi.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Oi.descriptors={angleLines:{_fallback:"grid"}};const vs={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},St=Object.keys(vs);function R2(t,e){return t-e}function gf(t,e){if(Se(e))return null;const r=t._adapter,{parser:n,round:i,isoWeekday:a}=t._parseOpts;let s=e;return typeof n=="function"&&(s=n(s)),qe(s)||(s=typeof n=="string"?r.parse(s,n):r.parse(s)),s===null?null:(i&&(s=i==="week"&&(Rn(a)||a===!0)?r.startOf(s,"isoWeek",a):r.startOf(s,i)),+s)}function yf(t,e,r,n){const i=St.length;for(let a=St.indexOf(t);a<i-1;++a){const s=vs[St[a]],o=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((r-e)/(o*s.size))<=n)return St[a]}return St[i-1]}function k2(t,e,r,n,i){for(let a=St.length-1;a>=St.indexOf(r);a--){const s=St[a];if(vs[s].common&&t._adapter.diff(i,n,s)>=e-1)return s}return St[r?St.indexOf(r):0]}function N2(t){for(let e=St.indexOf(t)+1,r=St.length;e<r;++e)if(vs[St[e]].common)return St[e]}function mf(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:i}=ss(r,e),a=r[n]>=e?r[n]:r[i];t[a]=!0}}function L2(t,e,r,n){const i=t._adapter,a=+i.startOf(e[0].value,n),s=e[e.length-1].value;let o,l;for(o=a;o<=s;o=+i.add(o,1,n))l=r[o],l>=0&&(e[l].major=!0);return e}function vf(t,e,r){const n=[],i={},a=e.length;let s,o;for(s=0;s<a;++s)o=e[s],i[o]=s,n.push({value:o,major:!1});return a===0||!r?n:L2(t,n,i,r)}class Mi extends fn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r){const n=e.time||(e.time={}),i=this._adapter=new dS._date(e.adapters.date);di(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:gf(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this,r=e.options,n=e._adapter,i=r.time.unit||"day";let{min:a,max:s,minDefined:o,maxDefined:l}=e.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!l)&&(c(e._getLabelBounds()),(r.bounds!=="ticks"||r.ticks.source!=="labels")&&c(e.getMinMax(!1))),a=qe(a)&&!isNaN(a)?a:+n.startOf(Date.now(),i),s=qe(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,e.min=Math.min(a,s-1),e.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this,r=e.options,n=r.time,i=r.ticks,a=i.source==="labels"?e.getLabelTimestamps():e._generate();r.bounds==="ticks"&&a.length&&(e.min=e._userMin||a[0],e.max=e._userMax||a[a.length-1]);const s=e.min,o=e.max,l=iC(a,s,o);return e._unit=n.unit||(i.autoSkip?yf(n.minUnit,e.min,e.max,e._getLabelCapacity(s)):k2(e,l.length,n.minUnit,e.min,e.max)),e._majorUnit=!i.major.enabled||e._unit==="year"?void 0:N2(e._unit),e.initOffsets(a),r.reverse&&l.reverse(),vf(e,l,e._majorUnit)}initOffsets(e){const r=this;let n=0,i=0,a,s;r.options.offset&&e.length&&(a=r.getDecimalForValue(e[0]),e.length===1?n=1-a:n=(r.getDecimalForValue(e[1])-a)/2,s=r.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-r.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=_t(n,0,o),i=_t(i,0,o),r._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this,r=e._adapter,n=e.min,i=e.max,a=e.options,s=a.time,o=s.unit||yf(s.minUnit,n,i,e._getLabelCapacity(n)),l=me(s.stepSize,1),c=o==="week"?s.isoWeekday:!1,u=Rn(c)||c===!0,f={};let d=n,p,h;if(u&&(d=+r.startOf(d,"isoWeek",c)),d=+r.startOf(d,u?"day":o),r.diff(i,n,o)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+o);const g=a.ticks.source==="data"&&e.getDataTimestamps();for(p=d,h=0;p<i;p=+r.add(p,l,o),h++)mf(f,p,g);return(p===i||a.bounds==="ticks"||h===1)&&mf(f,p,g),Object.keys(f).sort((y,b)=>y-b).map(y=>+y)}getLabelForValue(e){const r=this,n=r._adapter,i=r.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}_tickFormatFunction(e,r,n,i){const a=this,s=a.options,o=s.time.displayFormats,l=a._unit,c=a._majorUnit,u=l&&o[l],f=c&&o[c],d=n[r],p=c&&f&&d&&d.major,h=a._adapter.format(e,i||(p?f:u)),g=s.ticks.callback;return g?Le(g,[h,r,n],a):h}generateTickLabels(e){let r,n,i;for(r=0,n=e.length;r<n;++r)i=e[r],i.label=this._tickFormatFunction(i.value,r,e)}getDecimalForValue(e){const r=this;return e===null?NaN:(e-r.min)/(r.max-r.min)}getPixelForValue(e){const r=this,n=r._offsets,i=r.getDecimalForValue(e);return r.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const r=this,n=r._offsets,i=r.getDecimalForPixel(e)/n.factor-n.end;return r.min+i*(r.max-r.min)}_getLabelSize(e){const r=this,n=r.options.ticks,i=r.ctx.measureText(e).width,a=Wt(r.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(a),o=Math.sin(a),l=r._resolveTickFontOptions(0).size;return{w:i*s+l*o,h:i*o+l*s}}_getLabelCapacity(e){const r=this,n=r.options.time,i=n.displayFormats,a=i[n.unit]||i.millisecond,s=r._tickFormatFunction(e,0,vf(r,[e],r._majorUnit),a),o=r._getLabelSize(s),l=Math.floor(r.isHorizontal()?r.width/o.w:r.height/o.h)-1;return l>0?l:1}getDataTimestamps(){const e=this;let r=e._cache.data||[],n,i;if(r.length)return r;const a=e.getMatchingVisibleMetas();if(e._normalized&&a.length)return e._cache.data=a[0].controller.getAllParsedValues(e);for(n=0,i=a.length;n<i;++n)r=r.concat(a[n].controller.getAllParsedValues(e));return e._cache.data=e.normalize(r)}getLabelTimestamps(){const e=this,r=e._cache.labels||[];let n,i;if(r.length)return r;const a=e.getLabels();for(n=0,i=a.length;n<i;++n)r.push(gf(e,a[n]));return e._cache.labels=e._normalized?r:e.normalize(r)}normalize(e){return Jd(e.sort(R2))}}Mi.id="time";Mi.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function xf(t,e,r){let n,i,a,s;if(r)n=Math.floor(e),i=Math.ceil(e),a=t[n],s=t[i];else{const l=ss(t,e);a=l.lo,s=l.hi,n=t[a],i=t[s]}const o=i-n;return o?a+(s-a)*(e-n)/o:a}class Dl extends Mi{constructor(e){super(e),this._table=[],this._maxIndex=void 0}initOffsets(){const e=this,r=e._getTimestampsForTable();e._table=e.buildLookupTable(r),e._maxIndex=e._table.length-1,super.initOffsets(r)}buildLookupTable(e){const r=this,{min:n,max:i}=r;if(!e.length)return[{time:n,pos:0},{time:i,pos:1}];const a=[n];let s,o,l;for(s=0,o=e.length;s<o;++s)l=e[s],l>n&&l<i&&a.push(l);return a.push(i),a}_getTimestampsForTable(){const e=this;let r=e._cache.all||[];if(r.length)return r;const n=e.getDataTimestamps(),i=e.getLabelTimestamps();return n.length&&i.length?r=e.normalize(n.concat(i)):r=n.length?n:i,r=e._cache.all=r,r}getPixelForValue(e,r){const n=this,i=n._offsets,a=n._normalized&&n._maxIndex>0&&!Se(r)?r/n._maxIndex:n.getDecimalForValue(e);return n.getPixelForDecimal((i.start+a)*i.factor)}getDecimalForValue(e){return xf(this._table,e)/this._maxIndex}getValueForPixel(e){const r=this,n=r._offsets,i=r.getDecimalForPixel(e)/n.factor-n.end;return xf(r._table,i*this._maxIndex,!0)}}Dl.id="timeseries";Dl.defaults=Mi.defaults;var D2=Object.freeze({__proto__:null,CategoryScale:za,LinearScale:Nl,LogarithmicScale:Ll,RadialLinearScale:Oi,TimeScale:Mi,TimeSeriesScale:Dl});const P2=[fS,OE,v2,D2];ps.register(...P2);const X2=Object.freeze(Object.defineProperty({__proto__:null,default:ps},Symbol.toStringTag,{value:"Module"}));export{V2 as A,W2 as _,H2 as a,tu as b,$2 as c,j2 as d,Y2 as e,z2 as f,q2 as g,X2 as h,U2 as l,M2 as o,G2 as r,K2 as s,F2 as u};
