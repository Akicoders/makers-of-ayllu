import{r as t,G as D,j as e,S as N,B as o,f as A,D as O}from"./react-sWiKbk-Z.js";import{A as U}from"./AppLayout-BJnk0JD9.js";import{E as T}from"./EnhancedDataTable-BPwqwYJ3.js";import B from"./UserCreate-BBd-mbwW.js";import I from"./UserEdit-ynjfdmQs.js";import H from"./UserDelete-B-d-kDe4.js";import L from"./UserServices-DdW4W4_z.js";import"./inertia-Dgc5Zg7U.js";import"./axios-ngrFHoWO.js";import"./vendor-Z5AVMo_k.js";import"./app-DEFaNKxM.js";import"./BaseDrawer-BkvK-6Gl.js";import"./ModalDeleteBase-s8Hnz31H.js";const Y=({users:c,estado_choices:u,roles:i,ranks:M})=>{const[p,a]=t.useState(!1),[m,l]=t.useState(!1),[x,n]=t.useState(!1),[h,d]=t.useState(!1),{get:r}=D({id:null}),f=[{key:"name",title:"NOMBRE"},{key:"email",title:"EMAIL"},{key:"role",title:"ROL"},{key:"credits",title:"CREDITOS"},{key:"estado",title:"ESTADO"},{key:"actions",title:"ACCIONES"}],j=["id","name","email","estado"],S={status:null},w=s=>s==="ACTIVO"?"success":"danger",v=()=>a(!0),y=s=>{r(`/administrador/usuarios/show/${s}/`,{preserveState:!0,onSuccess:()=>l(!0)})},E=s=>{r(`/administrador/usuarios/show/${s}/`,{preserveState:!0,onSuccess:()=>n(!0)})},g=s=>{r(`/administrador/usuarios/show/${s}/`,{preserveState:!0,onSuccess:()=>d(!0)})};return e.jsxs(U,{children:[e.jsx(N,{title:"Usuarios"}),e.jsxs("div",{className:"p-4 md:p-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"GestiÃ³n de Usuarios"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Administra, crea y edita los usuarios del sistema."})]}),e.jsx(o,{icon:"pi pi-plus",label:"Agregar Usuario",onClick:v,className:"mt-4 sm:mt-0"})]}),e.jsx(T,{data:c,headers:f,sortableColumns:j,defaultFilters:S,routeSearch:"/administrador/usuarios/",placeholderSearch:"Buscar por nombre o correo...",renderFilters:({filters:s,setData:k,submit:C})=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 block",children:"Estado"}),e.jsx(O,{value:s.status,options:u,optionLabel:"1",optionValue:"0",placeholder:"Todos",className:"w-full",showClear:!0,onChange:b=>{k("status",b.value),setTimeout(()=>C(),0)}})]})}),renderBody:{estado:s=>e.jsx(A,{value:s.estado,severity:w(s.estado),rounded:!0}),actions:s=>e.jsxs("div",{className:"flex justify-start gap-2",children:[e.jsx(o,{tooltip:"Editar",tooltipOptions:{position:"top"},icon:"pi pi-pencil",text:!0,rounded:!0,severity:"info",onClick:()=>y(s.id)}),e.jsx(o,{tooltip:"Eliminar",tooltipOptions:{position:"top"},icon:"pi pi-trash",text:!0,rounded:!0,severity:"danger",onClick:()=>E(s.id)}),e.jsx(o,{tooltip:"Personalizar servicios",tooltipOptions:{position:"top"},icon:"pi pi-cog",text:!0,rounded:!0,severity:"warning",onClick:()=>g(s.id)})]})}})]}),e.jsx(B,{show:p,onHide:()=>a(!1),roles:i}),e.jsx(I,{show:m,onHide:()=>l(!1),roles:i}),e.jsx(H,{show:x,onHide:()=>n(!1)}),e.jsx(L,{show:h,onHide:()=>d(!1)})]})};export{Y as default};
