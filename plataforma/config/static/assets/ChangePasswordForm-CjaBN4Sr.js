import{r as i,G as w,j as e,q as h,C as b,I as g,i as c,B as o,s as C}from"./react-sWiKbk-Z.js";import"./inertia-Dgc5Zg7U.js";import"./axios-ngrFHoWO.js";import"./vendor-Z5AVMo_k.js";const _=()=>{const r=i.useRef(null),[m,s]=i.useState(!1),{data:t,setData:l,post:u,processing:d,reset:x}=w({current_password:"",new_password:"",confirm_password:""}),p=()=>{u("/perfil/change-password/",{preserveScroll:!0,onSuccess:()=>{var a;x(),(a=r.current)==null||a.show({severity:"success",summary:"Éxito",detail:"Contraseña cambiada correctamente.",life:3e3}),s(!1)},onError:a=>{var n;const f=Object.values(a)[0];(n=r.current)==null||n.show({severity:"error",summary:"Error de Validación",detail:String(f),life:5e3})},onFinish:()=>{s(!1)}})};return e.jsxs(e.Fragment,{children:[e.jsx(h,{ref:r}),e.jsxs(b,{className:"shadow-xl rounded-2xl border border-slate-200 dark:border-surface-border bg-white dark:bg-surface-card hover:shadow-lg transition duration-300",title:e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Cambiar Contraseña"}),children:[e.jsxs("form",{onSubmit:a=>{a.preventDefault(),s(!0)},className:"space-y-8 p-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"current_password",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Contraseña Actual"}),e.jsx(g,{id:"current_password",value:t.current_password,onChange:a=>l("current_password",a.target.value),type:"password",className:"w-full rounded-lg",placeholder:"••••••••",required:!0,autoComplete:"current-password"})]}),e.jsxs("div",{className:"gap-2 grid lg:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"new_password",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Nueva Contraseña"}),e.jsx(c,{id:"new_password",value:t.new_password,onChange:a=>l("new_password",a.target.value),toggleMask:!0,className:"w-full",inputClassName:"w-full",promptLabel:"Ingresa una nueva contraseña",weakLabel:"Débil",mediumLabel:"Aceptable",strongLabel:"Segura",placeholder:"••••••••",autoComplete:"new-password"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"confirm_password",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Confirmar Nueva Contraseña"}),e.jsx(c,{id:"confirm_password",value:t.confirm_password,onChange:a=>l("confirm_password",a.target.value),feedback:!1,toggleMask:!0,inputClassName:"w-full",className:"w-full",placeholder:"••••••••",autoComplete:"new-password"})]})]}),e.jsx("div",{className:"flex justify-end border-t border-slate-200 dark:border-slate-700 pt-4 mt-4",children:e.jsx(o,{type:"submit",label:"Cambiar Contraseña",disabled:d,icon:"pi pi-lock",className:"px-5 py-2 font-medium rounded-lg shadow-sm"})})]}),e.jsxs(C,{visible:m,modal:!0,header:"Confirmar Cambio de Contraseña",style:{width:"24rem"},className:"rounded-xl shadow-2xl",onHide:()=>s(!1),children:[e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"¿Estás seguro de que deseas cambiar tu contraseña?"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-2",children:"Esta acción actualizará tu acceso de inmediato."}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(o,{label:"Cancelar",severity:"secondary",text:!0,onClick:()=>s(!1)}),e.jsx(o,{label:"Sí, Cambiar",onClick:p,loading:d})]})]})]})]})};export{_ as default};
