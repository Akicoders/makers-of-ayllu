import{R as p,r as b,G as j,j as e,q as g,C as v,I as i,B as o,s as N}from"./react-sWiKbk-Z.js";import"./inertia-Dgc5Zg7U.js";import"./axios-ngrFHoWO.js";import"./vendor-Z5AVMo_k.js";const w=({user:s})=>{const n=p.useRef(null),[c,l]=b.useState(!1),{data:t,setData:r,post:x,processing:d,isDirty:u}=j({first_name:s.first_name||"",last_name:s.last_name||"",email:s.email||"",username:s.username||"",phone_number:s.phone_number||""}),h=()=>{x("/perfil/update/",{preserveScroll:!0,onSuccess:()=>{var a;(a=n.current)==null||a.show({severity:"success",summary:"Éxito",detail:"Tu perfil ha sido actualizado.",life:3e3}),l(!1)},onError:a=>{var m;const f=Object.values(a)[0];(m=n.current)==null||m.show({severity:"error",summary:"Error de Validación",detail:String(f),life:5e3})},onFinish:()=>{l(!1)}})};return e.jsxs(e.Fragment,{children:[e.jsx(g,{ref:n}),e.jsxs(v,{className:"shadow-xl rounded-2xl border border-slate-200 dark:border-surface-border bg-white dark:bg-surface-card hover:shadow-lg transition-shadow duration-300",title:e.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:"Información del Perfil"}),children:[e.jsxs("form",{onSubmit:a=>{a.preventDefault(),l(!0)},className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 mb-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"first_name",className:"text-slate-700 dark:text-slate-300",children:"Nombre"}),e.jsx(i,{id:"first_name",value:t.first_name,onChange:a=>r("first_name",a.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"last_name",className:"text-slate-700 dark:text-slate-300",children:"Apellidos"}),e.jsx(i,{id:"last_name",value:t.last_name,onChange:a=>r("last_name",a.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2 md:col-span-2",children:[e.jsx("label",{htmlFor:"email",className:"text-slate-700 dark:text-slate-300",children:"Correo Electrónico"}),e.jsx(i,{id:"email",value:t.email,onChange:a=>r("email",a.target.value),type:"email"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"username",className:"text-slate-700 dark:text-slate-300",children:"Nombre de Usuario"}),e.jsx(i,{id:"username",value:t.username,onChange:a=>r("username",a.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"phone_number",className:"text-slate-700 dark:text-slate-300",children:"Teléfono"}),e.jsx(i,{id:"phone_number",value:t.phone_number,onChange:a=>r("phone_number",a.target.value)})]})]}),e.jsx("div",{className:"flex justify-end border-t border-slate-200 dark:border-slate-700 pt-4 mt-2",children:e.jsx(o,{type:"submit",label:"Guardar Cambios",disabled:d||!u,icon:"pi pi-check"})})]}),e.jsxs(N,{visible:c,modal:!0,header:"Confirmar Cambios",style:{width:"25rem"},onHide:()=>l(!1),children:[e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"¿Estás seguro de que deseas actualizar la información de tu perfil?"}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(o,{label:"Cancelar",severity:"secondary",text:!0,onClick:()=>l(!1)}),e.jsx(o,{label:"Sí, Actualizar",onClick:h,loading:d})]})]})]})]})};export{w as default};
