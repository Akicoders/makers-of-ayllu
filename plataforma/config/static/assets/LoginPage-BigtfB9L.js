import{r as a,G as R,j as e,I as E,h as i,M as o,x as j,i as _,l as C,B as I}from"./react-sWiKbk-Z.js";import{u as S}from"./app-DEFaNKxM.js";import{A as M}from"./AuthLayout-BW1xDVse.js";import"./inertia-Dgc5Zg7U.js";import"./axios-ngrFHoWO.js";import"./vendor-Z5AVMo_k.js";import"./FloatingConfigurator-DSB3k6EL.js";const L=({hcaptchaSitekey:b})=>{const{darkMode:g}=S(),d=a.useRef(null),c=a.useRef(null),u=a.useRef(null),x=a.useRef(null),m=a.useRef(null),{data:f,setData:r,post:y,processing:h,errors:t,clearErrors:w}=R({email:"",password:"",remember:!1,hcaptcha:"",ip_address:""}),v=async s=>{s.preventDefault();let p="";try{p=(await(await fetch("https://api.ipify.org/?format=json")).json()).ip}catch(n){console.error("Error al obtener la IP:",n)}y("/login/",{onBefore:n=>{n.data.ip_address=p},onError:()=>{d.current&&d.current.resetCaptcha()}})},N=s=>{r("hcaptcha",s),t.hcaptcha&&w("hcaptcha")},k=()=>{r("hcaptcha","")},l=s=>s?Array.isArray(s)?s[0]:s:null;return e.jsxs(M,{children:[e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Iniciar Sesión"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Ingresa tus credenciales para acceder"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6 mt-8",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 ml-1",children:"Correo electrónico"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:e.jsx("i",{className:"pi pi-envelope text-slate-400"})}),e.jsx(E,{id:"email",value:f.email,onChange:s=>r("email",s.target.value),className:`w-full pl-12 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 text-slate-900 dark:text-white placeholder:text-slate-400 focus:border-cyan-500 focus:ring-4 focus:ring-cyan-500/10 transition-all duration-200 outline-none shadow-sm ${t.email?"!border-red-500 focus:!ring-red-500/10":""}`,placeholder:"tu@email.com"})]}),e.jsx(i,{in:!!t.email,timeout:300,classNames:"slide-fade",unmountOnExit:!0,nodeRef:c,children:e.jsx("div",{ref:c,children:e.jsx(o,{severity:"error",className:"mt-1.5 w-full justify-start text-xs shadow-none bg-transparent p-0 text-red-500 font-medium",text:l(t.email)})})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5 ml-1",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Contraseña"}),e.jsx(j,{href:"/password-reset/",className:"text-xs font-semibold text-cyan-600 hover:text-cyan-500 dark:text-cyan-400 dark:hover:text-cyan-300 transition-colors",children:"¿Olvidaste tu contraseña?"})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:e.jsx("i",{className:"pi pi-lock text-slate-400"})}),e.jsx(_,{id:"password",value:f.password,onChange:s=>r("password",s.target.value),toggleMask:!0,feedback:!1,inputStyle:{width:"100%"},style:{width:"100%"},inputClassName:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 text-slate-900 dark:text-white placeholder:text-slate-400 focus:border-cyan-500 focus:ring-4 focus:ring-cyan-500/10 transition-all duration-200 outline-none shadow-sm",className:"w-full flex",placeholder:"••••••••",invalid:!!t.password})]}),e.jsx(i,{in:!!t.password,timeout:300,classNames:"slide-fade",unmountOnExit:!0,nodeRef:u,children:e.jsx("div",{ref:u,children:e.jsx(o,{severity:"error",className:"mt-1.5 w-full justify-start text-xs shadow-none bg-transparent p-0 text-red-500 font-medium",text:l(t.password)})})})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(C,{ref:d,sitekey:b,onVerify:N,onExpire:k,theme:g?"dark":"light"})}),e.jsx(i,{in:!!t.hcaptcha,timeout:300,classNames:"slide-fade",unmountOnExit:!0,nodeRef:x,children:e.jsx("div",{ref:x,children:e.jsx(o,{severity:"error",className:"w-full justify-start",text:l(t.hcaptcha)})})}),e.jsx(i,{in:!!t.__all__,timeout:300,classNames:"slide-fade",unmountOnExit:!0,nodeRef:m,children:e.jsx("div",{ref:m,children:e.jsx(o,{severity:"error",className:"w-full justify-start",text:l(t.__all__)})})}),e.jsx(I,{type:"submit",label:h?"Ingresando...":"Iniciar Sesión",className:"w-full py-3.5 font-bold text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg shadow-lg shadow-cyan-500/20 transition-all duration-200 outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500",loading:h})]}),e.jsxs("div",{className:"relative mt-8",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-800"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white/70 dark:bg-slate-900/70 lg:bg-white lg:dark:bg-slate-950 text-slate-500",children:"¿No tienes una cuenta?"})})]}),e.jsx(j,{href:"/register/",className:"flex items-center justify-center w-full mt-6 py-3.5 font-medium text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-all duration-200",children:"Crear cuenta nueva"})]})};export{L as default};
