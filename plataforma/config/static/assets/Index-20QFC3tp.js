import{r as s,G as E,j as e,S as y,B as o,f as g,D as k}from"./react-sWiKbk-Z.js";import{A as N}from"./AppLayout-BJnk0JD9.js";import{E as b}from"./EnhancedDataTable-BPwqwYJ3.js";import A from"./CustomerCreate-DaL9XXOI.js";import D from"./CustomerEdit-D4WSVWe_.js";import O from"./CustomerDelete-BlKIbHV5.js";import"./inertia-Dgc5Zg7U.js";import"./axios-ngrFHoWO.js";import"./vendor-Z5AVMo_k.js";import"./app-DEFaNKxM.js";import"./BaseDrawer-BkvK-6Gl.js";import"./ModalDeleteBase-s8Hnz31H.js";const z=({customers:n,estado_choices:d})=>{const[c,r]=s.useState(!1),[m,a]=s.useState(!1),[p,i]=s.useState(!1),l=E({}),u=[{key:"name",title:"NOMBRE"},{key:"email",title:"EMAIL"},{key:"rank",title:"RANGO"},{key:"credits",title:"CREDITOS"},{key:"estado",title:"ESTADO"},{key:"actions",title:"ACCIONES"}],x={status:null},h=["id","name","email","estado"],f=t=>t==="ACTIVO"?"success":"danger",j=t=>{l.get(`/vendedor/clientes/show/${t}/`,{preserveState:!0,onSuccess:()=>a(!0)})},C=t=>{l.get(`/vendedor/clientes/show/${t}/`,{preserveState:!0,onSuccess:()=>i(!0)})};return e.jsxs(N,{children:[e.jsx(y,{title:"Clientes"}),e.jsxs("div",{className:"p-4 md:p-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"GestiÃ³n de Clientes"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Administra, crea y edita los usuarios del sistema."})]}),e.jsx(o,{icon:"pi pi-plus",label:"Agregar Usuario",onClick:()=>r(!0),className:"mt-4 sm:mt-0"})]}),e.jsx(b,{data:n,headers:u,sortableColumns:h,defaultFilters:x,routeSearch:"/vendedor/clientes/",placeholderSearch:"Buscar por nombre o correo...",renderFilters:(t,v,S)=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-1 block",children:"Estado"}),e.jsx(k,{value:t.status,options:d,optionLabel:"1",optionValue:"0",placeholder:"Todos",className:"w-full",showClear:!0,onChange:w=>{v("status",w.value),setTimeout(()=>S(),0)}})]})}),renderBody:{estado:t=>e.jsx(g,{value:t.estado,severity:f(t.estado),rounded:!0}),actions:t=>e.jsxs("div",{className:"flex justify-start gap-2",children:[e.jsx(o,{icon:"pi pi-pencil",text:!0,rounded:!0,severity:"info",tooltip:"Editar",tooltipOptions:{position:"top"},onClick:()=>j(t.id)}),e.jsx(o,{icon:"pi pi-trash",text:!0,rounded:!0,severity:"danger",tooltip:"Eliminar",tooltipOptions:{position:"top"},onClick:()=>C(t.id)})]})}}),e.jsx(A,{show:c,onClose:()=>r(!1)}),e.jsx(D,{show:m,onClose:()=>a(!1)}),e.jsx(O,{show:p,onClose:()=>i(!1)})]})]})};export{z as default};
