import{X as f,G as h,r as u,j as e,e as g,K as j,C as x,I as t,i as N,k as v}from"./react-sWiKbk-Z.js";import{B as k}from"./BaseDrawer-BkvK-6Gl.js";import"./inertia-Dgc5Zg7U.js";import"./axios-ngrFHoWO.js";import"./vendor-Z5AVMo_k.js";const D=({show:l,onClose:n})=>{const i=f(),{data:s,setData:r,post:p,processing:d,reset:c,errors:_,isDirty:b,clearErrors:o}=h({id:null,first_name:"",last_name:"",email:"",username:"",phone_number:"",password:"",current_rank:null,credits:0});u.useEffect(()=>{const a=i.props.customer;a&&(r({id:a.id,first_name:a.first_name||"",last_name:a.last_name||"",email:a.email||"",username:a.username||"",phone_number:a.phone_number||"",password:"",current_rank:a.current_rank,credits:a.credits||0}),o())},[i.props.customer]),u.useEffect(()=>{if(!l){const a=setTimeout(()=>{c(),o()},400);return()=>clearTimeout(a)}},[l]);const m=()=>{const a={...s};a.password||delete a.password,p("/vendedor/clientes/update/",{data:a,onSuccess:()=>{n(),o(),c()}})};return e.jsx(k,{show:l,title:"Editar Cliente",subtitle:"Actualiza los datos del cliente",icon:"pi pi-user-edit",confirmLabel:"Actualizar Cliente",loading:d,disabled:!b||!s.first_name||!s.last_name||!s.email,onConfirm:m,onCancel:n,children:e.jsxs("main",{className:"py-4 sm:py-6 relative",children:[d&&e.jsx("div",{className:"absolute inset-0 bg-slate-100/50 dark:bg-slate-900/50 z-10 flex items-center justify-center backdrop-blur-sm",children:e.jsx(g,{strokeWidth:"4",animationDuration:".5s",style:{width:"50px",height:"50px"}})}),e.jsx(j,{show:l,enter:"transition ease-out duration-500",enterFrom:"opacity-0 translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-300",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-4",children:e.jsxs("form",{onSubmit:a=>{a.preventDefault(),m()},className:"space-y-6",children:[e.jsx(x,{className:"shadow-xl rounded-2xl border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-shadow duration-300",title:e.jsxs("div",{className:"flex items-center gap-3 text-lg font-bold text-slate-700 dark:text-slate-200",children:[e.jsx("i",{className:"pi pi-id-card text-blue-500"}),e.jsx("span",{children:"Datos Personales"})]}),children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"first_name",className:"text-slate-600 dark:text-slate-300 font-semibold",children:"Nombre"}),e.jsx(t,{id:"first_name",value:s.first_name,onChange:a=>r("first_name",a.target.value),className:"w-full rounded-lg border border-slate-300 dark:border-slate-700 p-3 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-colors duration-200",placeholder:"Ej: Roberto"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"last_name",className:"text-slate-600 dark:text-slate-300 font-semibold",children:"Apellido"}),e.jsx(t,{id:"last_name",value:s.last_name,onChange:a=>r("last_name",a.target.value),className:"w-full rounded-lg border border-slate-300 dark:border-slate-700 p-3 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-colors duration-200",placeholder:"Ej: Gonzalex"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"phone_number",className:"text-slate-600 dark:text-slate-300 font-semibold",children:"Número de Teléfono"}),e.jsx(t,{id:"phone_number",value:s.phone_number,onChange:a=>r("phone_number",a.target.value),className:"w-full rounded-lg border border-slate-300 dark:border-slate-700 p-3 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-colors duration-200",placeholder:"Ej: 999999999"})]})]})}),e.jsx(x,{className:"shadow-xl rounded-2xl border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-shadow duration-300",title:e.jsxs("div",{className:"flex items-center gap-3 text-lg text-slate-700 dark:text-slate-200",children:[e.jsx("i",{className:"pi pi-cog text-blue-500"}),e.jsx("span",{children:"Configuración de la Cuenta"})]}),children:e.jsx("div",{className:"space-y-10 mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"email",className:"text-slate-600 dark:text-slate-300 font-semibold",children:"Correo Electrónico"}),e.jsx(t,{id:"email",value:s.email,onChange:a=>r("email",a.target.value),type:"email",className:"w-full rounded-lg border border-slate-300 dark:border-slate-700 p-3 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-colors duration-200",placeholder:"Ej: correo@email.com"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"username",className:"text-slate-600 dark:text-slate-300 font-semibold",children:"Nombre de usuario"}),e.jsx(t,{id:"username",value:s.username,onChange:a=>r("username",a.target.value),className:"w-full rounded-lg border border-slate-300 dark:border-slate-700 p-3 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-colors duration-200",placeholder:"Ej: username"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"password",class:"text-slate-600 dark:text-slate-300 font-semibold",children:"Contraseña"}),e.jsx(N,{id:"password",value:s.password,onChange:a=>r("password",a.target.value),toggleMask:!0,inputClassName:"w-full rounded-lg border border-slate-300 dark:border-slate-700 p-3 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-colors duration-200",className:"w-full",placeholder:"Ej: contraseña"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"credits",className:"text-slate-600 dark:text-slate-300 font-semibold",children:"Creditos"}),e.jsx(v,{id:"credits",value:s.credits,onValueChange:a=>r("credits",a.value||0),min:0,inputClassName:"w-full rounded-lg border border-slate-300 dark:border-slate-700 p-3 focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-colors duration-200",className:"w-full",placeholder:"Ej: 10"})]}),e.jsx("div",{children:e.jsx("label",{className:"block text-sm font-medium text-slate-500 dark:text-slate-400 mb-2",children:"Rango"})})]})})})]})})]})})};export{D as default};
