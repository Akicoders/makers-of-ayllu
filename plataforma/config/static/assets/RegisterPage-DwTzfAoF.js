import{r as l,G as B,j as e,I as d,h as n,B as f,i as D,l as M,x as V}from"./react-sWiKbk-Z.js";import{u as L}from"./app-DEFaNKxM.js";import{A as G}from"./AuthLayout-BW1xDVse.js";import"./inertia-Dgc5Zg7U.js";import"./axios-ngrFHoWO.js";import"./vendor-Z5AVMo_k.js";import"./FloatingConfigurator-DSB3k6EL.js";const X=({hcaptchaSitekey:R})=>{const{darkMode:C}=L(),m=l.useRef(null),[o,u]=l.useState(1),p=l.useRef(null),b=l.useRef(null),g=l.useRef(null),j=l.useRef(null),N=l.useRef(null),y=l.useRef(null),k=l.useRef(null),{data:a,setData:x,post:E,processing:h,errors:s,clearErrors:v,reset:S}=B({first_name:"",last_name:"",phone_number:"",email:"",username:"",password:"",hcaptcha:"",ip_address:""}),w=a.first_name.trim().length>0&&a.last_name.trim().length>0&&/^[0-9]{9}$/.test(a.phone_number),_=a.email.trim().length>0&&a.username.trim().length>0&&a.password.length>=8&&a.hcaptcha.length>0,A=t=>{x("hcaptcha",t),s.hcaptcha&&v("hcaptcha")},T=()=>{x("hcaptcha","")},$=async()=>{try{return(await(await fetch("https://api.ipify.org/?format=json")).json()).ip}catch(t){return console.error("Error al obtener la IP:",t),""}},O=async t=>{if(t.preventDefault(),!_)return;const c=await $();E("/register/",{onBefore:z=>{z.data.ip_address=c},onSuccess:()=>{S(),u(1)},onError:()=>{m.current&&m.current.resetCaptcha()}})},P=()=>{w&&u(2)},F=()=>{u(1)},i=(t,c)=>{x(t,c),s[t]&&v(t)},r=t=>t?Array.isArray(t)?t[0]:t:null,I=e.jsxs("h1",{className:"text-5xl font-extrabold mb-6 leading-tight text-white",children:["Únete a la ",e.jsx("span",{className:"text-cyan-400",children:"comunidad"})]});return e.jsxs(G,{title:I,subtitle:"Crea tu cuenta hoy y comienza a disfrutar de todos nuestros servicios y herramientas exclusivas.",children:[e.jsxs("div",{className:"text-center lg:text-left mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Crear Cuenta"}),e.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2 text-sm",children:[e.jsx("span",{className:`h-2 w-2 rounded-full ${o>=1?"bg-cyan-500":"bg-slate-200 dark:bg-slate-700"}`}),e.jsx("span",{className:`h-2 w-2 rounded-full ${o>=2?"bg-cyan-500":"bg-slate-200 dark:bg-slate-700"}`}),e.jsx("span",{className:"text-slate-500 ml-2",children:o===1?"Datos Personales":"Configuración de Cuenta"})]})]}),o===1&&e.jsxs("div",{className:"space-y-6 animate-fadein",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 ml-1",children:"Nombre"}),e.jsx(d,{id:"first_name",value:a.first_name,onChange:t=>i("first_name",t.target.value),className:`w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 text-slate-900 dark:text-white placeholder:text-slate-400 focus:border-cyan-500 focus:ring-4 focus:ring-cyan-500/10 transition-all duration-200 outline-none shadow-sm ${s.first_name?"!border-red-500 focus:!ring-red-500/10":""}`,placeholder:"Tu nombre"}),e.jsx(n,{in:!!s.first_name,timeout:300,classNames:"slide-fade",unmountOnExit:!0,nodeRef:p,children:e.jsx("div",{ref:p,children:e.jsx("small",{className:"text-red-500 text-xs font-medium block mt-1.5 ml-1",children:r(s.first_name)})})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 ml-1",children:"Apellido"}),e.jsx(d,{id:"last_name",value:a.last_name,onChange:t=>i("last_name",t.target.value),className:`w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 text-slate-900 dark:text-white placeholder:text-slate-400 focus:border-cyan-500 focus:ring-4 focus:ring-cyan-500/10 transition-all duration-200 outline-none shadow-sm ${s.last_name?"!border-red-500 focus:!ring-red-500/10":""}`,placeholder:"Tu apellido"}),e.jsx(n,{in:!!s.last_name,timeout:300,classNames:"slide-fade",unmountOnExit:!0,nodeRef:b,children:e.jsx("div",{ref:b,children:e.jsx("small",{className:"text-red-500 text-xs font-medium block mt-1.5 ml-1",children:r(s.last_name)})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 ml-1",children:"Teléfono"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:e.jsx("i",{className:"pi pi-phone text-slate-400"})}),e.jsx(d,{id:"phone_number",value:a.phone_number,onChange:t=>i("phone_number",t.target.value),className:`w-full pl-12 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 text-slate-900 dark:text-white placeholder:text-slate-400 focus:border-cyan-500 focus:ring-4 focus:ring-cyan-500/10 transition-all duration-200 outline-none shadow-sm ${s.phone_number?"!border-red-500 focus:!ring-red-500/10":""}`,placeholder:"999999999",maxLength:9})]}),e.jsx(n,{in:!!s.phone_number,timeout:300,classNames:"slide-fade",unmountOnExit:!0,nodeRef:g,children:e.jsx("div",{ref:g,children:e.jsx("small",{className:"text-red-500 text-xs font-medium block mt-1.5 ml-1",children:r(s.phone_number)})})})]}),e.jsx("div",{className:"pt-4 flex justify-end",children:e.jsx(f,{label:"Siguiente",icon:"pi pi-arrow-right",iconPos:"right",disabled:!w,onClick:P,className:"px-8 py-3 font-bold text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg shadow-lg shadow-cyan-500/20 transition-all duration-200"})})]}),o===2&&e.jsxs("form",{onSubmit:O,className:"space-y-6 animate-fadein",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 ml-1",children:"Correo Electrónico"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:e.jsx("i",{className:"pi pi-envelope text-slate-400"})}),e.jsx(d,{id:"email",value:a.email,onChange:t=>i("email",t.target.value),className:`w-full pl-12 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 text-slate-900 dark:text-white placeholder:text-slate-400 focus:border-cyan-500 focus:ring-4 focus:ring-cyan-500/10 transition-all duration-200 outline-none shadow-sm ${s.email?"!border-red-500 focus:!ring-red-500/10":""}`,placeholder:"ejemplo@email.com"})]}),e.jsx(n,{in:!!s.email,timeout:300,classNames:"slide-fade",unmountOnExit:!0,nodeRef:j,children:e.jsx("div",{ref:j,children:e.jsx("small",{className:"text-red-500 text-xs font-medium block mt-1.5 ml-1",children:r(s.email)})})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 ml-1",children:"Usuario"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:e.jsx("i",{className:"pi pi-user text-slate-400"})}),e.jsx(d,{id:"username",value:a.username,onChange:t=>i("username",t.target.value),className:`w-full pl-12 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 text-slate-900 dark:text-white placeholder:text-slate-400 focus:border-cyan-500 focus:ring-4 focus:ring-cyan-500/10 transition-all duration-200 outline-none shadow-sm ${s.username?"!border-red-500 focus:!ring-red-500/10":""}`,placeholder:"usuario123"})]}),e.jsx(n,{in:!!s.username,timeout:300,classNames:"slide-fade",unmountOnExit:!0,nodeRef:N,children:e.jsx("div",{ref:N,children:e.jsx("small",{className:"text-red-500 text-xs font-medium block mt-1.5 ml-1",children:r(s.username)})})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 ml-1",children:"Contraseña"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-10",children:e.jsx("i",{className:"pi pi-lock text-slate-400"})}),e.jsx(D,{id:"password",value:a.password,onChange:t=>i("password",t.target.value),toggleMask:!0,feedback:!1,inputStyle:{width:"100%"},style:{width:"100%"},inputClassName:"w-full pl-12 pr-10 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 text-slate-900 dark:text-white placeholder:text-slate-400 focus:border-cyan-500 focus:ring-4 focus:ring-cyan-500/10 transition-all duration-200 outline-none shadow-sm",className:"w-full flex",placeholder:"••••••••"})]}),e.jsx(n,{in:!!s.password,timeout:300,classNames:"slide-fade",unmountOnExit:!0,nodeRef:y,children:e.jsx("div",{ref:y,children:e.jsx("small",{className:"text-red-500 text-xs font-medium block mt-1.5 ml-1",children:r(s.password)})})})]}),e.jsx("div",{className:"flex justify-center py-2",children:e.jsx(M,{ref:m,sitekey:R,onVerify:A,onExpire:T,theme:C?"dark":"light"})}),e.jsx(n,{in:!!s.hcaptcha,timeout:300,classNames:"slide-fade",unmountOnExit:!0,nodeRef:k,children:e.jsx("div",{ref:k,children:e.jsx("small",{className:"text-red-500 text-xs block text-center",children:r(s.hcaptcha)})})}),e.jsxs("div",{className:"flex justify-between items-center pt-4 gap-4",children:[e.jsx(f,{label:"Atrás",icon:"pi pi-arrow-left",severity:"secondary",onClick:F,className:"px-6 py-3 font-medium bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-lg border border-slate-200 dark:border-slate-700 transition-all",type:"button"}),e.jsx(f,{label:"Crear Cuenta",icon:h?"pi pi-spin pi-spinner":"pi pi-check-circle",iconPos:"right",disabled:!_||h,type:"submit",loading:h,className:"flex-1 px-6 py-3 font-bold text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg shadow-lg shadow-cyan-500/20 transition-all duration-200"})]})]}),e.jsxs("div",{className:"relative mt-8",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-800"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white/70 dark:bg-slate-900/70 lg:bg-white lg:dark:bg-slate-950 text-slate-500",children:"¿Ya tienes cuenta?"})})]}),e.jsx(V,{href:"/",className:"flex items-center justify-center w-full mt-6 py-3.5 font-medium text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-all duration-200",children:"Iniciar Sesión"})]})};export{X as default};
